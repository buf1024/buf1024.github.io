<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>c on BUF1024!!!</title>
    <link>https://luoguochun.cn/categories/c/</link>
    <description>Recent content in c on BUF1024!!!</description>
    <generator>Hugo -- gohugo.io</generator>
    <language>zh-cn</language>
    <copyright>Copyletf buf2024</copyright>
    <lastBuildDate>Sat, 03 Jun 2017 11:19:25 +0800</lastBuildDate><atom:link href="https://luoguochun.cn/categories/c/index.xml" rel="self" type="application/rss+xml" />
    <item>
      <title>çº¿ç¨‹åŒæ­¥ä¸åŸå­å˜é‡</title>
      <link>https://luoguochun.cn/post/2017-06-03-synchronize-atomic-variable/</link>
      <pubDate>Sat, 03 Jun 2017 11:19:25 +0800</pubDate>
      
      <guid>https://luoguochun.cn/post/2017-06-03-synchronize-atomic-variable/</guid>
      <description>&lt;p&gt;æ— è®ºæ˜¯åŸºäºå¤šçº¿ç¨‹è¿˜æ˜¯å¤šè¿›ç¨‹å¹¶å‘çš„ç¨‹åºï¼ŒåŒæ­¥æ§åˆ¶æ€»æ˜¯ä¸å¯é¿å…çš„ã€‚æŒ‰ç…§è‡ªå·±çš„æ€ç»´å’Œä½¿ç”¨ä¹ æƒ¯ï¼Œè‡ªç„¶ä¼šæƒ³åˆ°çš„æ˜¯äº’æ–¥é‡(mutext)å’Œè‡ªæ—‹é”(spin lock)ï¼Œå½“ç„¶åŒæ­¥çš„æ–¹å¼ä¸åªè¿™ä¸¤ç§ã€‚gccæä¾›äº†ï¼Œ&lt;code&gt;__sync_*&lt;/code&gt;ç³»åˆ—çš„å†…ç½®å‡½æ•°ï¼Œç”¨äºå¯¹&lt;strong&gt;åŸºæœ¬æ•°æ®ç±»å‹&lt;/strong&gt;çš„åŸå­æ“ä½œã€‚&lt;code&gt;__sync_*&lt;/code&gt;é’ˆå¯¹çš„æ˜¯c/c++çš„&lt;strong&gt;åŸºæœ¬æ•°æ®ç±»å‹&lt;/strong&gt;ï¼Œè€Œäº’æ–¥é‡å’Œè‡ªæ—‹é”å¯ä»¥ç”¨äºä»£ç å—çš„åŒæ­¥ï¼Œå½“ç„¶ï¼Œä¹Ÿä¸æ˜¯è¯´&lt;code&gt;__sync_*&lt;/code&gt;ä¸èƒ½ç”¨äºä»£ç å—çš„åŒæ­¥æ§åˆ¶ï¼Œåªéœ€è¦ä¸€ç‚¹ç‚¹çš„æŠ€å·§ã€‚&lt;/p&gt;
&lt;p&gt;åœ¨æ’¸&lt;code&gt;__sync_*&lt;/code&gt;ç³»åˆ—å‡½æ•°ä¹‹å‰ï¼Œå…ˆçœ‹çœ‹ä¸€ä¸¢ä¸¢å¹¶å‘ç¨‹åºæ˜“å¿½ç•¥çš„æŠ€å·§ã€‚ä¸ºäº†æé«˜æ•ˆç‡ï¼Œæˆ‘ä»¬å¸Œæœ›çº¿ç¨‹çš„è°ƒåº¦çº§åˆ«å’Œç³»ç»Ÿæ™®é€šè¿›ç¨‹çš„è°ƒåº¦çº§åˆ«ä¸€æ ·çš„ï¼Œä¸ºäº†å……åˆ†åˆ©ç”¨cpuçš„cacheç‰¹æ€§ï¼Œæˆ‘ä»¬è¿˜å¸Œæœ›æ¯æ¬¡ç³»ç»Ÿè°ƒåº¦æ—¶éƒ½ç»‘å®šåˆ°åŒä¸€ä¸ªcpuä¸­æ‰§è¡Œã€‚å‰è€…ï¼Œå·²ç»ä½¿ç”¨è¿‡äº†ï¼š&lt;code&gt;pthread_attr_setscope(&amp;amp;attr, PTHREAD_SCOPE_SYSTEM)&lt;/code&gt;ï¼Œåè€…ï¼Œå«cpuäº²å’Œæ€§ï¼ˆä¹Ÿæœ‰å«äº²ç¼˜æ€§ï¼Œè‹±æ–‡ï¼šaffinityï¼‰ï¼Œç”¨åˆ°çš„apiä¸»è¦æœ‰ï¼š&lt;code&gt;sched_setaffinity&lt;/code&gt; å’Œ &lt;code&gt;sched_getaffinity&lt;/code&gt;ï¼Œä½¿ç”¨æ–¹å¼ä¹Ÿæ˜¯æŒºç®€å•çš„ï¼Œå¦‚ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;5
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;6
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;7
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-C&#34; data-lang=&#34;C&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;c1&#34;&gt;// çº¿ç¨‹/è¿›ç¨‹èµ·æ¥å
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;    &lt;span class=&#34;nf&#34;&gt;CPU_ZERO&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;&amp;amp;&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;set&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;nf&#34;&gt;CPU_SET&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;proc_num&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;amp;&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;set&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;sched_setaffinity&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;gettid&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(),&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;sizeof&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt; &lt;span class=&#34;kt&#34;&gt;cpu_set_t&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;),&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;amp;&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;set&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;))&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;c1&#34;&gt;// ...
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;    &lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;æˆ‘ä»¬å†çœ‹çœ‹ä¹ æƒ¯æ€ç»´çš„åŒæ­¥å·¥å…·ï¼Œäº’æ–¥é”ï¼ˆmutextï¼‰å’Œè‡ªæ—‹é”(spin lock)çš„åŒºåˆ«ã€‚äº’æ–¥é”æ˜¯sleep-waitingç±»å‹çš„é”ï¼Œä¾‹å¦‚ï¼Œåœ¨å¤šæ ¸çš„ç¯å¢ƒä¸­ï¼ŒAçº¿ç¨‹å¦‚æœå°è¯•å¯¹Bçº¿ç¨‹è¿›è¡ŒåŠ äº’æ–¥é”ï¼Œå¦‚æœäº’æ–¥é”å·²ç»è¢«Bçº¿ç¨‹å ç”¨ï¼Œé‚£ä¹ˆAçº¿ç¨‹å°±ä¼šè¿›å…¥ç­‰ç­‰çŠ¶æ€ï¼Œé‚£ä¹ˆç³»ç»Ÿå°±ä¼šå¯¹Açº¿ç¨‹è¿›è¡Œä¸Šä¸‹æ–‡åˆ‡æ¢(conext switch)ï¼Œè®©å‡ºCPUä½¿ç”¨æƒï¼Œä¸Šä¸‹æ–‡åˆ‡æ¢(conext switch)æ˜¯æ¯”è¾ƒè€—æ—¶çš„æ“ä½œçš„ã€‚è€Œè‡ªæ—‹é”çš„å¤„ç†æ–¹å¼åˆ™ä¸ä¼šè¿›è¡Œä¸Šä¸‹æ–‡åˆ‡æ¢ï¼Œè€Œæ˜¯è®©cpuä¸æ–­çš„è½®è¯¢çš„è·å–é”ã€‚è‡ªæ—‹é”çš„CPUè½®è¯¢å’Œäº’æ–¥é”çš„ä¸Šä¸‹æ–‡åˆ‡æ¢åŒæ ·æ˜¯è€—æ€§èƒ½çš„ï¼Œå¤§å¤šæ•°æƒ…å†µä¸‹ï¼Œæœ‰é™æ—¶é—´å†…çš„CPUè½®è¯¢æ¯”äº’æ–¥é”çš„ä¸Šä¸‹æ–‡åˆ‡æ¢è½»é‡å¤ªå¤šäº†ã€‚é‚£ä¹ˆä»€ä¹ˆæƒ…å†µä¸‹ä½¿ç”¨äº’æ–¥é”ï¼ˆmutextï¼‰å’Œè‡ªæ—‹é”(spin lock)å‘¢ï¼Œæœ‰äººæ€»ç»“è¯´ï¼Œå°½ç®¡äº’æ–¥é”æ¶ˆè€—çš„èµ„æºç›¸å¯¹å¤šï¼ˆä¸Šä¸‹æ–‡åˆ‡æ¢ï¼‰ï¼Œä½†äº’æ–¥é”æ˜¯é€‚ç”¨æƒ…å†µè¿˜æ˜¯æ¯”è¾ƒå¹¿ï¼Œå¤§å¤šæ•°æƒ…å†µä¸‹è¿˜æ˜¯é€‰æ‹©äº’æ–¥é”ï¼Œåœ¨éœ€è¦è¿›è¡Œæ€§èƒ½ä¼˜åŒ–/æˆ–è€…çŸ¥é“é”ä»£ç å—è¿è¡Œæ—¶é—´çš„æƒ…å†µä¸‹ï¼Œæ‰è€ƒè™‘è‡ªæ—‹é”ã€‚&lt;/p&gt;
&lt;p&gt;å¦å¤–æåŠä¸€ä¸‹ï¼Œçº¿ç¨‹å±€éƒ¨å˜é‡ã€‚è¿™ä¸ªåœ¨å…¶ä»–è¯­è¨€æ˜¯æœ‰è¿™ä¸ªæ¦‚å¿µçš„ï¼ŒC/C++ä¹Ÿæ˜¯æœ‰ï¼Œä½†æ˜¯ç»å¸¸å®¹æ˜“å¿½ç•¥ã€‚çº¿ç¨‹å±€éƒ¨å˜é‡ï¼Œä½¿ç”¨&lt;code&gt;__thread&lt;/code&gt;ä¿®é¥°ï¼Œä½¿ç”¨æ—¶æœ‰å±€é™æ€§ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;__thread&lt;/code&gt;å¯ä»¥ä¿®é¥°å…¨å±€å˜é‡ã€å‡½æ•°çš„é™æ€å˜é‡ï¼Œä½†æ˜¯æ— æ³•ä¿®é¥°å‡½æ•°çš„å±€éƒ¨å˜é‡ã€‚&lt;/li&gt;
&lt;li&gt;è¢«&lt;code&gt;__thread&lt;/code&gt;ä¿®é¥°çš„å˜é‡åªèƒ½åœ¨ç¼–è¯‘æœŸåˆå§‹åŒ–ï¼Œä¸”åªèƒ½é€šè¿‡å¸¸é‡è¡¨è¾¾å¼æ¥åˆå§‹åŒ–&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;æˆ‘ä»¬æ­£å¼çœ‹ä¸€ä¸‹gccæä¾›çš„åŸå­æ“ä½œï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt; 1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 5
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 6
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 7
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 8
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 9
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;10
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;11
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;12
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;13
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;14
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;15
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;16
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;17
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;18
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;19
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;20
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-C&#34; data-lang=&#34;C&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;n&#34;&gt;type&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;__sync_fetch_and_add&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;type&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;*&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;ptr&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;type&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;value&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;...)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;n&#34;&gt;type&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;__sync_fetch_and_sub&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;type&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;*&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;ptr&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;type&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;value&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;...)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;n&#34;&gt;type&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;__sync_fetch_and_or&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;type&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;*&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;ptr&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;type&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;value&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;...)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;n&#34;&gt;type&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;__sync_fetch_and_and&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;type&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;*&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;ptr&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;type&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;value&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;...)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;n&#34;&gt;type&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;__sync_fetch_and_xor&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;type&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;*&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;ptr&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;type&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;value&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;...)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;n&#34;&gt;type&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;__sync_fetch_and_nand&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;type&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;*&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;ptr&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;type&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;value&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;...)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;n&#34;&gt;type&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;__sync_add_and_fetch&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;type&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;*&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;ptr&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;type&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;value&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;...)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;n&#34;&gt;type&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;__sync_sub_and_fetch&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;type&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;*&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;ptr&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;type&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;value&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;...)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;n&#34;&gt;type&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;__sync_or_and_fetch&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;type&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;*&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;ptr&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;type&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;value&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;...)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;n&#34;&gt;type&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;__sync_and_and_fetch&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;type&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;*&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;ptr&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;type&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;value&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;...)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;n&#34;&gt;type&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;__sync_xor_and_fetch&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;type&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;*&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;ptr&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;type&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;value&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;...)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;n&#34;&gt;type&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;__sync_nand_and_fetch&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;type&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;*&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;ptr&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;type&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;value&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;...)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;kt&#34;&gt;bool&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;__sync_bool_compare_and_swap&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;type&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;*&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;ptr&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;type&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;oldval&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;type&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;newval&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;...)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;n&#34;&gt;type&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;__sync_val_compare_and_swap&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;type&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;*&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;ptr&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;type&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;oldval&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;type&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;newval&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;...)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nf&#34;&gt;__sync_synchronize&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;(...)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;n&#34;&gt;type&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;__sync_lock_test_and_set&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;type&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;*&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;ptr&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;type&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;value&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;...)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;kt&#34;&gt;void&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;__sync_lock_release&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;type&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;*&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;ptr&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;...)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;&lt;code&gt;__sync_*&lt;/code&gt;ç³»åˆ—å‡½æ•°æ“ä½œçš„æ•°æ®éƒ½æ˜¯åŸå§‹çš„æ•°æ®ç±»å‹ï¼Œä»åå­—çœ‹ï¼Œå¾ˆå®¹æ˜“çŒœå‡ºå®ƒä»¬çš„ç”¨é€”ã€‚æœ€åä¸‰ä¸ªä½¿ç”¨çš„æ¯”è¾ƒå°‘ï¼Œæ˜¯å†…å­˜å£å’çš„å«ä¹‰ï¼Œç°ä»£CPUéƒ½æ˜¯ä¹±åºæ‰§è¡Œçš„ï¼Œæœ‰äº›æƒ…å†µä¸‹ä¹±åºæ‰§è¡Œä¼šæœ‰é—®é¢˜ï¼Œæ‰€ä»¥éœ€è¦é¡ºåºæ‰§è¡Œï¼Œè¿™å°±æ˜¯è¿™ä¸‰ä¸ªå‡½æ•°çš„ç”¨å¤„ã€‚æœ€å¼€å§‹è¯´è¿‡ï¼Œ&lt;code&gt;__sync_*&lt;/code&gt;ç”¨äºä»£ç å—çš„åŒæ­¥æ§åˆ¶ï¼Œéœ€è¦ä¸€ä¸¢ä¸¢çš„æŠ€å·§ã€‚æ¯”å¦‚ç”¨äºä»£ç å—çš„å°è£…:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;5
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;6
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;7
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;8
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;9
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-C&#34; data-lang=&#34;C&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;cp&#34;&gt;#define trylock(lock)  (*(lock) == 0 &amp;amp;&amp;amp; __sync_bool_compare_and_swap(lock, 0, 1))
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;cp&#34;&gt;#define unlock(lock)    *(lock) = 0
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;cp&#34;&gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;// ä½¿ç”¨
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;if&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;!&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;trylock&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;&amp;amp;&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;lock&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;))&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;p&#34;&gt;...&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nf&#34;&gt;unlock&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;&amp;amp;&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;lock&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;ä¸Šé¢è¯´è‡ªæ—‹é”é”è¢«å ç”¨æ—¶ï¼Œç©ºè€—CPUï¼Œä½¿ç”¨åŸå­å˜é‡ï¼Œå¯ä»¥è¿›è¡Œä¸€å®šç¨‹åº¦çš„ä¼˜åŒ–ï¼Œå’ŒåŸæ¥çš„è‡ªæ—‹é”çš„ä¼˜åŒ–æ˜¯ï¼Œè‡ªæ—‹ä¸€å®šæ¬¡æ•°åï¼Œä¸»åŠ¨äº¤å‡ºCPUçš„æ§åˆ¶æƒï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt; 1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 5
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 6
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 7
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 8
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 9
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;10
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;11
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;12
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;13
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;14
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;15
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;16
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;17
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;18
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;19
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;20
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;21
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-C&#34; data-lang=&#34;C&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;kt&#34;&gt;void&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;spinlock&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;kt&#34;&gt;uint_t&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;*&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;lock&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;kt&#34;&gt;uint_t&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;spin&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;kt&#34;&gt;ngx_uint_t&lt;/span&gt;  &lt;span class=&#34;n&#34;&gt;i&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;n&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;k&#34;&gt;for&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;(&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;;;&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;*&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;lock&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;==&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;0&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;amp;&amp;amp;&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;__sync_bool_compare_and_swap&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;lock&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;0&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;))&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;ncpu&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt; &lt;span class=&#34;c1&#34;&gt;// ncpu CPUä¸ªæ•°
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;            &lt;span class=&#34;k&#34;&gt;for&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;n&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;n&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;lt;&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;spin&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;n&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;lt;&amp;lt;=&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;                &lt;span class=&#34;k&#34;&gt;for&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;i&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;0&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;i&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;lt;&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;n&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;i&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;++&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;                    &lt;span class=&#34;c1&#34;&gt;// cpu_pause(); ç©ºè½¬
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;                &lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;                &lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;*&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;lock&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;==&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;0&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;amp;&amp;amp;&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;__sync_bool_compare_and_swap&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;lock&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;0&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;))&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;                    &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;                &lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            &lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;nf&#34;&gt;sched_yield&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;();&lt;/span&gt; &lt;span class=&#34;c1&#34;&gt;// åªæ—‹ä¸€ä¸ªå‘¨æœŸï¼Œæ²¡æœ‰è·å–åˆ°é”ï¼Œé€€å‡ºCPUæ§åˆ¶æƒ
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;    &lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;æ­£å¸¸çš„åº”ç”¨ä¸šåŠ¡æˆ–è®¸ä¸ä¼šç”¨åˆ°&lt;code&gt;__sync_*&lt;/code&gt;ç³»åˆ—å‡½æ•°ï¼Œä½†å¦‚æœä½¿ç”¨äº†æ— ç–‘å¯ä»¥è¿›ä¸€æ­¥æé«˜å•ä¸ªåº”ç”¨çš„æ€§èƒ½ã€‚&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>éšè—makeç¼–è¯‘çš„ç¼–è¯‘è¾“å‡º</title>
      <link>https://luoguochun.cn/post/2014-07-04-hide-compile-output/</link>
      <pubDate>Fri, 04 Jul 2014 16:45:00 +0000</pubDate>
      
      <guid>https://luoguochun.cn/post/2014-07-04-hide-compile-output/</guid>
      <description>&lt;p&gt;ç¼–è¯‘ç¨‹åºmakeæ—¶ï¼Œä¼šçœ‹åˆ°å¾ˆå¤šç¼–è¯‘è¾“å‡ºã€‚å¯¹äºå¼€å‘æ¥è¯´ï¼Œè¿™æ˜¯éå¸¸ç›´è§‚çš„ï¼Œä½†æ˜¯å¦‚æœåˆ†å‘åˆ°å®¢æˆ·ï¼ˆéœ€è¦ç¼–è¯‘ï¼‰æˆ–è€…åªéœ€è¦å…³æ³¨é”™è¯¯æ—¶ï¼Œè¿™ç§è¾“å‡ºå°±æ„Ÿè§‰çƒ¦äººã€‚Redisæ˜¯è¿™ä¹ˆåšçš„ï¼š&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;REDIS_CC=$(QUIET_CC)$(CC) $(FINAL_CFLAGS)
REDIS_LD=$(QUIET_LINK)$(CC) $(FINAL_LDFLAGS)
REDIS_INSTALL=$(QUIET_INSTALL)$(INSTALL)

CCCOLOR=&amp;quot;\033[34m&amp;quot;
LINKCOLOR=&amp;quot;\033[34;1m&amp;quot;
SRCCOLOR=&amp;quot;\033[33m&amp;quot;
BINCOLOR=&amp;quot;\033[37;1m&amp;quot;
MAKECOLOR=&amp;quot;\033[32;1m&amp;quot;
ENDCOLOR=&amp;quot;\033[0m&amp;quot;

ifndef V
QUIET_CC = @printf &#39;    %b %b\n&#39; $(CCCOLOR)CC$(ENDCOLOR) $(SRCCOLOR)$@$(ENDCOLOR) 1&amp;gt;&amp;amp;2;
QUIET_LINK = @printf &#39;    %b %b\n&#39; $(LINKCOLOR)LINK$(ENDCOLOR) $(BINCOLOR)$@$(ENDCOLOR) 1&amp;gt;&amp;amp;2;
QUIET_INSTALL = @printf &#39;    %b %b\n&#39; $(LINKCOLOR)INSTALL$(ENDCOLOR) $(BINCOLOR)$@$(ENDCOLOR) 1&amp;gt;&amp;amp;2;
endif
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;åœ¨ç¼–è¯‘å‰åŠ &lt;code&gt;QUIET&lt;/code&gt;é€‰é¡¹ï¼Œæ­£å¸¸çš„ç¼–è¯‘ä¼šå¿½ç•¥æ‰ï¼Œå‡ºé”™æˆ–è­¦å‘Šçš„ä¿¡æ¯ä¼šå®Œæ•´çš„è¾“å‡ºæ¥ã€‚å­¦åˆ°ä¸œè¥¿äº†ï¼ï¼&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>è®¾ç½®è¿›ç¨‹çš„åç§°</title>
      <link>https://luoguochun.cn/post/2014-07-04-set-proccess-title/</link>
      <pubDate>Fri, 04 Jul 2014 10:27:47 +0000</pubDate>
      
      <guid>https://luoguochun.cn/post/2014-07-04-set-proccess-title/</guid>
      <description>&lt;p&gt;###å¦‚ä½•å¼€æ
æˆ‘ä»¬å¹³æ—¶psè¿›ç¨‹æ—¶ï¼Œæ˜¾ç¤ºçš„è¿›ç¨‹æ ‡é¢˜æ˜¯æˆ‘ä»¬è¾“å…¥çš„ç¨‹åºåä»¥åŠä¸€äº›å‚æ•°ã€‚è¿™ç§æ˜¾ç¤ºæ–¹å¼å¹¶ééå¸¸ç›´è§‚ï¼Œæˆ‘ä»¬éœ€è¦ä¸€ç§æ–¹å¼å¯ä»¥è®¾ç½®ç¨‹åºçš„æ ‡é¢˜ï¼Œä¸€çœ¼å°±çŸ¥é“è¯¥è¿›ç¨‹æ—¶ä»€ä¹ˆé¸Ÿã€‚å¦‚redisæˆ–nginx:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;root      8527     1  0 10:30 ?        00:00:00 nginx: master process nginx    
nginx     8528  8527  0 10:30 ?        00:00:00 nginx: worker process    
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;å®ç°çš„åŸç†éå¸¸ç®€å•ï¼Œæˆ‘ä»¬åªéœ€è¦ä¿®æ”¹argv[0],è¯´æŒ‡å‘çš„é‚£æ®µå†…å­˜ç©ºé—´çš„å†…å®¹å³å¯ã€‚ä½†æ˜¯ä¸ºäº†ä½¿ç¨‹åºçš„æ­£å¸¸é€»è¾‘ä¸å—å½±å“ï¼Œäº‹å…ˆè¦æŠŠåŸç†çš„å†…å®¹ä¿å­˜èµ·æ¥ï¼Œå¹¶é€šè¿‡åŸæ¥çš„æ–¹å¼å¯ä»¥è®¿é—®ã€‚&lt;br&gt;
argv[0]æ‰€æŒ‡å‘çš„çš„ç©ºé—´æ˜¯å’ŒÂ·enviornÂ·æ‰€æŒ‡å‘çš„å†…å­˜ç©ºé—´æ˜¯è¿ç»­çš„ï¼Œåœ¨ç¨‹åºå¯åŠ¨çš„æ—¶å€™ï¼Œç³»ç»Ÿå·²ç»è®¾ç½®å¥½è¿™äº›ç©ºé—´äº†ã€‚å¦‚å›¾æ‰€ç¤ºï¼š&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;http://privt-share.qiniudn.com/@/redis/setproctitle.jpg&#34; alt=&#34;&#34;&gt;&lt;/p&gt;
&lt;p&gt;é‚£ä¹ˆï¼Œ1. æˆ‘ä»¬åªéœ€è¦é‡æ–°åˆ†é…ç©ºé—´ï¼ˆä¸ä¸€å®šæ˜¯è¿ç»­çš„ï¼‰æ¥å­˜å‚¨è¿™äº›å†…å®¹ï¼Œå°†åœ°å€åˆ†åˆ«å¤åˆ¶ç»™&lt;code&gt;argv&lt;/code&gt;æˆ–&lt;code&gt;environ&lt;/code&gt;æ•°ç»„ï¼Œè¿™æ ·åŸæ¥ç¨‹åºçš„æµç¨‹ä¸å—å½±å“ã€‚2. æˆ‘ä»¬å¯ä»¥åœ¨åŸ&lt;code&gt;agv&lt;/code&gt;æœ€å¼€å§‹çš„åœ°æ–¹å’Œ&lt;code&gt;environ&lt;/code&gt;æœ€ç»“å°¾çš„åœ°æ–¹ï¼Œéšä¾¿è®¾ç½®ä½ æ˜¾ç¤ºçš„å†…å®¹å³å¯ï¼Œä¹Ÿå°±æ˜¯å›¾ä¸­&lt;code&gt;./exe&lt;/code&gt;å¼€å§‹çš„åœ°æ–¹å’Œ&lt;code&gt;Env5=val5&lt;/code&gt;æœ€åä¸€ä¸ª0ç»“å°¾å¤çš„åœ°æ–¹ã€‚åªéœ€è¦æ³¨æ„åˆ°ï¼Œè®¾ç½®çš„å†…å®¹å¿…é¡»ä¸0ç»“å°¾ï¼Œè€Œä¸”ä¸èƒ½è¶…è¿‡è¯¥å†…å­˜ç©ºé—´ã€‚&lt;/p&gt;
&lt;p&gt;###rediså¦‚ä½•å®ç°
redisçš„å®ç°åœ¨&lt;a href=&#34;https://github.com/antirez/redis/blob/2.8.12/src/setproctitle.c&#34;&gt;setproctitle&lt;/a&gt;é‡Œé¢ã€‚åªæ˜¯å®ç°æœ‰ç‚¹ç–‘æƒ‘ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;argcä¸ªæ•°å°‘äºargvæ•°ç»„æ•°ï¼Ÿ&lt;/p&gt;
&lt;pre&gt;&lt;code&gt; for (i = 0; i &amp;lt; argc || (i &amp;gt;= argc &amp;amp;&amp;amp; argv[i]); i++) {    
     if (!argv[i] || argv[i] &amp;lt; end)
 	    continue;

     end = argv[i] + strlen(argv[i]) + 1;
 }
&lt;/code&gt;&lt;/pre&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;æŒ‰ç…§æˆ‘ä»¬ä¸€ç›´ä»¥æ¥çš„å¸¸è¯†ï¼Œæ˜¯é€šè¿‡argcä»argvé‡Œé¢å–å‡ºæ•°æ®æ¥çš„ï¼Œè€Œä»–è¿™é‡Œ&lt;code&gt;i &amp;lt; argc || (i &amp;gt;= argc &amp;amp;&amp;amp; argv[i])&lt;/code&gt;è¿™ä¸ªæ¡ä»¶æ˜æ˜¾å°±æ˜¯argcå¯èƒ½ä¼šå°‘äºargvä¸ªæ•°ã€‚ä»€ä¹ˆæƒ…å†µä¸‹ä¼šå‡ºç°è¿™ç§æƒ…å†µå‘¢ï¼Ÿ&lt;br&gt;
2. SPT.nulè²Œä¼¼æ²¡æœ‰ç”¨&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;	if (nul &amp;lt; SPT.nul) {
	    *SPT.nul = &#39;.&#39;;
    } else if (nul == SPT.nul &amp;amp;&amp;amp; &amp;amp;nul[1] &amp;lt; SPT.end) {
	    *SPT.nul = &#39; &#39;;
	    *++nul = &#39;\0&#39;;
    }
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;è¿™æ˜¯&lt;code&gt;setproctitle&lt;/code&gt;é‡Œé¢çš„ä¸€ä¸ªå¥‡æ€ªçš„é€»è¾‘ï¼Œæ›´æœ¬æ²¡æƒ³åˆ°ä»–æ˜¯å¹²å˜›ç”¨çš„ã€‚è€Œä¸”è²Œä¼¼SPT.nulåœ¨set proc titleé‡Œé¢æ²¡æœ‰ä»€ä¹ˆä½œç”¨ã€‚&lt;/p&gt;
&lt;p&gt;###ç®€å•åæ§½
è™½ç„¶rediséå¸¸å‡ºåï¼Œä½†æ˜¯redisçš„ä»£ç è²Œä¼¼ä¸æ˜¯å¾ˆè§„èŒƒâ€¦â€¦æˆ–è€…æ˜¯æˆ‘ä»¬ä¸€ç›´æ¥è§¦çš„å°±ä¸è§„èŒƒï¼Œå“ˆâ€¦â€¦&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>æµ®åŠ¨æ•°ä¸0æ¯”è¾ƒ</title>
      <link>https://luoguochun.cn/post/2014-06-28-infinite/</link>
      <pubDate>Sat, 28 Jun 2014 21:40:50 +0000</pubDate>
      
      <guid>https://luoguochun.cn/post/2014-06-28-infinite/</guid>
      <description>&lt;p&gt;###æ— é™å¤§å°
Cè¯­è¨€å¦‚ä½•è¡¨ç¤ºæ— é™å¤§å°ï¼ŒNANï¼Ÿredisé‡Œé¢è¿™ä¹ˆæçš„ï¼š&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;static double R_Zero, R_PosInf, R_NegInf, R_Nan;    
/* Double constants initialization */    
R_Zero = 0.0;    
R_PosInf = 1.0/R_Zero;    
R_NegInf = -1.0/R_Zero;    
R_Nan = R_Zero/R_Zero;    
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;ç®€å•æµ‹è¯•ï¼š&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;#include &amp;lt;stdio.h&amp;gt;    
    
int main()    
{    
    static double R_Zero, R_PosInf, R_NegInf, R_Nan;    
    /* Double constants initialization */    
    R_Zero = 0.0;    
    R_PosInf = 1.0/R_Zero;    
    R_NegInf = -1.0/R_Zero;    
    R_Nan = R_Zero/R_Zero;   
    
    printf(&amp;quot;R_Zero  : %lf\n&amp;quot;
           &amp;quot;R_PosInf: %lf\n&amp;quot;
           &amp;quot;R_NegInf: %lf\n&amp;quot;
           &amp;quot;R_Nan   : %lf\n&amp;quot;,
           R_Zero, R_PosInf, R_NegInf, R_Nan);

    return 0;
}
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;ç»“æœå¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;[heidong@HEIDONGVM tmp]$ ./z 
R_Zero  : 0.000000
R_PosInf: inf
R_NegInf: -inf
R_Nan   : -nan
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;æœç„¶ç¥å¥‡ã€‚&lt;/p&gt;
&lt;h3 id=&#34;æµ®åŠ¨æ•°ä¸0æ¯”è¾ƒ&#34;&gt;æµ®åŠ¨æ•°ä¸0æ¯”è¾ƒ &lt;a href=&#34;#%e6%b5%ae%e5%8a%a8%e6%95%b0%e4%b8%8e0%e6%af%94%e8%be%83&#34; class=&#34;anchor&#34;&gt;ğŸ”—&lt;/a&gt;&lt;/h3&gt;&lt;p&gt;å¤§å­¦æ—¶å€™ï¼Œè€å¸ˆæ•™å¯¼æˆ‘ä»¬ï¼Œæµ®åŠ¨æ•°ä¸è¦ä¸0æ¯”è¾ƒï¼Œå› ä¸ºæµ®ç‚¹æ•°åœ¨è®¡ç®—æœºé‡Œé¢è¡¨ç¤ºçš„æ˜¯è¿‘ä¼¼å€¼ã€‚æ‰€ä»¥å¦‚æœæµ®åŠ¨æ•°è¦ä¸0åšæ¯”è¾ƒå°±ç”¨Â·&amp;lt; 0.000001Â·è¿™ç§é¾Œè¹‰çš„æ–¹å¼ï¼Œæ˜æ˜æ˜¯0ï¼Œå´è¦æä¸ªç¥é©¬0.000001å‡ºæ¥ã€‚ç°åœ¨æˆ‘ä»¬å¯ä»¥è¿™ä¹ˆæ¥ç¨¿äº†ï¼š&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;#include &amp;lt;stdio.h&amp;gt;    
    
int main()    
{    
    static double R_Zero, R_PosInf, R_NegInf, R_Nan;    
    /* Double constants initialization */    
    R_Zero = 0.0;    
    R_PosInf = 1.0/R_Zero;    
    R_NegInf = -1.0/R_Zero;    
    R_Nan = R_Zero/R_Zero;   
    
    printf(&amp;quot;R_Zero  : %lf\n&amp;quot;
           &amp;quot;R_PosInf: %lf\n&amp;quot;
           &amp;quot;R_NegInf: %lf\n&amp;quot;
           &amp;quot;R_Nan   : %lf\n&amp;quot;,
           R_Zero, R_PosInf, R_NegInf, R_Nan);

    double a = 1.0;
    double b = 1.0;

    if(a-b == R_NegInf) {
            printf(&amp;quot;%lf - %lf != 0\n&amp;quot;, a, b);
    }else{
            printf(&amp;quot;%lf - %lf == 0\n&amp;quot;, a, b);
    }
    return 0;
}
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;ç»“æœå¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;[heidong@HEIDONGVM tmp]$ ./z 
R_Zero  : 0.000000
R_PosInf: inf
R_NegInf: -inf
R_Nan   : -nan
1.000000 - 1.000000 == 0
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;ä»¥åå°±å¯ä»¥ç”¨R_NegInfè¿™ç§æ–¹å¼å’Œ0æ¯”è¾ƒäº†ã€‚&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>cæ„é€ å‡½æ•°</title>
      <link>https://luoguochun.cn/post/2014-06-25-c-constructor/</link>
      <pubDate>Wed, 25 Jun 2014 13:00:43 +0000</pubDate>
      
      <guid>https://luoguochun.cn/post/2014-06-25-c-constructor/</guid>
      <description>&lt;h3 id=&#34;æ„é€ å‡½æ•°&#34;&gt;æ„é€ å‡½æ•° &lt;a href=&#34;#%e6%9e%84%e9%80%a0%e5%87%bd%e6%95%b0&#34; class=&#34;anchor&#34;&gt;ğŸ”—&lt;/a&gt;&lt;/h3&gt;&lt;p&gt;ä»»ä½•ä¸€ä»¬é¢å‘å¯¹è±¡è¯­è¨€é‡Œéƒ½ä¼šæ¶‰åŠæ„é€ å‡½æ•°è¿™ä¸€æ¦‚å¿µï¼Œåªæ˜¯å®ç°çš„æ–¹å¼å„æœ‰å·®å¼‚ã€‚éœ€è¦è¿™mainå‡½æ•°ä¹‹å‰æ‰§è¡Œä¸€æ®µä»£ç æ˜¯éå¸¸å®¹æ˜“çš„äº‹æƒ…ï¼Œåªéœ€è¦å£°æ˜ä¸€å¯¹è±¡çš„å…¨å±€å˜é‡ï¼Œåœ¨æ„é€ å‡½æ•°å¯ä»¥ä¸º&lt;em&gt;æ‰€æ¬²ä¸º&lt;/em&gt;å¹²ä½ æƒ³å¹²çš„äº‹æƒ…ã€‚ç„¶è€Œï¼Œå¯¹äºé¢å‘è¿‡ç¨‹çš„è¯­è¨€æ¯”å¦‚Cï¼Œéœ€è¦å®ç°å…¨å±€çš„æ„é€ å‡½æ•°å°±æ¯”è¾ƒå¥‡è‘©ã€‚å½“ç„¶gccä¼šæœ‰å¾ˆä¼˜é›…çš„è§£å†³æ–¹å¼ï¼ŒVCåˆ™çŒ¥çç‚¹ã€‚&lt;/p&gt;
&lt;h3 id=&#34;ä¸ºä½•éœ€è¦è¿™ä¸ª&#34;&gt;ä¸ºä½•éœ€è¦è¿™ä¸ª &lt;a href=&#34;#%e4%b8%ba%e4%bd%95%e9%9c%80%e8%a6%81%e8%bf%99%e4%b8%aa&#34; class=&#34;anchor&#34;&gt;ğŸ”—&lt;/a&gt;&lt;/h3&gt;&lt;p&gt;å…¶å®åœ¨mainå‡½æ•°é‡Œé¢è°ƒç”¨ä¸€ä¸‹å°±å¯ä»¥äº†ï¼Œæ˜¯çš„ï¼Œè¿™æ ·æ˜¯å¯ä»¥ï¼Œä½†æ˜¯å¯¹äºæ¡†æ¶çš„å®ç°æ¥è¯´ï¼Œè¿™å´æ˜¯ä¸å¤ªå¥½çš„ï¼Œå®¢æˆ·ä½¿ç”¨èµ·æ¥ä¸è‡ªç”±ã€‚å½“ç„¶ä¹Ÿå¯ä»¥è¯´ï¼Œæˆ‘æ˜¯å±Œä¸ï¼Œæˆ‘å¯ä»¥è£…é€¼ç‚¹ã€‚&lt;/p&gt;
&lt;h3 id=&#34;å¦‚ä½•å®ç°&#34;&gt;å¦‚ä½•å®ç° &lt;a href=&#34;#%e5%a6%82%e4%bd%95%e5%ae%9e%e7%8e%b0&#34; class=&#34;anchor&#34;&gt;ğŸ”—&lt;/a&gt;&lt;/h3&gt;&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;gccå®ç°&lt;br&gt;
gcc å®ç°æ˜¯éå¸¸ç®€å•çš„äº‹æƒ…ã€‚åœ¨å…¨å±€æ„é€ å‡½æ•°å‰å«ä»¥ä¸‹ç¼–è¯‘å™¨å±æ€§å³å¯ï¼š&lt;br&gt;
&lt;strong&gt;attribute&lt;/strong&gt;((constructor))&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;vcå®ç°
vcçš„å®ç°æ¯”è¾ƒå¥‡è‘©ï¼ŒVCæœ¬èº«æ²¡æœ‰ç±»ä¼¼Â·&lt;strong&gt;attribute&lt;/strong&gt;Â·è¿™æ ·çš„å±æ€§ï¼Œä½ éœ€è¦å°†å…¨å±€å‡½æ•°ç¼–è¯‘åˆ°æŸä¸ªç‰¹å®šçš„ä»£ç æ®µé‡Œé¢ã€‚MSDNå¯¹äºè¿™éƒ¨åˆ†æœ‰è¯¦ç»†çš„è¯´æ˜ï¼š&lt;a href=&#34;http://msdn.microsoft.com/en-us/library/bb918180.aspx&#34;&gt;CRT Initialization&lt;/a&gt;&lt;br&gt;
ç®€å•æ¥è¯´å°±æ˜¯å°†ä½ çš„å…¨å±€æ„é€ å‡½æ•°çš„å‡½æ•°æŒ‡é’ˆç¼–è¯‘åˆ°Â·.CRT$XCUÂ·æ®µé‡Œé¢ã€‚å¦‚ä½•ç¼–è¯‘åˆ°Â·.CRT$XCUÂ·æ®µï¼ŸVCæœ‰VCçš„è¯­æ³•ã€‚&lt;/p&gt;
&lt;p&gt;// å£°æ˜åœ¨æ®µÂ·.CRT$XCUÂ·é‡Œé¢ç”Ÿæˆä»£ç  &lt;br&gt;
#pragma section(&amp;quot;.CRT$XCU&amp;quot;,read) &lt;br&gt;
// å£°æ˜éœ€è¦è°ƒç”¨çš„å‡½æ•° &lt;br&gt;
__declspec(allocate(&amp;quot;.CRT$XCU&amp;quot;)) void (__cdecl *a)(void) = func; &lt;br&gt;
// è°ƒç”¨çš„å‡½æ•°å®ç° &lt;br&gt;
void func(void){}&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;ä»¥ä¸Šå®ç°å¯ä»¥ç”¨ä¸‹é¢å®ç°ï¼š&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;#ifdef _MSC_VER    
#define __CCALL __cdecl    
#define __func__ __FUNCTION__    
#define snprintf _snprintf    
#pragma warning(disable:4996) // this is very violent    
#pragma section(&amp;quot;.CRT$XCU&amp;quot;,read)
#define __CONSTRCT(a, b)                                             \    
  void __CCALL __##a##__##b##__ ## 520hjm(void);                   \    
  __declspec(allocate(&amp;quot;.CRT$XCU&amp;quot;))                                 \    
  void (__CCALL * __ctor__##a##__##b##__ ## 520hjm)(void) =        \    
  __##a##__##b##__ ## 520hjm;    
#else    
#define __CCALL    
#define __CONSTRCT(a, b) __attribute__((constructor))    
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;é¢å¤–å‚è€ƒ&#34;&gt;é¢å¤–å‚è€ƒ &lt;a href=&#34;#%e9%a2%9d%e5%a4%96%e5%8f%82%e8%80%83&#34; class=&#34;anchor&#34;&gt;ğŸ”—&lt;/a&gt;&lt;/h3&gt;&lt;p&gt;ä»¿ç…§&lt;a href=&#34;https://code.google.com/p/googletest/&#34;&gt;gtest&lt;/a&gt;çš„ç®€æ˜“å•å…ƒæµ‹è¯•&lt;a href=&#34;https://github.com/buf1024/ctest&#34;&gt;ctest&lt;/a&gt;å°±æ˜¯ç”¨çš„è¿™æ–¹é¢çš„çŸ¥è¯†ã€‚&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>mschedule ç®€å•linuxè¿›ç¨‹ç®¡ç†ï¼ˆæ ‘è“æ´¾ï¼‰</title>
      <link>https://luoguochun.cn/post/2014-05-30-myschd/</link>
      <pubDate>Fri, 30 May 2014 23:28:16 +0000</pubDate>
      
      <guid>https://luoguochun.cn/post/2014-05-30-myschd/</guid>
      <description>&lt;p&gt;æ ‘è“æ´¾æ˜¯ç¥å¥‡çš„æœºå™¨ï¼ŒCPUå’Œå†…å­˜éƒ½å°‘çš„å¯æ€œï¼Œä½†ä½“ç§¯å°åŠŸè€—ä½ï¼Œåœ¨ä¸Šé¢æäº›åŠ¨æäº›è¥¿å…¶å®ä¹ŸæŒºæœ‰æ„æ€ï¼ŒæŒºå¥½ç©çš„ã€‚è£…çš„æ˜¯pidaraï¼ŒåŸºæœ¬æœåŠ¡æ²¡æœ‰ç²¾ç®€å¤šå°‘ï¼Œå…ˆcatä¸€ä¸‹CPUå’ŒRAMã€‚&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;    [able@raspi ~]$ cat /proc/cpuinfo 
    Processor       : ARMv6-compatible processor rev 7 (v6l)
    BogoMIPS        : 464.48
    Features        : swp half thumb fastmult vfp edsp java tls 
    CPU implementer : 0x41
    CPU architecture: 7
    CPU variant     : 0x0
    CPU part        : 0xb76
    CPU revision    : 7
    
    Hardware        : BCM2708
    Revision        : 000e
    Serial          : 000000003123ffdc
    [able@raspi ~]$ cat /proc/meminfo 
    MemTotal:         446672 kB
    MemFree:          289976 kB
    Buffers:           16872 kB
    Cached:            65868 kB
    SwapCached:            0 kB
    Active:            88652 kB
    Inactive:          50360 kB
    Active(anon):      58692 kB
    Inactive(anon):      844 kB
    Active(file):      29960 kB
    Inactive(file):    49516 kB
    Unevictable:           0 kB
    Mlocked:               0 kB
    HighTotal:             0 kB
    HighFree:              0 kB
    LowTotal:         446672 kB
    LowFree:          289976 kB
    SwapTotal:        524284 kB
    SwapFree:         524284 kB
    Dirty:                16 kB
    Writeback:             0 kB
    AnonPages:         56284 kB
    Mapped:            16088 kB
    Shmem:              3268 kB
    Slab:               9684 kB
    SReclaimable:       5664 kB
    SUnreclaim:         4020 kB
    KernelStack:         656 kB
    PageTables:         1292 kB
    NFS_Unstable:          0 kB
    Bounce:                0 kB
    WritebackTmp:          0 kB
    CommitLimit:      747620 kB
    Committed_AS:     211148 kB
    VmallocTotal:     565248 kB
    VmallocUsed:        5024 kB
    VmallocChunk:     347144 kB
    [able@raspi ~]$ 
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;æ ‘è“æ´¾å¯èƒ½æ˜¯ä¸ºäº†èŠ‚çœæˆæœ¬ï¼Œå¹¶æ²¡æœ‰å®‰è£…æ—¶é—´æ¨¡å—ï¼Œæ‰€ä»¥æ¯æ¬¡å¼€æœºæ—¶é—´éƒ½ä¼šè¢«é‡ç½®ã€‚å› ä¸ºå¾ˆä¹…æ²¡æœ‰åŠ¨è¿‡ç”µçƒ™é“äº†ï¼Œæ‰€ä»¥æ²¡æœ‰æƒ³è¿‡ç»™å®ƒè£…ä¸Šä¸ªç¡¬ä»¶æ¨¡å—ã€‚
æ‰€ä»¥æƒ³åˆ°çš„æ–¹æ³•æ˜¯åŒæ­¥ç½‘ç»œæ—¶é—´ã€‚å¼€å§‹çš„æ—¶å€™ï¼Œæä¸ªå¯åŠ¨è„šæœ¬ï¼Œå¼€æœºå¯åŠ¨åŒæ­¥æ—¶é—´ï¼Œå¯æ˜¯æ¯å½“æœºå™¨é‡å¯æ—¶ï¼ŒåŠä¸ªå°æ—¶éƒ½å¯åŠ¨ä¸äº†ï¼Œè€Œä¸”å°±ç®—å¯åŠ¨äº†ï¼Œä¹Ÿæ²¡æœ‰
åŒæ­¥æ—¶é—´ã€‚äºæ˜¯æƒ³ç¬¬äºŒä¸ªæ–¹æ³•ï¼Œç”¨æ ¹ç”¨æˆ·çš„crontabï¼Œç»“æœä¸çŸ¥é“ä¸ºä½•ï¼Œæ²¡æœ‰åŒæ­¥ï¼Œcrontabæ‰§è¡Œå…¶ä»–ä»»åŠ¡æ˜¯æ²¡æœ‰é—®é¢˜çš„ï¼ŒåŸå› è¿˜ä¸æ˜ã€‚&lt;/p&gt;
&lt;p&gt;å¦å¤–ä¸€ä¸ªé—®é¢˜ï¼Œå› ä¸ºæ ‘è“æ´¾æ˜¯é€šè¿‡ç½‘çº¿è¿æ¥TP-LINKè·¯ç”±çš„ï¼ŒåŒæ—¶æœ‰ä¸ªå°ç±³ç›’å­è¿ç€ã€‚å°ç±³ç›’å­æ˜¯ä¸ªç¥å¥‡çš„ä¸œè¥¿ï¼Œåªæœ‰ä½ è¿æ¥ä¸ŠTP-LINKçš„è·¯ç”±çš„ï¼Œå…¶ä»–
ç”µè„‘æˆ–æ‰‹æœºè®¾å¤‡å°±å¾ˆéš¾è¿æ¥è¿›å»ï¼Œå³ä½¿æ˜¯æ–­å¼€äº†å°ç±³ç›’å­ï¼ŒçŠ¶å†µä¾ç„¶æ— æ³•è§£å†³ã€‚æ‰€ä»¥ï¼Œè€å¦¹ä¸€çœ‹è¿æ¥ä¸ä¸Šï¼Œå°±æ‹”ç”µæºé‡å¯ã€‚å¯ä»¥å°†ä¸€äº›åº”ç”¨ç¨‹åºåšæˆè‡ªå¯åŠ¨ï¼Œ
å¯æ˜¯å¹¶ä¸æ˜¯æ‰€æœ‰çš„ç¨‹åºéƒ½åƒnginxä¸€æ ·å®Œå–„ï¼Œä¼šåˆ‡æ¢ç”¨æˆ·æ‰§è¡Œã€‚&lt;/p&gt;
&lt;p&gt;è¿˜æœ‰ä¸€ä¸ªé—®é¢˜ï¼Œå°±æ˜¯æœ‰äº›ç¨‹åºcoredumpï¼Œè®©å®ƒè‡ªåŠ¨é‡å¯ï¼Œç³»ç»Ÿé…ç½®è²Œä¼¼è¿˜åšä¸åˆ°ï¼ˆå¯èƒ½å¯ä»¥åšåˆ°ï¼‰ã€‚æˆ‘è¿˜æƒ³åœ¨æ ‘è“æ´¾ä¸Šé¢è·‘ä¸ªDHTçˆ¬è™«ï¼Œä½†DHTçˆ¬è™«å¤ªå 
ç½‘ç»œäº†ï¼Œå¦‚æœä¸€ç›´å¼€ç€çš„è¯ï¼Œç½‘ç»œå°±åŸºæœ¬åºŸäº†ã€‚æ‰€ä»¥æˆ‘æ˜¯æƒ³åœ¨å‘¨ä¸€åˆ°äº”å‡Œæ™¨æ‰å¼€å§‹è¿è¡Œï¼Œåˆ°17ç‚¹å°±åœäº†ï¼Œå¯ä»¥é…ç½®ä¹‹ç±»çš„ã€‚&lt;/p&gt;
&lt;p&gt;åŸºäºä¸Šé¢ç§ç§éœ€æ±‚ï¼Œè‡ªå·±æäº†ä¸ªéå¸¸ç®€å•ç®¡ç†è°ƒåº¦ç¨‹åºï¼Œç‰¹ç‚¹ï¼š&lt;br&gt;
1. å¯ä»¥ç®¡ç†ä¸‰ç±»ç¨‹åºï¼Œå¸¸é©»è¿›ç¨‹ï¼ˆæŒ‚æ‰ä¼šè‡ªåŠ¨é‡å¯ï¼‰ï¼Œä¸€æ¬¡è¿›ç¨‹ï¼ˆè´Ÿè´£å¯åŠ¨ï¼Œä¸ç®¡æ˜¯å¦æˆ  åŠŸï¼‰ï¼Œä¼˜å…ˆçš„ä¸€æ¬¡è¿›ç¨‹ï¼ˆè´Ÿè´£å¯åŠ¨ï¼Œä¸ç®¡æ˜¯å¦æˆåŠŸï¼Œå…·æœ‰æœ€é«˜ä¼˜å…ˆçº§ï¼Œæ‰€ä»¥ç¨‹åºå¿…é¡»ç­‰åˆ°æ­¤ç±»ç¨‹åºé€€å‡ºåï¼Œæ–¹å¯åŠ¨å…¶ä»–ç¨‹åºï¼‰&lt;br&gt;
2. å¯ä»¥æŒ‡å®šè¿è¡Œçš„ç”¨æˆ·ï¼Œå¿…é¡»æœ‰ç›¸åº”çš„æƒé™&lt;br&gt;
3. å¸¸é©»è¿›ç¨‹å¯ä»¥é…ç½®è¿è¡Œæ—¶é—´ã€‚&lt;/p&gt;
&lt;p&gt;ç¼ºç‚¹ï¼š&lt;br&gt;
1. æ²¡æœ‰ä¸ºæ¯ä¸ªè¿›ç¨‹åˆ†é…ä¼˜å…ˆçº§&lt;br&gt;
2. æ²¡æœ‰è®¾è®¡æ²¡æœ‰è¿›ç¨‹çš„ä¾èµ–å…³ç³»&lt;/p&gt;
&lt;p&gt;ç›¸å…³é…ç½®æ–‡ä»¶ï¼š&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;    [nginx@raspi bin]$ cat mysch.conf 
    #ç¨‹åºè¿è¡Œå‚æ•°
    #ç¨‹åºé…ç½®æ®µPROG_LISTé…ç½®
    #[NGINX]
    #ç¨‹åºå¯åŠ¨çš„å‘½ä»¤
    #RUN_COMMAND=/sbin/ntpdate 1.cn.pool.ntp.org
    #è¿è¡Œè¯¥ç¨‹åºçš„ç”¨æˆ·ç»„
    #RUN_GROUP=nginx
    #è¿è¡Œè¯¥ç¨‹åºçš„ç”¨æˆ·
    #RUN_USER=nginx
    #ç¨‹åºè¿è¡Œæ ‡å¿—
    # -1 ç¨‹åºå¯åŠ¨åå…ˆç­‰å¾…å…¶è¿è¡Œå®Œæ¯•æ–¹å¯è¿è¡Œå…¶å®ƒç¨‹åº
    #  0 ç¨‹åºå¯åŠ¨åä¸ç®¡å…¶è¿è¡ŒçŠ¶æ€
    #  1 ç¨‹åºæŒ‰ç…§RUN_TIMEé…ç½®æ—¶é—´ç‚¹è¿è¡Œï¼Œéè¯¥è¿è¡Œç‚¹è‡ªåŠ¨åœæ­¢é€šè¿‡killä¿¡å·
    #RUN_FLAG=1
    #RUN_FLAG=1æ—¶æœ‰æ•ˆï¼Œç¨‹åºè¿è¡Œæ—¶é—´æ®µï¼Œæ˜ŸæœŸ(1-7)ï¼Œæ—¶é—´æ ¼å¼(24å°æ—¶)ï¼Œå„æ¡ä»¶ä¹‹é—´æ˜¯æˆ–å…³ç³»
    #RUN_TIME=1-5,23:30-16:30|1-5,17:30-21:30|6-7,00:00-8:30
    
    [COMMON]
    #æ—¥å¿—è·¯å¾„
    LOG_PATH=/home/nginx/bin/log
    #æ—¥å¿—å¤´
    LOG_HEADER=schedule
    #æ–‡ä»¶æ—¥å¿—çº§åˆ«all,debug,info,warn,error,fatal,off
    LOG_LEVEL=debug
    #æ–‡ä»¶æ—¥å¿—ç¼“å­˜,byte
    LOG_BUFFER=102400
    #æ–‡ä»¶åˆ‡æ¢æ—¶é—´,ç§’æ•°
    LOG_SWITCH_TIME=86400
    
    #ç¡çœ æ—¶é—´
    SLEEP_TIME = 60
    #æ¨å‡ºæ—¶æ˜¯å¦é€€å‡ºå­ç¨‹åº
    KILL_CHILD_FLAG = 1
    #pidæ–‡ä»¶å,å°æ‰§è¡Œæ—¶æœ‰æ•ˆ
    PID_FILE=/home/nginx/bin/log/mysch.pid
    #è¿è¡Œçš„ç”¨æˆ·
    RUN_USER=root
    PROG_LIST=NTP|NGINX|BIGFALSE
    
    [NTP]
    RUN_COMMAND=/usr/sbin/ntpdate 1.cn.pool.ntp.org
    RUN_USER=root
    RUN_FLAG=-1
    
    [NGINX]
    RUN_COMMAND=/home/nginx/www/sbin/nginx
    RUN_USER=nginx
    RUN_FLAG=1
    RUN_TIME=1-7,00:00-24:00
    RUN_PID_FILE=/home/nginx/www/logs/nginx.pid
    
    [BIGFALSE]
    RUN_COMMAND=/usr/bin/python /home/nginx/tinytrue/manage.py runfcgi host=127.0.0.1 port=7856 daemonize=true pidfile=/home/nginx/tinytrue/log/django.pid outlog=/home/nginx/tinytrue/log/access.log errlog=/home/nginx/tinytrue/log/error.log
    RUN_USER=nginx
    RUN_FLAG=1
    RUN_TIME=1-7,00:00-24:00
    RUN_PID_FILE=/home/nginx/tinytrue/log/django.pid
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;æŒ‰ç…§è¿™ä¸ªé…ç½®ï¼Œè¿è¡Œçš„ç¨‹åºï¼š&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;    [nginx@raspi bin]$ p nginx
    root       233     1  0 14:41 ?        00:00:00 /home/nginx/bin/mysch -c /home/nginx/bin/mysch.conf
    nginx      304     1  0 14:42 ?        00:00:00 nginx: master process /home/nginx/www/sbin/nginx
    nginx      305   304  0 14:42 ?        00:00:00 nginx: worker process     
    nginx      307     1  0 14:42 ?        00:00:00 /usr/bin/python /home/nginx/tinytrue/manage.py runfcgi host=127.0.0.1 port=7856 daemonize=true pidfile=/home/nginx/tinytrue/log/django.pid outlog=/home/nginx/tinytrue/log/access.log errlog=/home/nginx/tinytrue/log/error.log
    nginx      308   307  0 14:42 ?        00:00:00 /usr/bin/python /home/nginx/tinytrue/manage.py runfcgi host=127.0.0.1 port=7856 daemonize=true pidfile=/home/nginx/tinytrue/log/django.pid outlog=/home/nginx/tinytrue/log/access.log errlog=/home/nginx/tinytrue/log/error.log
    nginx      309   307  0 14:42 ?        00:00:00 /usr/bin/python /home/nginx/tinytrue/manage.py runfcgi host=127.0.0.1 port=7856 daemonize=true pidfile=/home/nginx/tinytrue/log/django.pid outlog=/home/nginx/tinytrue/log/access.log errlog=/home/nginx/tinytrue/log/error.log
    nginx      310   307  0 14:42 ?        00:00:04 /usr/bin/python /home/nginx/tinytrue/manage.py runfcgi host=127.0.0.1 port=7856 daemonize=true pidfile=/home/nginx/tinytrue/log/django.pid outlog=/home/nginx/tinytrue/log/access.log errlog=/home/nginx/tinytrue/log/error.log
    nginx      311   307  0 14:42 ?        00:00:06 /usr/bin/python /home/nginx/tinytrue/manage.py runfcgi host=127.0.0.1 port=7856 daemonize=true pidfile=/home/nginx/tinytrue/log/django.pid outlog=/home/nginx/tinytrue/log/access.log errlog=/home/nginx/tinytrue/log/error.log
    nginx      312   307  0 14:42 ?        00:00:10 /usr/bin/python /home/nginx/tinytrue/manage.py runfcgi host=127.0.0.1 port=7856 daemonize=true pidfile=/home/nginx/tinytrue/log/django.pid outlog=/home/nginx/tinytrue/log/access.log errlog=/home/nginx/tinytrue/log/error.log
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;ç›¸å…³ä»£ç ï¼š&lt;br&gt;
&lt;a href=&#34;https://github.com/buf1024/mysch&#34;&gt;https://github.com/buf1024/mysch&lt;/a&gt;&lt;/p&gt;
</description>
    </item>
    
  </channel>
</rss>
