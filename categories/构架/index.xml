<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>æ„æ¶ on BUF1024!!!</title>
    <link>https://luoguochun.cn/categories/%E6%9E%84%E6%9E%B6/</link>
    <description>Recent content in æ„æ¶ on BUF1024!!!</description>
    <generator>Hugo -- gohugo.io</generator>
    <language>zh-cn</language>
    <lastBuildDate>Mon, 29 Jul 2019 20:17:52 +0800</lastBuildDate><atom:link href="https://luoguochun.cn/categories/%E6%9E%84%E6%9E%B6/index.xml" rel="self" type="application/rss+xml" />
    <item>
      <title>å¾®æœåŠ¡æ¶æ„ä¸€äº›äº‹</title>
      <link>https://luoguochun.cn/post/2019-07-30-micro-service/</link>
      <pubDate>Mon, 29 Jul 2019 20:17:52 +0800</pubDate>
      
      <guid>https://luoguochun.cn/post/2019-07-30-micro-service/</guid>
      <description>&lt;h1 id=&#34;ç®€ä»‹&#34;&gt;ç®€ä»‹ &lt;a href=&#34;#%e7%ae%80%e4%bb%8b&#34; class=&#34;anchor&#34;&gt;ğŸ”—&lt;/a&gt;&lt;/h1&gt;&lt;p&gt;å¾®æœåŠ¡æ˜¯æœ€è¿‘å‡ å¹´æ¯”è¾ƒçƒ­çš„ä¸€ä¸ªè¯é¢˜ï¼Œå¹¶ä¸”éšç€å®¹å™¨æŠ€æœ¯(&lt;a href=&#34;https://github.com/moby/moby&#34;&gt;docker&lt;/a&gt;, &lt;a href=&#34;https://github.com/kubernetes/kubernetes&#34;&gt;k8s&lt;/a&gt;ç­‰)çš„ä¸æ–­å‘å±•åªä¼šè¶Šæ¥è¶Šçƒ­ï¼ŒåŒæ—¶ä¹Ÿæœ‰å„ç§å„æ ·çš„å¤§ä¸­å°å…¬å¸å°è¯•ç€æ‹¥æŠ±å¾®æœåŠ¡æ„æ¶ã€‚å…ˆä¸ç®¡è¿™ç§åšæ³•æ˜¯å¦æ­£ç¡®ï¼Œä½†åœ¨è¿™ç§æƒ…åŠ¿ä¸‹ï¼Œä½œä¸ºä¸€ä¸ªåå°ç¨‹åºå‘˜ï¼Œå¦‚æœä½ ä¸äº†è§£ä¸€ä¸‹å¾®æœåŠ¡ï¼Œæ˜¯ä¼šè¢«äººç¬‘è¯çš„ã€‚&lt;/p&gt;
&lt;p&gt;é‚£ä»€ä¹ˆæ˜¯å¾®æœåŠ¡ï¼Ÿ&lt;/p&gt;
&lt;p&gt;å¾ˆå¤šä»‹ç»å¾®æœåŠ¡çš„å®šä¹‰çš„ï¼Œéƒ½ä¼šå¼•ç”¨&lt;a href=&#34;https://martinfowler.com/&#34;&gt;Martin Fowler&lt;/a&gt;çš„å®šä¹‰: &lt;a href=&#34;https://martinfowler.com/articles/microservices.html&#34;&gt;Microservices&lt;/a&gt;ã€‚æŒ‰Martin Fowlerçš„å®šä¹‰ï¼Œå¾®æœåŠ¡æ„æ¶æ˜¯ä¸€ç³»åˆ—å¯ç‹¬ç«‹éƒ¨ç½²çš„æœåŠ¡ï¼Œæ²¡æœ‰æ˜ç¡®çš„å®šä¹‰ï¼Œå›´ç»•ä¸šåŠ¡èƒ½åŠ›ï¼Œè‡ªåŠ¨åŒ–éƒ¨ç½²ï¼Œç»ˆç«¯æ™ºèƒ½åŒ–ï¼Œåˆ†å¸ƒå¼è¯­è¨€å’Œæ•°æ®ã€‚ç®€è€Œè¨€ä¹‹ï¼Œå•ä¸€çš„åº”ç”¨ç¨‹åºç”±ä¸€ç³»åˆ—çš„å¾®å°çš„æœåŠ¡ç»„æˆï¼Œå¾®å°æœåŠ¡è¿è¡Œåœ¨è‡ªå·±çš„è¿›ç¨‹å†…å¹¶é€šè¿‡è½»é‡çº§çš„æœºåˆ¶(å¦‚REST, RPCç­‰)é€šè®¯ï¼Œè¿™äº›å¾®å°æœåŠ¡å›´ç»•ä¸šåŠ¡èƒ½åŠ›ï¼Œè‡ªåŠ¨åŒ–ç‹¬ç«‹éƒ¨ç½²ï¼Œå¯ä»¥æœ‰å°‘é‡é›†ä¸­åŒ–ç®¡ç†çš„æœºåˆ¶åè°ƒè¿™äº›æœåŠ¡ï¼Œå¾®å°æœåŠ¡å¯ä»¥ä½¿ç”¨ä¸åŒè¯­è¨€å’Œä¸åŒçš„æ•°æ®å­˜å‚¨æŠ€æœ¯ã€‚&lt;/p&gt;
&lt;p&gt;ç›—ç”¨Martin Fowleræ–‡ç« ä¸­çš„å›¾ï¼ˆå‡ºå¤„: &lt;a href=&#34;https://martinfowler.com/articles/microservices/images/sketch.png&#34;&gt;https://martinfowler.com/articles/microservices/images/sketch.png&lt;/a&gt;ï¼‰:&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://martinfowler.com/articles/microservices/images/sketch.png&#34; alt=&#34;ä»€ä¹ˆæ˜¯å¾®æœåŠ¡&#34;&gt;&lt;/p&gt;
&lt;p&gt;ä»¥å‰çš„æ„æ¶æœ‰ä»€ä¹ˆä¸å¥½çš„åœ°æ–¹ï¼Ÿ&lt;/p&gt;
&lt;p&gt;å¾ˆå¤šä»‹ç»å¾®æœåŠ¡çš„æ–‡ç« ï¼Œéƒ½å–œæ¬¢å’Œå•ä½“ç¨‹åºåšæ¯”è¾ƒï¼Œå½“ä½œä¸ºä¸€ååå°ç¨‹åºå‘˜ï¼Œå°è±¡ä¸­æå°‘å…¬å¸æ˜¯å•ä½“ç¨‹åºï¼Œå¤§å¤šéƒ½æ ¹æ®ä¸šåŠ¡åŠŸèƒ½è¿›è¡Œæ¨¡å—åˆ’åˆ†(æ¯”å¦‚ï¼Œç”¨æˆ·ç®¡ç†æ¨¡å—ï¼Œè®¢å•æ¨¡å—ï¼Œåº“å­˜æ¨¡å—ï¼Œå‡ºå…¥é‡‘æ¨¡å—ç­‰ç­‰)ï¼Œæ¨¡å—åˆå¯èƒ½åŒ…æ‹¬å¤šä¸ªåº”ç”¨ç¨‹åºåè°ƒè¿è¡Œã€‚è¿™æ ·çš„æ„æ¶ç›¸å¯¹äºå¾®æœåŠ¡æœ‰ä»€ä¹ˆä¸å¥½çš„åœ°æ–¹ï¼Ÿæ¨¡å—çš„åˆ’åˆ†ï¼Œè™½ç„¶å¯ä»¥ä½¿å¤æ‚çš„ä¸šåŠ¡å¾—åˆ°åˆ†è§£ï¼Œä½†ç›¸å¯¹äºâ€œå¾®â€æ¥è¯´è¿˜æ˜¯å·¨å¤§çš„å•ä½“ï¼Œè€Œä¸”éšç€ä¸šåŠ¡çš„å‘å±•ï¼Œè½¯ä»¶å¤æ‚åº¦ä¸ä¹‹ç›¸åº”å¢å¼ºï¼Œè€Œä¸”ä¸å¤Ÿå¼¹æ€§ï¼Œæ¯”å¦‚ææ´»åŠ¨æ˜¯è®¢å•æ¨¡å—è¶…å¿™ï¼Œç”¨æˆ·ç®¡ç†æ¨¡å—å´ç›¸å¯¹ç©ºé—²ã€‚&lt;/p&gt;
&lt;p&gt;ä¸ªäººè®¤ä¸ºï¼Œå¾®æœåŠ¡ä»¥å‰æ¨¡å—åˆ’åˆ†ï¼ŒSOAç­‰æ–¹å¼å‘å±•è€Œæ¥ï¼Œå…‹æœæ—§æ„æ¶å¯èƒ½å­˜åœ¨çš„é—®é¢˜ï¼Œå®ƒä»¥æ˜ç¡®æˆ–é€šç”¨çš„æ„æ¶çš„æ–¹å¼æ˜ç¡®æ€ä¹ˆå»æ„æ¶ä¸€ä¸ªè‰¯å¥½çš„ç³»ç»Ÿã€‚å¾®æœåŠ¡å°±æ˜¯ä¸ºäº†è§£å†³è½¯ä»¶çš„å¤æ‚æ€§å’Œå¼¹æ€§çš„é—®é¢˜ï¼Œå¾®æœåŠ¡ï¼Œå®ƒæ›´æ˜“äºç†è§£ï¼Œä½¿å›¢é˜Ÿä¸“æ³¨äºè‡ªå·±çš„ä¸šåŠ¡ï¼Œç‹¬ç«‹å¼€å‘ã€å‘å¸ƒã€ç®¡ç†å¾®æœåŠ¡ï¼Œç‹¬ç«‹éƒ¨ç½²ã€æ‰©å±•å’Œç®¡ç†ï¼Œå½¼æ­¤éš”ç¦»ï¼Œå¤ç”¨ç°æœ‰æœåŠ¡ï¼Œåœ¨ç°æœ‰æœåŠ¡åŸºç¡€ä¸Šæ„å»ºå…¨æ–°çš„åŠŸèƒ½ã€‚&lt;/p&gt;
&lt;p&gt;å¬èµ·æ¥å¾®æœåŠ¡å¾ˆçˆ½ï¼Œæ˜¯ä¸æ˜¯éƒ½éœ€è¦ä½¿ç”¨è¿™ç§æ–°çš„æ„æ¶æ¨¡å¼å‘¢ï¼Ÿæ¯ä¸€ä¸ªçœ‹è¿‡æ„æ¶çš„ä¹¦ç±ï¼Œéƒ½çœ‹è¿‡è¿™æ ·ä¸€æ ·è¯ï¼Œæ„æ¶æ˜¯æ ¹æ®ä¸šåŠ¡å‘å±•è€Œæ¥çš„ï¼Œä¸èƒ½ä¸ºäº†æŠ€æœ¯è€ŒæŠ€æœ¯ã€‚ç”¨ä¸ç”¨â€å¾®æœåŠ¡â€œéœ€è¦ä¸ªäººè§‰å¾—éœ€è¦&lt;strong&gt;æ ¹æ®è‡ªèº«ä¸šåŠ¡æƒ…å†µ&lt;/strong&gt;è€Œå†³å®šã€‚å› ä¸ºâ€å¾®æœåŠ¡â€œçš„æ„æ¶æ¨¡å¼éœ€è¦æ–°çš„åŸºç¡€æ¡†ï¼ŒåŒæ—¶ä¹Ÿå¸¦æ¥æ–°çš„é—®é¢˜ï¼Œå¦‚æœä¸šåŠ¡ä¸æ˜¯è¿‡äºå¤æ‚ï¼Œåœ¨åŸæœ‰æ„æ¶å¾ˆå¥½é€‚åº”çš„æƒ…å†µä¸‹ï¼Œç›²ç›®æ‹¥æŠ¤å¾®æœåŠ¡çš„ä»£ä»·å¹¶ä¸ä¸€å®šé«˜äºæ”¶ç›Šã€‚&lt;/p&gt;
&lt;h1 id=&#34;æœåŠ¡æ³¨å†Œå‘ç°å’Œå¥åº·æ£€æŸ¥&#34;&gt;æœåŠ¡æ³¨å†Œã€å‘ç°å’Œå¥åº·æ£€æŸ¥ &lt;a href=&#34;#%e6%9c%8d%e5%8a%a1%e6%b3%a8%e5%86%8c%e5%8f%91%e7%8e%b0%e5%92%8c%e5%81%a5%e5%ba%b7%e6%a3%80%e6%9f%a5&#34; class=&#34;anchor&#34;&gt;ğŸ”—&lt;/a&gt;&lt;/h1&gt;&lt;p&gt;ç”±äºå¾®æœåŠ¡æ„æ¶å°†åº”ç”¨åˆ’åˆ†ä¸ºä¸€ç³»åˆ—çš„ç»†ç²’åº¦çš„å•ä¸€èŒè´£çš„æœåŠ¡ï¼Œæ‰€ä»¥ç³»ç»Ÿå†…å­˜åœ¨Nå¤šçš„æœåŠ¡ç»„æˆçš„æœåŠ¡ç½‘(Service mesh)ï¼Œè¿™äº›æœåŠ¡é€šè¿‡è½»é‡çº§çš„é€šè®¯æœºåˆ¶è¿›è¡Œè”é€šï¼ŒNå¤šæœåŠ¡æ„æˆç½‘çŠ¶çš„ç»“æ„ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹å¿…å®šä¼šå¼•å…¥æœåŠ¡æ³¨å†Œå‘ç°çš„æ¦‚å¿µï¼Œå½“æœåŠ¡å¯åŠ¨èµ·æ¥çš„æ—¶å€™ï¼Œå¿…é¡»æœ‰ä¸€ä¸ªåœ°æ–¹å®£å‘Šï¼Œæˆ‘èƒ½æä¾›ä»€ä¹ˆæ ·çš„æœåŠ¡ï¼ŒåŒæ—¶è°ƒç”¨è€…ä¹Ÿèƒ½æ„ŸçŸ¥åˆ°æœ‰å¤šå°‘ä¸ªæœåŠ¡çš„æä¾›è€…ã€‚é€šå¸¸æä¾›è¿™äº›åŠŸèƒ½çš„ï¼Œæ˜¯ç”±ä¸€ä¸ªå»ä¸­å¿ƒåŒ–çš„åˆ†å¸ƒå¼&lt;strong&gt;æ³¨å†Œä¸­å¿ƒ&lt;/strong&gt;æ¡†æ¶å®Œæˆï¼Œå¸¸è§çš„å¦‚: &lt;a href=&#34;https://zookeeper.apache.org/&#34;&gt;zookeeper&lt;/a&gt;, &lt;a href=&#34;https://github.com/etcd-io/etcd&#34;&gt;etcd&lt;/a&gt;, &lt;a href=&#34;https://www.consul.io/&#34;&gt;consul&lt;/a&gt;, &lt;a href=&#34;https://github.com/Netflix/eureka&#34;&gt;Eureka&lt;/a&gt;ç­‰ç­‰ã€‚&lt;/p&gt;
&lt;p&gt;ä»»ä½•ä¸€ä¸ªç¨‹åºéƒ½å¯èƒ½å­˜åœ¨bugï¼ŒæœåŠ¡å¯èƒ½å­˜åœ¨æŒ‚æ‰ï¼Œå‡æ­»ï¼Œæ…¢ï¼Œå¿™ç­‰å„ç§æƒ…å†µï¼ŒæœåŠ¡è°ƒç”¨è€…éœ€è¦çŸ¥é“æœåŠ¡æ˜¯å¦å¯ç”¨ï¼Œç”šè‡³æ˜¯å¦è¿‡è½½ç­‰æƒ…å†µï¼Œä»¥ç¡®å®šæ˜¯å¦è°ƒç”¨è¯¥æœåŠ¡ï¼Œæ‰€ä»¥æœåŠ¡éœ€è¦å¥åº·æ£€æŸ¥ã€‚å¥åº·æ£€æŸ¥ä¸€èˆ¬ä¸¤æ–¹é¢åšï¼Œä¸€ä¸ªåœ¨æœåŠ¡å‘æ³¨å†Œä¸­å¿ƒæ³¨å†Œæ—¶ï¼Œå‘ŠçŸ¥æœåŠ¡&lt;strong&gt;TTL&lt;/strong&gt;ï¼ŒåŒæ—¶æœåŠ¡åœ¨&lt;strong&gt;TTL&lt;/strong&gt;æ—¶é—´å†…æ¯éš”ä¸€æ®µæ—¶é—´è¿›è¡Œä¸€æ¬¡é‡æ–°æ³¨å†Œï¼Œç±»ä¼¼äºå¿ƒè·³æŠ¥æ–‡ï¼›å¦å¤–ä¸€æ–¹é¢ï¼Œåœ¨æ³¨å†Œä¸­å¿ƒå†…éƒ¨å¯¹æ³¨å†Œä¸Šæ¥çš„æœåŠ¡è¿ç”¨å„ç§æ‰‹æ®µè¿›è¡Œæ£€æµ‹ï¼Œæ¯”å¦‚telnetç«¯å£ï¼Œhttpè®¿é—®ç‰¹å®šè¿æ¥ï¼Œè¿è¡Œç‰¹å®šæ£€æŸ¥è„šæœ¬ç­‰ã€‚&lt;/p&gt;
&lt;p&gt;å®æ–½å¾®æœåŠ¡ï¼Œéœ€è¦è¦å¢åŠ çš„æ˜¯æ³¨å†Œä¸­å¿ƒç¾¤é›†ï¼Œå¿…é¡»ç†Ÿæ‚‰æ³¨å†Œä¸­å¿ƒçš„è¿ç»´(å®‰å…¨ï¼Œæƒé™ç­‰)ï¼ŒåŒæ—¶åº”ç”¨å¼€å‘è€…ä¹Ÿå¿…é¡»ç†Ÿæ‚‰æ³¨å†Œä¸­å¿ƒçš„æ³¨å†Œå’Œå‘ç°ç­‰apiä½¿ç”¨ã€‚&lt;/p&gt;
&lt;p&gt;consulæ³¨å†Œä¸­å¿ƒä¾‹:&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://luoguochun.cn/img/micro-service/ms-reg.png&#34; alt=&#34;consulæ³¨å†Œä¸­å¿ƒå®ä¾‹&#34;&gt;&lt;/p&gt;
&lt;h1 id=&#34;é…ç½®ä¸­å¿ƒ&#34;&gt;é…ç½®ä¸­å¿ƒ &lt;a href=&#34;#%e9%85%8d%e7%bd%ae%e4%b8%ad%e5%bf%83&#34; class=&#34;anchor&#34;&gt;ğŸ”—&lt;/a&gt;&lt;/h1&gt;&lt;p&gt;ç”±äºå¾®æœåŠ¡æ„æ¶æœåŠ¡çš„æ•°é‡ä¼—å¤šï¼Œæ¯ä¸ªæœåŠ¡å¯¹åº”çš„æœºå™¨ä½¿ç”¨ä¸€å¥—é…ç½®æ–‡ä»¶çš„æ–¹å¼æ˜¯ä¸å¤ªç°å®çš„ï¼Œç”±æ­¤åˆå¼•ç”¨ä¸€ä¸ªæ¦‚å¿µï¼Œåˆ†å¸ƒå¼é…ç½®ä¸­å¿ƒã€‚&lt;strong&gt;é…ç½®ä¸­å¿ƒ&lt;/strong&gt;æ¡†æ¶ï¼Œä½¿æœåŠ¡ç»Ÿä¸€ä»ä¸€ä¸ªä¸­å¿ƒè¯»å–é…ç½®æ–‡ä»¶ï¼ŒåŒæ—¶èƒ½å¤Ÿæ„ŸçŸ¥åˆ°é…ç½®çš„å˜åŒ–ä»è€Œè¿›è¡ŒæœåŠ¡çš„é‡æ–°åˆå§‹åŒ–ã€‚æ›´æœ‰ç”šè€…ï¼Œé…ç½®ä¸­å¿ƒè¿˜æ”¯æŒç°åº¦å‘å¸ƒï¼Œåˆ†ç¯å¢ƒã€åˆ†é›†ç¾¤ç®¡ç†é…ç½®ï¼Œå®Œå–„çš„æƒé™ã€å®¡æ ¸æœºåˆ¶ç­‰ç­‰ã€‚ç›®å‰å¼€æºçš„é…ç½®ä¸­å¿ƒä¹Ÿæ˜¯æ¯”è¾ƒå¤šï¼Œæ¯”å¦‚&lt;a href=&#34;https://github.com/knightliao/disconf&#34;&gt;disconf&lt;/a&gt;,
&lt;a href=&#34;https://github.com/ctripcorp/apollo/&#34;&gt;ctrip apollo&lt;/a&gt;ç­‰ã€‚&lt;/p&gt;
&lt;p&gt;å½“ç„¶ï¼Œä¸€èˆ¬ä¸Šé¢çš„&lt;strong&gt;æ³¨å†Œä¸­å¿ƒ&lt;/strong&gt;ä¹Ÿæ˜¯æä¾›ç®€å•çš„é”®å€¼å­˜å‚¨ï¼Œå¦‚æœè¦æ±‚ä¸æ˜¯å¾ˆé«˜ï¼Œä¹Ÿæ˜¯å¯ä»¥ç”¨åšç®€å•çš„é…ç½®ä¸­å¿ƒï¼Œå½“ç„¶ä¹Ÿæ˜¯å¯ä»¥å¼€å‘ä¸€ä¸ªé…ç½®ä¸­å¿ƒçš„RPCæœåŠ¡ã€‚&lt;/p&gt;
&lt;p&gt;å®æ–½å¾®æœåŠ¡ï¼Œéœ€è¦å¢åŠ é…ç½®ä¸­å¿ƒç¾¤é›†ï¼Œå¿…é¡»ç†Ÿæ‚‰é…ç½®ä¸­å¿ƒçš„è¿ç»´(å®‰å…¨ï¼Œæƒé™ç­‰)ï¼ŒåŒæ—¶åº”ç”¨å¼€å‘è€…ä¹Ÿå¿…é¡»ç†Ÿæ‚‰é…ç½®ä¸­å¿ƒé…ç½®è·å–ï¼Œé…ç½®çš„å˜åŒ–æ„ŸçŸ¥ç­‰ã€‚&lt;/p&gt;
&lt;p&gt;consulé…ç½®ä¸­å¿ƒä¾‹:&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://luoguochun.cn/img/micro-service/ms-conf.png&#34; alt=&#34;consulé…ç½®ä¸­å¿ƒå®ä¾‹&#34;&gt;&lt;/p&gt;
&lt;h1 id=&#34;æœåŠ¡ç½‘å…³å’Œè´Ÿè½½å‡è¡¡&#34;&gt;æœåŠ¡ç½‘å…³å’Œè´Ÿè½½å‡è¡¡ &lt;a href=&#34;#%e6%9c%8d%e5%8a%a1%e7%bd%91%e5%85%b3%e5%92%8c%e8%b4%9f%e8%bd%bd%e5%9d%87%e8%a1%a1&#34; class=&#34;anchor&#34;&gt;ğŸ”—&lt;/a&gt;&lt;/h1&gt;&lt;p&gt;å°†å†…éƒ¨æœåŠ¡æš´éœ²äºå¤–çš„ç»„ä»¶ï¼Œç§°ä¹‹ä¸ºæœåŠ¡ç½‘å…³ã€‚æœåŠ¡ç½‘å…³æœ€é‡è¦çš„åŠŸèƒ½æ˜¯å°†å¤–éƒ¨çš„è¯·æ±‚è·¯ç”±åˆ°å†…éƒ¨çš„æœåŠ¡ï¼Œé™¤æ­¤ä¹‹å¤–ï¼Œç½‘å…³é€šå¸¸è¿˜å…·å¤‡é‰´æƒ(è¯·æ±‚é‰´æƒä¸­å¿ƒæˆ–è‡ªå·±æ˜¯é‰´æƒä¸­å¿ƒ)ï¼Œåçˆ¬è™«ï¼Œé™æµå®¹é”™ï¼Œç›‘æ§ç­‰åŠŸèƒ½ã€‚é€šå¸¸æˆ‘ä»¬éœ€è¦åœ¨æœåŠ¡ç½‘å…³æ¡†æ¶ä¸Šï¼Œæ ¹æ®è‡ªå·±ä¸šåŠ¡éœ€æ±‚è¿›è¡Œè¿›ä¸€æ­¥å¼€å‘ã€‚è¿™é‡Œåªæ˜¯ä»‹ç»æ¦‚å¿µï¼Œè¿™é‡Œæè¿°çš„å¾ˆç®€å•ï¼Œäº‹å®ä¸ŠæœåŠ¡ç½‘å…³å¯¹å¤–æä¾›å”¯ä¸€çš„å‡ºå£ï¼Œå®ç°èµ·æ¥å¯èƒ½å¾ˆå¤æ‚ã€‚&lt;/p&gt;
&lt;p&gt;æ— è®ºæ˜¯æœåŠ¡ç½‘å…³è°ƒç”¨åç«¯çš„æœåŠ¡ï¼Œæˆ–æ˜¯å†…éƒ¨æœåŠ¡è°ƒç”¨åç«¯æœåŠ¡ï¼Œéƒ½æ¶‰åŠè°ƒç”¨å“ªä¸ªæœåŠ¡çš„é—®é¢˜ï¼Œå³æ˜¯è´Ÿè½½å‡è¡¡ï¼Œé€šå¸¸æ˜¯å®ç°æ–¹å¼æ˜¯åœ¨å®¢æˆ·ç«¯ä¸Šå®ç°ï¼Œä¸€èˆ¬æœ‰ç°æˆæ¡†æ¶ï¼Œåœ¨å…¶åŸºç¡€ä¸Šè¿›è¡Œæ‰©å±•ã€‚å½“ç„¶å®ç°æ–¹å¼æ˜¯å¤šæ ·çš„ï¼Œä¹Ÿæœ‰ä¸å°‘æŠŠè¯·æ±‚ä¸¢åˆ°æ¶ˆæ¯é˜Ÿåˆ—ï¼Œäº‹ä»¶æ€»çº¿ç­‰ã€‚ä¸ç®¡å®ç°æ–¹å¼å¦‚ä½•ï¼Œç›®æ ‡æ˜¯æœåŠ¡çš„è´Ÿè½½éœ€è¦å‡è¡¡ã€‚&lt;/p&gt;
&lt;h1 id=&#34;å…¶ä»–&#34;&gt;å…¶ä»– &lt;a href=&#34;#%e5%85%b6%e4%bb%96&#34; class=&#34;anchor&#34;&gt;ğŸ”—&lt;/a&gt;&lt;/h1&gt;&lt;ul&gt;
&lt;li&gt;é™çº§ï¼Œç†”æ–­ï¼Œé™æµ
ä¸€ä¸ªå‰ç«¯è¯·æ±‚ä¸€èˆ¬ä¼šä¾èµ–äºå¤šä¸ªåç«¯æœåŠ¡ï¼Œçªå‘æµé‡å¯èƒ½é€ æˆå•ä¸ªæœåŠ¡å»¶è¿Ÿè‡´é›ªå´©æ•ˆåº”ï¼Œå¦‚ä½•é™æµï¼Œé™çº§ï¼Œç†”æ–­ï¼Ÿ&lt;/li&gt;
&lt;li&gt;ç›‘æ§é“¾è·¯è·Ÿè¸ªå’Œæ—¥å¿—æ”¶é›†
ä¸€ä¸ªä¸šåŠ¡åˆ†å¸ƒäºå¤šä¸ªæœåŠ¡çš„è°ƒç”¨ä¹‹ä¸­ï¼Œå¦‚ä½•è¿½è¸ªè°ƒç”¨é“¾è·¯ï¼Ÿæ—¥å¿—åˆå¦‚ä½•æ”¶é›†ï¼Œå¦‚&lt;strong&gt;ELK&lt;/strong&gt;æ ˆï¼Ÿ&lt;/li&gt;
&lt;li&gt;å¿«é€Ÿéƒ¨ç½²æ‰©å®¹ç¼©å®¹
docker/k8s/istioå¿«é€Ÿéƒ¨ç½²ï¼Ÿ&lt;/li&gt;
&lt;li&gt;åˆ†å¸ƒå¼äº‹åŠ¡
åˆ†å¸ƒå¼äº‹åŠ¡æ˜¯å¾®æœåŠ¡ç»å¸¸é‡åˆ°çš„é—®é¢˜ä¹Ÿæ˜¯æ¯”è¾ƒå›°éš¾çš„é—®é¢˜ï¼Œä½¿ç”¨ç½‘ä¸Šè¯´çš„å¤æ‚çš„2PCï¼ŒTCCç­‰ï¼Œè¿˜æ˜¯ç®€å•çš„è¡¥å¿ï¼Ÿï¼Ÿ&lt;/li&gt;
&lt;/ul&gt;
&lt;h1 id=&#34;å°ç»“&#34;&gt;å°ç»“ &lt;a href=&#34;#%e5%b0%8f%e7%bb%93&#34; class=&#34;anchor&#34;&gt;ğŸ”—&lt;/a&gt;&lt;/h1&gt;&lt;p&gt;æœ¬æ¥æƒ³æ¯ä¸ªéƒ¨åˆ†éƒ½ç®€å•å†™å†™ï¼Œåˆ—ä¸€ä¸‹å¸¸ç”¨çš„æ–¹å¼ï¼Œåšæ³•æ˜¯ä»€ä¹ˆã€‚ä½†æ˜¯å¾ˆå¤šä¸œè¥¿è‡ªå·±éƒ½åªæ˜¯æœ‰ä¸€ä¸ªæ¦‚å¿µï¼Œå¹¶æ²¡æœ‰è®¤çœŸçš„å»å®è·µï¼Œæ²¡æœ‰ç»è¿‡è‡ªå·±å®è·µè¿‡çš„ä¸œè¥¿ä¹Ÿä¸çŸ¥é“å†™ä»€ä¹ˆï¼Œå€’æ˜¯ç½‘ä¸Šå´åˆå¾ˆå¤šçš„ä»‹ç»ï¼Œæ€»ç»“çš„éƒ½æŒºå¥½ã€‚æ¯ä¸€éƒ¨åˆ†éƒ½æœ‰Nå¤šçš„è§£å†³æ–¹æ¡ˆï¼Œç›´æ¥å‚è€ƒç½‘ä¸Šæœç´¢ç»“æœå³å¯ã€‚&lt;/p&gt;
&lt;p&gt;ç”±ä¸Šï¼Œå¾®æœåŠ¡æ¶æ„éœ€è¦æŒæ¡çš„ä¸œè¥¿å’Œæ¦‚å¿µå¾ˆå¤šï¼Œèƒ½å¦åœ¨åŸæ¥ä¸šåŠ¡ä¸Šè½¬ä¸ºå¾®æœåŠ¡ï¼Œæˆ–åœ¨æ–°ä¸šåŠ¡ä¸Šä½¿ç”¨å¾®æœåŠ¡ï¼Ÿç†Ÿç»ƒäº†ä¸ºæœåŠ¡çš„æ¨¡å¼ï¼Œä¼šä¸ä¼šå¼€å±•ä¸šåŠ¡æ›´èˆ’ç•…ï¼Ÿæˆ–è®¸æ˜¯ï¼Œä¹Ÿæˆ–è®¸ä¸æ˜¯ï¼Œå› ä¸ºå¹¶æ²¡æœ‰å°è¯•è¿‡ï¼Œä¸è¿‡å€’æ˜¯å¾ˆä¹æ„å»å°è¯•ä¸€ä¸‹ã€‚&lt;/p&gt;
&lt;p&gt;å¾®æœåŠ¡å°è¯•: &lt;a href=&#34;https://github.com/buf1024/monthproj/tree/master/ms-exam/stock&#34;&gt;stock&lt;/a&gt;&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>é«˜å¯ç”¨ç³»ç»Ÿ</title>
      <link>https://luoguochun.cn/post/2018-09-01-high-available-loadbalance/</link>
      <pubDate>Sat, 01 Sep 2018 19:54:09 +0000</pubDate>
      
      <guid>https://luoguochun.cn/post/2018-09-01-high-available-loadbalance/</guid>
      <description>&lt;p&gt;å¾ˆä¹…ä¹‹å‰ï¼Œåœ¨å…¬å¸é¼ç››çš„æ—¶æœŸï¼Œè¿˜å­˜åœ¨è¿ç»´äººå‘˜çš„æ—¶å€™ï¼Œæˆ‘ä»¬å¼€å‘åº”ç”¨çš„æ—¶å€™ï¼Œå°±ä¼šå’Œè¿ç»´äººå‘˜è®¨è®ºä¸€ä¸‹éƒ¨ç½²çš„æ–¹æ¡ˆï¼Œå¬çš„æ¯”è¾ƒå¤šçš„æ˜¯ï¼Œè¿ç»´äººå‘˜è¯´çš„æ¯”è¾ƒå¤šçš„æ˜¯ä¸¤ä¸ªä¸“ä¸šçš„åè¯æ˜¯ï¼Œè´Ÿè½½å‡è¡¡å’Œipæ¼‚ç§»ï¼Œå‰è€…æ˜¯ä¸ºå‡è½»åº”ç”¨æœåŠ¡çš„å‹åŠ›ä½¿æ€§èƒ½å‡è¡¡ï¼Œåè€…æ˜¯ä¸ºäº†è´Ÿè½½å‡è¡¡å®•æœºåç³»ç»Ÿçš„é«˜å¯ç”¨æ€§ã€‚ç”±äºè¿™äº›éƒ½æ˜¯è¿ä½œéƒ¨ç½²çš„ï¼Œæˆ‘ä»¬åªå…³æ³¨åº”ç”¨åŠŸèƒ½çš„å®ç°ï¼Œå¹¶ä¸æ˜¯å¾ˆåœ¨æ„è¿™äº›éƒ¨ç½²çš„ç»†èŠ‚ï¼Œåªæ˜¯äº†è§£åˆ°æœ‰è¿™æ ·çš„ä¸œè¥¿ã€‚ç°åœ¨å…¬å¸æ²¡è½äº†ï¼Œå¾ˆå¤šäº‹æƒ…éƒ½å¾—è‡ªå·±æäº†ã€‚&lt;/p&gt;
&lt;p&gt;è´Ÿè½½å‡è¡¡ï¼Œæ— éå°±å‡è½»åå°åº”ç”¨æœåŠ¡å™¨çš„å‹åŠ›ï¼Œæé«˜ç³»ç»Ÿçš„å¯æ‰©å±•æ€§ã€‚æ–¹æ³•æ˜¯å¾ˆå¤šï¼Œæ¯”å¦‚æœ‰äº›åœ¨å®¢æˆ·ç«¯å®ç°ï¼Œæœ‰äº›è‡ªå·±å†™åˆ†å‘ç¨‹åºï¼Œè¿˜æœ‰ä¸šç•Œæ¯”è¾ƒå¸¸ç”¨çš„F5è´Ÿè½½å‡è¡¡ï¼ˆè´µï¼Œé«˜å¤§ä¸Šï¼‰ï¼Œä½¿ç”¨LVS/haproxy/nginxç­‰å¼€æºçš„æ–¹æ¡ˆï¼Œè¿™äº›éƒ½æ˜¯æ”¯æŒ4å±‚/7å±‚è´Ÿè½½å‡è¡¡ã€‚LVSå·²ç»é›†æˆåœ¨å†…æ ¸ï¼Œæ²¡æœ‰ä½¿ç”¨è¿‡ï¼Œhaproxy/nginxæ›¾ç»çª¥è§†è¿‡å…¶å†…éƒ¨æ•°æ®ç»“æ„ï¼Œå¯æ²¡æœ‰éå¸¸æ·±å…¥çš„äº†è§£ï¼Œnginxæ”¯æŒæ¨¡å—å¼€å‘ï¼Œå¦‚æœå¯¹nginxæ¯”è¾ƒç†Ÿæ‚‰ï¼Œé‚£ä¹ˆåœ¨å…¶ç»§æ‰¿ä¸Šå¼€å‘å¯¹åº”çš„æ¨¡å—ï¼Œå…¶æ•ˆç‡æ˜¯æ¯”è¾ƒé«˜æ•ˆçš„ã€‚è¿™æ¬¡ç”¨nginxçš„4å±‚è´Ÿè½½å‡è¡¡æµ‹è¯•ä¸€ä¸‹ï¼Œç„¶è€Œæ®è¯´nginxçš„å¥åº·æ£€æŸ¥æ˜¯æƒ°æ€§çš„ï¼Œå®ƒä¸èƒ½åŠæ—¶çŸ¥é“åç«¯æœåŠ¡çš„å­˜æ´»ï¼Œæ‰€ä»¥æœ‰äº›äººå¼€å‘äº†ç›¸å…³çš„æ¨¡å—ï¼ˆæ›´æ–°å¹´é™ä¹…è¿œï¼Œä¸çŸ¥é“æ˜¯å¦èƒ½ç”¨ï¼‰ï¼š&lt;a href=&#34;https://github.com/yaoweibin/nginx_upstream_check_module&#34;&gt;nginx_upstream_check_module&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;å½“åº”ç”¨éƒ¨ç½²ä¸Šè´Ÿè½½å‡è¡¡åï¼Œè´Ÿè½½å‡è¡¡å¾ˆå®¹æ˜“æˆä¸ºå•ç‚¹ï¼Œå¦‚æœè´Ÿè½½å‡è¡¡æŒ‚æ‰äº†ï¼Œè¿™ä¸ªæ—¶å€™keepalivedä¸Šåœºã€‚è¦äº†è§£keepalivedçš„å·¥ä½œåŸç†ï¼Œé¦–å…ˆè¦å…ˆäº†è§£&lt;a href=&#34;https://baike.baidu.com/item/%E8%99%9A%E6%8B%9F%E8%B7%AF%E7%94%B1%E5%99%A8%E5%86%97%E4%BD%99%E5%8D%8F%E8%AE%AE/2991482?fromtitle=VRRP&amp;amp;fromid=932628&#34;&gt;VRRPåè®®&amp;ndash;è™šæ‹Ÿè·¯ç”±å™¨å†—ä½™åè®®&lt;/a&gt;,è¿™é‡Œæœ‰ä»½è¯¦ç»†çš„åŸç†æè¿°ï¼š&lt;a href=&#34;http://blog.51cto.com/zhaoyuqiang/1166840&#34;&gt;è™šæ‹Ÿè·¯ç”±å™¨å†—ä½™åè®®ã€åŸç†ç¯‡ã€‘VRRPè¯¦è§£&lt;/a&gt;ã€‚ç®€å•æ¥è¯´ï¼ŒVRRPå°±æ˜¯æŠŠNå°è·¯ç”±å™¨(æœºå™¨)æ”¾åˆ°ä¸€ä¸ªç»„é‡Œé¢ï¼Œç»„é‡Œé¢æœ‰ä¸€ä¸ªMASTERå’ŒN-1ä¸ªBACKUPï¼Œå¯¹å¤–æ‹¥æœ‰ä¸€ä¸ªè™šæ‹ŸIPï¼ŒMASTERæ‰€åœ¨çš„æœºå™¨æ‹¥æœ‰è¿™ä¸ªè™šæ‹ŸIPï¼ŒMASTERé€šè¿‡å¹¿æ’­æŠ¥æ–‡åˆ°ç»„å†…çš„BACKUPï¼Œå½“BACKUPåœ¨è§„å®šæ—¶é—´å†…æ²¡æœ‰æ”¶åˆ°MASTERçš„å¹¿æ’­æŠ¥æ–‡ï¼Œåˆ™è®¤ä¸ºMASTERå®•æœºäº†ï¼Œå½“MASTERå®•æœºåï¼Œç»„å†…çš„BACKUPé€šè¿‡ç‰¹å®šçš„é€‰ä¸¾ç®—æ³•æœºåˆ¶ï¼Œé€‰æ‹©å‡ºä¸€ä¸ªMASTERï¼Œç„¶åè¿™ä¸ªMASTERæ‹¥æœ‰è¿™ä¸ªè™šæ‹ŸIPï¼Œè¿™æ ·çœ‹èµ·æ¥ï¼Œæ„Ÿè§‰å°±æ˜¯â€œIPä»ä¸€å°æœºå™¨æ¼‚ç§»åˆ°å¦å¤–ä¸€å°æœºå™¨â€äº†ã€‚Keepalivedå°±æ˜¯ä¸€ä¸ªå®ç°VRRPåè®®é«˜å¯ç”¨æ–¹æ¡ˆã€‚&lt;/p&gt;
&lt;p&gt;ç”¨ä»¥å‰åœ¨å­¦ä¹ nodejså†™çš„echoæœåŠ¡å™¨æ¨¡æ‹Ÿå®é™…ä¸Šçš„åº”ç”¨æœåŠ¡å™¨ï¼Œå¼€ä¸‰å°è™šæ‹Ÿæœº(VNODE-01 ~ VNODE-03), ç®€å•è®°å½•ä¸€ä¸‹ç®€å•æµ‹è¯•æ­¥éª¤ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;å¯åŠ¨åº”ç”¨ï¼Œåˆ†åˆ«åœ¨VNODE-01 ~ VNODE-03éƒ¨ç½²åº”ç”¨æœåŠ¡&lt;/li&gt;
&lt;/ol&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt; 1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 5
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 6
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 7
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 8
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 9
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;10
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;11
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;12
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;13
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;14
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;15
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;16
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;17
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;18
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;19
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;20
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;21
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;22
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;23
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;24
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;25
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;26
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;27
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;28
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;29
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;30
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;31
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;VNODE-01:
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;2: enp0s3: &amp;lt;BROADCAST,MULTICAST,UP,LOWER_UP&amp;gt; mtu &lt;span class=&#34;m&#34;&gt;1500&lt;/span&gt; qdisc fq_codel state UP group default qlen &lt;span class=&#34;m&#34;&gt;1000&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    link/ether 08:00:27:43:db:4d brd ff:ff:ff:ff:ff:ff
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    inet 172.20.46.78/23 brd 172.20.47.255 scope global dynamic noprefixroute enp0s3
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;       valid_lft 17744sec preferred_lft 17744sec
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    inet6 fe80::950a:8286:4242:1da3/64 scope link noprefixroute 
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;       valid_lft forever preferred_lft forever
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;able@VNODE-01:~/luoguochun/privt/proj/privt-prj/web/nodejs/node-demo/echo-svr$ node echo-svr.js -h 172.20.46.78 -p &lt;span class=&#34;m&#34;&gt;9978&lt;/span&gt; -i vnode-01
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;server&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;vnode-01&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; listen 172.20.46.78:9978 started
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;VNODE-02:
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;2: enp0s3: &amp;lt;BROADCAST,MULTICAST,UP,LOWER_UP&amp;gt; mtu &lt;span class=&#34;m&#34;&gt;1500&lt;/span&gt; qdisc fq_codel state UP group default qlen &lt;span class=&#34;m&#34;&gt;1000&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    link/ether 08:00:27:d0:b6:f5 brd ff:ff:ff:ff:ff:ff
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    inet 172.20.46.80/23 brd 172.20.47.255 scope global dynamic noprefixroute enp0s3
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;       valid_lft 17513sec preferred_lft 17513sec
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    inet6 fe80::146f:4835:5b3e:29c1/64 scope link noprefixroute 
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;       valid_lft forever preferred_lft forever
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;able@VNODE-02:~/luoguochun/privt/proj/privt-prj/web/nodejs/node-demo/echo-svr$ node echo-svr.js -h 172.20.46.80 -p &lt;span class=&#34;m&#34;&gt;9980&lt;/span&gt; -i vnode-02
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;server&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;vnode-02&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; listen 172.20.46.80:9980 started
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;VNODE-03:
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;2: enp0s3: &amp;lt;BROADCAST,MULTICAST,UP,LOWER_UP&amp;gt; mtu &lt;span class=&#34;m&#34;&gt;1500&lt;/span&gt; qdisc fq_codel state UP group default qlen &lt;span class=&#34;m&#34;&gt;1000&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    link/ether 08:00:27:0e:28:a6 brd ff:ff:ff:ff:ff:ff
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    inet 172.20.46.79/23 brd 172.20.47.255 scope global dynamic noprefixroute enp0s3
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;       valid_lft 17720sec preferred_lft 17720sec
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    inet6 fe80::e7aa:1f55:1bdc:aaeb/64 scope link noprefixroute 
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;       valid_lft forever preferred_lft forever
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;able@VNODE-03:~/luoguochun/privt/proj/privt-prj/web/nodejs/node-demo/echo-svr$ node echo-svr.js -h 172.20.46.79 -p &lt;span class=&#34;m&#34;&gt;9979&lt;/span&gt; -i vnode-03
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;server&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;vnode-03&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; listen 172.20.46.79:9979 started
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;ol start=&#34;2&#34;&gt;
&lt;li&gt;4å±‚è´Ÿè½½å‡è¡¡ï¼šåˆ†åˆ«åœ¨VNODE-01 ~ VNODE-02éƒ¨ç½²nginxï¼Œå‡è®¾VNODE-01ä¸ºä¸»æœºï¼ŒVNODE-02ä¸ºå¤‡æœº&lt;/li&gt;
&lt;/ol&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt; 1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 5
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 6
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 7
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 8
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 9
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;10
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;11
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;12
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;13
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;14
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;15
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;16
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;17
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;18
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;19
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;20
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;21
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;22
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;23
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;24
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;25
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;26
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;27
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;28
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;29
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;30
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;31
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;32
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;33
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;34
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;35
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;36
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;37
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;38
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;39
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;40
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;41
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;42
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;43
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;44
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;45
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;46
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;47
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;48
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;49
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;50
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;51
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;52
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;53
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;54
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;55
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;56
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;57
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;58
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;59
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;60
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;61
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;62
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;63
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;2.1 éƒ¨ç½²nginx: ç®€ç•¥é…ç½®&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;è´Ÿè½½ç­–ç•¥ï¼ŒæŒ‰æƒé‡è½®è¯¢&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;user able&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;worker_processes 1&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;error_log /tmp/nginx_error.log&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;pid /tmp/nginx.pid&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;include /etc/nginx/modules-enabled/*.conf&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;events &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;	worker_connections 768&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;	&lt;span class=&#34;c1&#34;&gt;# multi_accept on;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;stream &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    upstream echo_svr &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        server 172.20.46.78:9978 &lt;span class=&#34;nv&#34;&gt;weight&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;40&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        server 172.20.46.79:9979 &lt;span class=&#34;nv&#34;&gt;weight&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;30&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        server 172.20.46.80:9980 &lt;span class=&#34;nv&#34;&gt;weight&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;30&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    server &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        listen 9900&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        proxy_pass echo_svr&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;2.1 SHELLæŸ¥çœ‹ï¼š
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;VNODE-01:
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;able@VNODE-01:/media/sf_luoguochun/privt/proj/privt-prj/arch/nginx$ sudo nginx -c /media/sf_luoguochun/privt/proj/privt-prj/arch/nginx/nginx-lb4layer.conf
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;sudo&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt; password &lt;span class=&#34;k&#34;&gt;for&lt;/span&gt; able: 
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;able@VNODE-01:/media/sf_luoguochun/privt/proj/privt-prj/arch/nginx$ ps -ef --forest &lt;span class=&#34;p&#34;&gt;|&lt;/span&gt; grep -Ev &lt;span class=&#34;s1&#34;&gt;&amp;#39;grep&amp;#39;&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;|&lt;/span&gt; grep nginx
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;root      &lt;span class=&#34;m&#34;&gt;2131&lt;/span&gt;     &lt;span class=&#34;m&#34;&gt;1&lt;/span&gt;  &lt;span class=&#34;m&#34;&gt;0&lt;/span&gt; 09:41 ?        00:00:00 nginx: master process nginx -c /media/sf_luoguochun/privt/proj/privt-prj/arch/nginx/nginx-lb4layer.conf
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;able      &lt;span class=&#34;m&#34;&gt;2132&lt;/span&gt;  &lt;span class=&#34;m&#34;&gt;2131&lt;/span&gt;  &lt;span class=&#34;m&#34;&gt;0&lt;/span&gt; 09:41 ?        00:00:00  &lt;span class=&#34;se&#34;&gt;\_&lt;/span&gt; nginx: worker process
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;VNODE-02:
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;able@VNODE-02:/media/sf_luoguochun/privt/proj/privt-prj/arch/nginx$ sudo nginx -c /media/sf_luoguochun/privt/proj/privt-prj/arch/nginx/nginx-lb4layer.conf 
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;sudo&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt; password &lt;span class=&#34;k&#34;&gt;for&lt;/span&gt; able: 
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;able@VNODE-02:/media/sf_luoguochun/privt/proj/privt-prj/arch/nginx$ ps -ef --forest &lt;span class=&#34;p&#34;&gt;|&lt;/span&gt; grep -Ev &lt;span class=&#34;s1&#34;&gt;&amp;#39;grep&amp;#39;&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;|&lt;/span&gt; grep nginx
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;root      &lt;span class=&#34;m&#34;&gt;2335&lt;/span&gt;     &lt;span class=&#34;m&#34;&gt;1&lt;/span&gt;  &lt;span class=&#34;m&#34;&gt;0&lt;/span&gt; 09:44 ?        00:00:00 nginx: master process nginx -c /media/sf_luoguochun/privt/proj/privt-prj/arch/nginx/nginx-lb4layer.conf
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;able      &lt;span class=&#34;m&#34;&gt;2336&lt;/span&gt;  &lt;span class=&#34;m&#34;&gt;2335&lt;/span&gt;  &lt;span class=&#34;m&#34;&gt;0&lt;/span&gt; 09:44 ?        00:00:00  &lt;span class=&#34;se&#34;&gt;\_&lt;/span&gt; nginx: worker process
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;2.3 ç®€å•æµ‹è¯•ï¼Œå¯çœ‹åˆ°nginxå·²ç»å¯¹åç«¯æœåŠ¡è¿›è¡Œè´Ÿè½½ï¼š
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;^_^@/Users/luoguochun&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;$ telnet 172.20.46.78 &lt;span class=&#34;m&#34;&gt;9900&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Trying 172.20.46.78...
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Connected to bogon.
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Escape character is &lt;span class=&#34;s1&#34;&gt;&amp;#39;^]&amp;#39;&lt;/span&gt;.
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;hello, vnode
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;echo&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;from vnode-01&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;:hello, vnode
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;^&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;telnet&amp;gt; quit
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Connection closed.
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;^_^@/Users/luoguochun&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;$ telnet 172.20.46.78 &lt;span class=&#34;m&#34;&gt;9900&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Trying 172.20.46.78...
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Connected to bogon.
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Escape character is &lt;span class=&#34;s1&#34;&gt;&amp;#39;^]&amp;#39;&lt;/span&gt;.
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;hello, vnode
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;echo&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;from vnode-03&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;:hello, vnode
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;echo&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;from vnode-03&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;:
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;^&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;telnet&amp;gt; quit
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Connection closed.
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;ol start=&#34;3&#34;&gt;
&lt;li&gt;é«˜å¯ç”¨ï¼šåˆ†åˆ«åœ¨VNODE-01 ~ VNODE-02éƒ¨ç½²keepalivedï¼Œå‡è®¾VNODE-01ä¸ºMASTERï¼ŒVNODE-01ä¸ºBACKUP&lt;/li&gt;
&lt;/ol&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;  1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;  2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;  3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;  4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;  5
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;  6
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;  7
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;  8
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;  9
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 10
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 11
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 12
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 13
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 14
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 15
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 16
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 17
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 18
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 19
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 20
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 21
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 22
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 23
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 24
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 25
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 26
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 27
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 28
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 29
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 30
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 31
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 32
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 33
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 34
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 35
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 36
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 37
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 38
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 39
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 40
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 41
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 42
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 43
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 44
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 45
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 46
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 47
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 48
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 49
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 50
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 51
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 52
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 53
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 54
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 55
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 56
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 57
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 58
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 59
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 60
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 61
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 62
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 63
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 64
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 65
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 66
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 67
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 68
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 69
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 70
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 71
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 72
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 73
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 74
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 75
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 76
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 77
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 78
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 79
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 80
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 81
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 82
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 83
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 84
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 85
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 86
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 87
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 88
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 89
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 90
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 91
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 92
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 93
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 94
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 95
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 96
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 97
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 98
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 99
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;100
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;101
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;102
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;103
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;104
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;105
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;106
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;107
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;108
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;109
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;110
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;111
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;112
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;113
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;114
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;115
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;116
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;117
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;118
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;119
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;120
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;121
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;122
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;123
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;124
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;125
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;126
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;127
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;128
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;129
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;130
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;131
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;132
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;133
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;134
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;135
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;136
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;137
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;138
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;139
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;140
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;141
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;142
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;143
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;144
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;145
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;146
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;147
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;148
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;149
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;150
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;151
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;152
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;153
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;154
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;155
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;156
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;157
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;158
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;159
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;160
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;161
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;3.1 keepalivedé…ç½®
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;MASTER ç®€ç•¥é…ç½®:
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;global_defs &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    router_id MASTER_ROUTER_ID
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;vrrp_script chk_svr &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    script &lt;span class=&#34;s2&#34;&gt;&amp;#34;killall -0 node&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    interval &lt;span class=&#34;m&#34;&gt;2&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    weight -5
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    fall &lt;span class=&#34;m&#34;&gt;3&lt;/span&gt;  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    rise &lt;span class=&#34;m&#34;&gt;2&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;vrrp_instance VI_1 &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    state MASTER
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    interface enp0s3
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    mcast_src_ip 172.20.46.78
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    virtual_router_id &lt;span class=&#34;m&#34;&gt;99&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    priority &lt;span class=&#34;m&#34;&gt;101&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    advert_int &lt;span class=&#34;m&#34;&gt;2&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    authentication &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        auth_type PASS
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        auth_pass &lt;span class=&#34;m&#34;&gt;1111&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    virtual_ipaddress &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        172.20.46.222
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    track_script &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;       chk_svr
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;BACKUP ç®€ç•¥é…ç½®:
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;ä¸MASTERå‡ ä¹ç›¸åŒï¼Œä¸åŒçš„æ˜¯:
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;state MASTER -&amp;gt; state BACKUP
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;mcast_src_ip 172.20.46.78 -&amp;gt; mcast_src_ip 172.20.46.80
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;priority &lt;span class=&#34;m&#34;&gt;101&lt;/span&gt; -&amp;gt; priority &lt;span class=&#34;m&#34;&gt;100&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;2. SHELLæŸ¥çœ‹ï¼Œå¯ä»¥çœ‹åˆ°MASTERé™¤äº†æ‹¥æœ‰ä¸€ä¸ªçœŸå®IPå¤–ï¼Œè¿˜æœ‰ä¸€ä¸ªè™šæ‹ŸIPï¼ˆip a æŸ¥çœ‹, ifconfig æŸ¥çœ‹ä¸åˆ°ï¼‰
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;VNODE-01:
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;2: enp0s3: &amp;lt;BROADCAST,MULTICAST,UP,LOWER_UP&amp;gt; mtu &lt;span class=&#34;m&#34;&gt;1500&lt;/span&gt; qdisc fq_codel state UP group default qlen &lt;span class=&#34;m&#34;&gt;1000&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    link/ether 08:00:27:43:db:4d brd ff:ff:ff:ff:ff:ff
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    inet 172.20.46.78/23 brd 172.20.47.255 scope global dynamic noprefixroute enp0s3
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;       valid_lft 15610sec preferred_lft 15610sec
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    inet 172.20.46.222/32 scope global enp0s3
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;       valid_lft forever preferred_lft forever
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    inet6 fe80::950a:8286:4242:1da3/64 scope link noprefixroute 
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;       valid_lft forever preferred_lft forever
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;VNODE-02:
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;2: enp0s3: &amp;lt;BROADCAST,MULTICAST,UP,LOWER_UP&amp;gt; mtu &lt;span class=&#34;m&#34;&gt;1500&lt;/span&gt; qdisc fq_codel state UP group default qlen &lt;span class=&#34;m&#34;&gt;1000&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    link/ether 08:00:27:d0:b6:f5 brd ff:ff:ff:ff:ff:ff
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    inet 172.20.46.80/23 brd 172.20.47.255 scope global dynamic noprefixroute enp0s3
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;       valid_lft 17513sec preferred_lft 17513sec
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    inet6 fe80::146f:4835:5b3e:29c1/64 scope link noprefixroute 
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;       valid_lft forever preferred_lft forever
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;3. æµ‹è¯•
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;3.1 åº”ç”¨æµ‹è¯•ï¼Œå¯ä»¥æ­£å¸¸ä½¿ç”¨è™šæ‹ŸIPè¿›è¡Œè½¬å‘å¤„ç†
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;^_^@/Users/luoguochun&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;$ telnet 172.20.46.222 &lt;span class=&#34;m&#34;&gt;9900&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Trying 172.20.46.222...
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Connected to bogon.
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Escape character is &lt;span class=&#34;s1&#34;&gt;&amp;#39;^]&amp;#39;&lt;/span&gt;.
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;hello, keepalived
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;echo&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;from vnode-02&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;:hello, keepalived
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;^&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;telnet&amp;gt; quit
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Connection closed.
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;^_^@/Users/luoguochun&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;$ telnet 172.20.46.222 &lt;span class=&#34;m&#34;&gt;9900&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Trying 172.20.46.222...
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Connected to bogon.
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Escape character is &lt;span class=&#34;s1&#34;&gt;&amp;#39;^]&amp;#39;&lt;/span&gt;.
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;hellow 
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;echo&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;from vnode-01&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;:hellow
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;^&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;telnet&amp;gt; quit
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Connection closed.
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;3.2 æ¨¡æ‹ŸMASTERå®•æœº&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;IPæ¼‚ç§»åˆ°BACKUP&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;VNODE-01:
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;able@VNODE-01:~/luoguochun/privt/proj/privt-prj/web/nodejs/node-demo/echo-svr$ sudo killall nginx keepalived
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;2: enp0s3: &amp;lt;BROADCAST,MULTICAST,UP,LOWER_UP&amp;gt; mtu &lt;span class=&#34;m&#34;&gt;1500&lt;/span&gt; qdisc fq_codel state UP group default qlen &lt;span class=&#34;m&#34;&gt;1000&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    link/ether 08:00:27:43:db:4d brd ff:ff:ff:ff:ff:ff
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    inet 172.20.46.78/23 brd 172.20.47.255 scope global dynamic noprefixroute enp0s3
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;       valid_lft 15355sec preferred_lft 15355sec
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    inet6 fe80::950a:8286:4242:1da3/64 scope link noprefixroute 
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;       valid_lft forever preferred_lft forever
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;VNODE-02:
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;2: enp0s3: &amp;lt;BROADCAST,MULTICAST,UP,LOWER_UP&amp;gt; mtu &lt;span class=&#34;m&#34;&gt;1500&lt;/span&gt; qdisc fq_codel state UP group default qlen &lt;span class=&#34;m&#34;&gt;1000&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    link/ether 08:00:27:d0:b6:f5 brd ff:ff:ff:ff:ff:ff
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    inet 172.20.46.80/23 brd 172.20.47.255 scope global dynamic noprefixroute enp0s3
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;       valid_lft 15363sec preferred_lft 15363sec
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    inet 172.20.46.222/32 scope global enp0s3
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;       valid_lft forever preferred_lft forever
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    inet6 fe80::146f:4835:5b3e:29c1/64 scope link noprefixroute 
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;       valid_lft forever preferred_lft forever
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;^_^@/Users/luoguochun&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;$ telnet 172.20.46.222 &lt;span class=&#34;m&#34;&gt;9900&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Trying 172.20.46.222...
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Connected to bogon.
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Escape character is &lt;span class=&#34;s1&#34;&gt;&amp;#39;^]&amp;#39;&lt;/span&gt;.
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;hello, keepalived
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;echo&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;from vnode-02&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;:hello, keepalived
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;^&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;telnet&amp;gt; quit
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Connection closed.
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;^_^@/Users/luoguochun&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;$ telnet 172.20.46.222 &lt;span class=&#34;m&#34;&gt;9900&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Trying 172.20.46.222...
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Connected to bogon.
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Escape character is &lt;span class=&#34;s1&#34;&gt;&amp;#39;^]&amp;#39;&lt;/span&gt;.
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;hellow 
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;echo&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;from vnode-01&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;:hellow
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;^&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;telnet&amp;gt; quit
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Connection closed.
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;å¯è§IPæ­£ç¡®æ¼‚ç§»åˆ°å¤‡æœºï¼Œé™¤äº†æ­£è¿æ¥ä¸»æœºå¤„ç†çš„æœ‰é—®é¢˜å¤–ï¼Œæ–°è¯·æ±‚æ­£ç¡®è´Ÿè½½åˆ°å¤‡æœºã€‚
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;3.3 æ¨¡æ‹ŸMASTERæ¢å¤
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;åœ¨VNODE-01é‡å¯nginxå’Œkeepalivedåï¼Œå¯ä»¥çœ‹åˆ°IPåˆæ¼‚ç§»ä¼šä¸»æœº
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;VNODE-01:
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;2: enp0s3: &amp;lt;BROADCAST,MULTICAST,UP,LOWER_UP&amp;gt; mtu &lt;span class=&#34;m&#34;&gt;1500&lt;/span&gt; qdisc fq_codel state UP group default qlen &lt;span class=&#34;m&#34;&gt;1000&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    link/ether 08:00:27:43:db:4d brd ff:ff:ff:ff:ff:ff
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    inet 172.20.46.78/23 brd 172.20.47.255 scope global dynamic noprefixroute enp0s3
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;       valid_lft 15206sec preferred_lft 15206sec
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    inet 172.20.46.222/32 scope global enp0s3
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;       valid_lft forever preferred_lft forever
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    inet6 fe80::950a:8286:4242:1da3/64 scope link noprefixroute 
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;       valid_lft forever preferred_lft forever
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;VNODE-02:
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;2: enp0s3: &amp;lt;BROADCAST,MULTICAST,UP,LOWER_UP&amp;gt; mtu &lt;span class=&#34;m&#34;&gt;1500&lt;/span&gt; qdisc fq_codel state UP group default qlen &lt;span class=&#34;m&#34;&gt;1000&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    link/ether 08:00:27:d0:b6:f5 brd ff:ff:ff:ff:ff:ff
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    inet 172.20.46.80/23 brd 172.20.47.255 scope global dynamic noprefixroute enp0s3
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;       valid_lft 17513sec preferred_lft 17513sec
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    inet6 fe80::146f:4835:5b3e:29c1/64 scope link noprefixroute 
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;       valid_lft forever preferred_lft forever
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;^_^@/Users/luoguochun&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;$ telnet 172.20.46.222 &lt;span class=&#34;m&#34;&gt;9900&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Trying 172.20.46.222...
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Connected to bogon.
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Escape character is &lt;span class=&#34;s1&#34;&gt;&amp;#39;^]&amp;#39;&lt;/span&gt;.
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;what
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;echo&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;from vnode-02&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;:what
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;^&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;telnet&amp;gt; quit
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Connection closed.
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;^_^@/Users/luoguochun&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;$ telnet 172.20.46.222 &lt;span class=&#34;m&#34;&gt;9900&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Trying 172.20.46.222...
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Connected to bogon.
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Escape character is &lt;span class=&#34;s1&#34;&gt;&amp;#39;^]&amp;#39;&lt;/span&gt;.
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;youe
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;echo&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;from vnode-01&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;:youe
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;^&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;telnet&amp;gt; quit
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Connection closed.
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;^_^@/Users/luoguochun&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;$
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;å¯è§IPæ­£ç¡®æ¼‚ç§»åˆ°ä¸»æœºï¼Œé™¤äº†æ­£è¿æ¥å¤‡æœºå¤„ç†çš„æœ‰é—®é¢˜å¤–ï¼Œæ–°è¯·æ±‚æ­£ç¡®è´Ÿè½½åˆ°ä¸»æœºã€‚
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;ç”±æ­¤ï¼Œä½¿ç”¨ç®€å•çš„å¼€æºæ–¹æ³•ä¾¿å¯ä»¥ç›¸å¯¹ç®€å•çš„éƒ¨ç½²é«˜å¯ç”¨çš„è´Ÿè½½å‡è¡¡ç³»ç»Ÿï¼Œå½“ç„¶è¿™é‡Œçš„ç»ƒä¹ æµ‹è¯•æ²¡æœ‰æ¶‰åŠå…·ä½“çš„ä¸šåŠ¡ï¼Œç°å®ä¸šåŠ¡æƒ…å†µå¯èƒ½ä¼šæ›´å¤æ‚ã€‚ä¸è¿‡ï¼Œç”±äºnginxæœ¬èº«çš„è‰¯å¥½è®¾è®¡ï¼Œåœ¨nginxä¸Šè¿›è¡Œæ¨¡å—çš„å¼€å‘ï¼Œä¸å¤±ä¸ºä¸€ç§é«˜æ•ˆçš„æ–¹æ³•ã€‚&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>è½¯ä»¶æ„æ¶  --  æ— æŠ€æœ¯ç®€ç¯‡</title>
      <link>https://luoguochun.cn/post/2017-12-26-soft-architecture/</link>
      <pubDate>Wed, 06 Dec 2017 11:08:13 +0000</pubDate>
      
      <guid>https://luoguochun.cn/post/2017-12-26-soft-architecture/</guid>
      <description>&lt;h2 id=&#34;è½¯ä»¶æ„æ¶&#34;&gt;è½¯ä»¶æ„æ¶ &lt;a href=&#34;#%e8%bd%af%e4%bb%b6%e6%9e%84%e6%9e%b6&#34; class=&#34;anchor&#34;&gt;ğŸ”—&lt;/a&gt;&lt;/h2&gt;&lt;p&gt;æ‰€è°“çš„è½¯ä»¶æ„æ¶ï¼Œæ˜¯æœ‰å…³è½¯ä»¶æ•´ä½“ç»“æ„ä¸å„ç»„ä»¶çš„æŠ½è±¡æè¿°ï¼Œç”¨äºæŒ‡å¯¼å¤§å‹è½¯ä»¶ç³»ç»Ÿå„ä¸ªæ–¹é¢çš„è®¾è®¡ã€‚ä¸€ä¸ªå¥½çš„è½¯ä»¶æ„æ¶ï¼Œä¼šéšç€ä¸šåŠ¡çš„ä¸æ–­æ·±å…¥å‘å±•è€Œä¸æ–­çš„æ¼”åŒ–ï¼›ä½†ä¸€ä¸ªä¸å¥½çš„è½¯ä»¶æ„æ¶ï¼Œå´ä¼šé˜»ç¢ä¸šåŠ¡å‘å±•ï¼Œç”šè‡³ä¼šæˆä¸ºä¸šåŠ¡å‘å±•çš„ç“¶é¢ˆã€‚åœ¨ä¸€ä¸ªå¤§å‹çš„ç³»ç»Ÿï¼Œæ„æ¶å§‹ç»ˆå›´ç»•ç€â€œé«˜å¯ç”¨
é«˜æ€§èƒ½ï¼Œæ˜“æ‰©å±•ï¼Œå¯ä¼¸ç¼©ï¼Œé«˜å®‰å…¨â€ç­‰ç­‰å‡ æ–¹é¢å±•å¼€ã€‚éœ€è¦å¼ºè°ƒçš„ä¸€ç‚¹æ˜¯ï¼Œ&lt;strong&gt;æ„æ¶æ˜¯æœ‰ä¸šåŠ¡é©±åŠ¨çš„&lt;/strong&gt;ï¼Œé€‚åˆæ·˜å®è…¾è®¯ç­‰å¤§å‹çš„äº’è”ç½‘æˆåŠŸçš„æ„æ¶ï¼Œå¹¶ä¸ä¸€å®šé€‚åˆè‡ªå·±çš„ä¸šåŠ¡ï¼Œæ‰€ä»¥&lt;strong&gt;ä¸è¦ä¸ºäº†æ„æ¶è€Œæ„æ¶ï¼Œä¸ºäº†æŠ€æœ¯è€ŒæŠ€æœ¯&lt;/strong&gt;ã€‚&lt;/p&gt;
&lt;p&gt;å¯¹äºå¤§å‹äº’è”ç½‘åº”ç”¨ï¼Œå…·å¤‡éå¸¸æ˜¾è‘—çš„ç‰¹ç‚¹ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;é«˜å¹¶å‘ï¼Œå¤§æµé‡  &amp;mdash; å¹¶å‘çš„è®¿é—®çš„ç”¨æˆ·æ•°å¾ˆå¤§ï¼Œæµé‡å¾ˆé«˜Â  Â  Â  Â  Â &lt;/li&gt;
&lt;li&gt;é«˜å¯ç”¨ &amp;mdash; 7 * 24å°æ—¶ä¸é—´æ–­è¿è¡Œ&lt;/li&gt;
&lt;li&gt;æµ·é‡æ•°æ® &amp;mdash; å­˜å‚¨å’Œç®¡ç†çš„éƒ½æ˜¯æµ·é‡çº§åˆ«æ•°æ®&lt;/li&gt;
&lt;li&gt;ç”¨æˆ·åˆ†å¸ƒå¹¿ï¼Œç½‘ç»œæƒ…å†µå¤æ‚ &amp;mdash; ç”¨æˆ·å…¨çƒåˆ†å¸ƒï¼Œç½‘ç»œç¯å¢ƒå¤æ‚å’Œä½¿ç”¨è®¾å¤‡ç±»æ¯”å¾ˆå¤š&lt;/li&gt;
&lt;li&gt;å®‰å…¨ç¯å¢ƒæ¶åŠ£ &amp;mdash; äº’è”ç½‘å¼€å‘ç¯å¢ƒå¤©ç”Ÿå¼€æ”¾æ€§ï¼Œæ˜“å—æ”»å‡»&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;éœ€æ±‚å˜æ›´é¢‘ç¹ï¼Œå‘å¸ƒå¸ƒé¢‘ç¹&lt;/strong&gt; &amp;ndash; ä¸ºäº†å¿«é€Ÿé€‚åº”å¸‚åœºå æœ‰å¸‚åœºï¼Œéœ€æ±‚å˜æ›´å¾ˆäº§å“å‘å¸ƒé¢‘ç‡æé«˜&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;æ¸è¿›å¼å‘å±•&lt;/strong&gt; &amp;ndash; æ²¡æœ‰ä»ä¸€å¼€å§‹å°±è§„åˆ’å¥½åŠŸèƒ½éœ€æ±‚å’ŒéåŠŸèƒ½éœ€æ±‚ï¼Œéƒ½æ˜¯é€‚åº”å¸‚åœºå‘å±•&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;åœ¨ä¼ ç»Ÿè½¯ä»¶è¡Œä¸šï¼Œå¾€å¾€å¬åˆ°å¾ˆå¤šéœ€æ±‚ä¸ç¡®å®šçš„æŠ±æ€¨ï¼Œç›¸å¯¹äºäº’è”ç½‘ä¼ä¸šï¼Œéœ€æ±‚æœ¬èº«å¯èƒ½å°±ä¸ç¡®å®šï¼Œå°±ç®—æ˜¯ç¡®å®šéœ€æ±‚è€Œåˆå¯èƒ½å˜æ›´é¢‘ç¹ï¼Œæ‰€ä»¥å¤§å¤šéƒ½æ˜¯æ¸è¿›å¼å‘å±•ï¼ŒSOï¼Œå°‘ç‚¹æŠ±æ€¨ï¼Œå¤šç‚¹åŠ¡å®ã€‚å¤§å‹äº’è”ç½‘æŠ€æœ¯æŒ‘æˆ˜æ¥æºï¼š åºå¤§çš„ç”¨æˆ·ï¼Œé«˜å¹¶å‘ï¼Œå’Œæµ·é‡æ•°æ®å¤„ç†ã€‚&lt;/p&gt;
&lt;h2 id=&#34;è½¯ä»¶æ„æ¶å‘å±•&#34;&gt;è½¯ä»¶æ„æ¶å‘å±• &lt;a href=&#34;#%e8%bd%af%e4%bb%b6%e6%9e%84%e6%9e%b6%e5%8f%91%e5%b1%95&#34; class=&#34;anchor&#34;&gt;ğŸ”—&lt;/a&gt;&lt;/h2&gt;&lt;p&gt;æ„æ¶çš„å‘å±•å’Œæ¼”åŒ–éƒ½æ˜¯æœ‰ä¸šåŠ¡æ¨åŠ¨çš„ï¼Œé¢å‘æœåŠ¡çš„ä½“ç³»ç»“æ„(SOA)ï¼Œå·²ç»è¢«æ¼”åŒ–ä¸ºå¤§å‹ä¼ä¸šçš„æˆç†Ÿæ„æ¶ã€‚&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;å‘å±•æœ€æœ€åˆçº§é˜¶æ®µæ„æ¶
&lt;img src=&#34;https://luoguochun.cn/img/arch/soft-arch-1-1.png&#34; alt=&#34;å‘å±•æœ€æœ€åˆçº§é˜¶æ®µæ„æ¶&#34;&gt;
è¿™ä¸ªé˜¶æ®µçš„ç‰¹ç‚¹æ˜¯ï¼šåº”ç”¨æœåŠ¡å™¨ï¼Œæ–‡ä»¶ï¼Œæ•°æ®åº“éƒ½éƒ¨ç½²åœ¨åŒä¸€å°ç‰©ç†æœºå™¨ä¸Šé¢ã€‚ç”¨æˆ·å°‘ï¼Œè®¿é—®é‡ä½ã€‚ä½¿ç”¨å„ç±»å¼€æºè½¯ä»¶å’Œå»‰ä»·æœåŠ¡å™¨å³å¯å¼€å¯å‘å±•ä¹‹è·¯ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;åº”ç”¨æœåŠ¡å’Œæ•°æ®æœåŠ¡åˆ†ç¦»
&lt;img src=&#34;https://luoguochun.cn/img/arch/soft-arch-1-2.png&#34; alt=&#34;åº”ç”¨æœåŠ¡å’Œæ•°æ®æœåŠ¡åˆ†ç¦»&#34;&gt;
ä¸€èˆ¬è€Œè¨€ï¼Œå¯¹äºåº”ç”¨æœåŠ¡å™¨ï¼Œç“¶é¢ˆæ˜¯CPUï¼Œæ•°æ®åº“æœåŠ¡å™¨ï¼Œç“¶é¢ˆæ˜¯IOï¼Œæ–‡ä»¶æœåŠ¡å™¨ï¼Œç“¶é¢ˆæ˜¯ç¡¬ç›˜ã€‚éšç€ç”¨æˆ·çš„å¢åŠ ï¼Œè®¿é—®é‡çš„å¢åŠ ï¼Œå•ä¸€æœåŠ¡å™¨å¾ˆå¿«çš„é‡åˆ°æ€§èƒ½ç“¶é¢ˆã€‚è‡ªç„¶è€Œç„¶ï¼Œæ•°æ®æœåŠ¡å’Œæ–‡ä»¶æœåŠ¡ç‹¬ç«‹å‡ºæ¥ï¼Œä½¿ç”¨ç‹¬ç«‹çš„æœåŠ¡å™¨ï¼Œè¿›è¡Œç‹¬ç«‹éƒ¨ç½²ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;ä½¿ç”¨ç¼“å­˜è§£å†³æ€§èƒ½
&lt;img src=&#34;https://luoguochun.cn/img/arch/soft-arch-1-3.png&#34; alt=&#34;ä½¿ç”¨ç¼“å­˜è§£å†³æ€§èƒ½&#34;&gt;
å½“æ•°æ®åº“å‹åŠ›å¢å¤§ï¼Œé™åˆ¶ä¸šåŠ¡å‘å±•ï¼Œå¯¹&lt;strong&gt;å…³é”®ä¸šåŠ¡&lt;/strong&gt;ä½¿ç”¨ç¼“å­˜ã€‚ä½¿ç”¨ç¼“å­˜ï¼Œåˆ†æœ¬åœ°ç¼“å­˜å’Œè¿œç¨‹ç¼“å­˜ã€‚ä½¿ç”¨ç¼“å­˜åï¼Œåº”ç”¨æœåŠ¡å™¨å¯¹äºå…³é”®ä¸šåŠ¡ï¼Œé¦–å…ˆè€ƒè™‘çš„æ˜¯è®¿é—®æœ¬åœ°ç¼“å­˜ï¼Œå¦‚æœä¸å‘½ä¸­ï¼Œå†è®¿é—®è¿œç¨‹ç¼“å­˜å’Œæ•°æ®åº“ã€‚çƒ­ç‚¹æ•°æ®éœ€è¦è€ƒè™‘æ€ä¹ˆå’Œæ•°æ®åº“åŒæ­¥ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;åº”ç”¨æœåŠ¡ç¾¤é›†è§£å†³å¹¶å‘èƒ½åŠ›
&lt;img src=&#34;https://luoguochun.cn/img/arch/soft-arch-1-4.png&#34; alt=&#34;åº”ç”¨æœåŠ¡ç¾¤é›†è§£å†³å¹¶å‘èƒ½åŠ›&#34;&gt;
å½“åº”ç”¨æœåŠ¡æˆä¸ºæ€§èƒ½ç“¶é¢ˆå•å°æœºå™¨æ— æ³•æ”¯æ’‘ä¸šåŠ¡çš„æ—¶å€™ï¼Œä½¿ç”¨åº”ç”¨æœåŠ¡ç¾¤é›†ï¼Œå†åœ¨å‰é¢å¢åŠ è´Ÿè½½å‡è¡¡è°ƒåº¦æœåŠ¡å™¨ã€‚è¿™æ ·è¦æ±‚åº”ç”¨æœåŠ¡åšåˆ°ä¼šè¯æ— å…³ï¼Œæˆ–è€…ä½¿ç”¨åˆ†å¸ƒå¼ç¼“å­˜è§£å†³ä¼šè¯é—®é¢˜ã€‚è¿™æ ·åº”ç”¨æœåŠ¡å™¨éšæ—¶å¯ä¼¸ç¼©ï¼Œä¸åœ¨ä¼šæˆä¸ºç“¶é¢ˆã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;æ•°æ®åº“è¯»å†™åˆ†ç¦»
&lt;img src=&#34;https://luoguochun.cn/img/arch/soft-arch-1-5.png&#34; alt=&#34;æ•°æ®åº“è¯»å†™åˆ†ç¦»&#34;&gt;
æ•°æ®åº“å‹åŠ›å¢å¤§ï¼Œä½¿ç”¨ç¼“å­˜ä¹‹åï¼Œä¸€èˆ¬æ•°æ®åº“è®¿é—®ä¼šé™ä½ï¼Œä½†å´å­˜åœ¨éƒ¨åˆ†è¯»ä¸å‘½ä¸­ï¼Œå†™æ“ä½œè®¿é—®æ•°æ®åº“ã€‚æ•°æ®åº“ä¸»ä»é…ç½®æ˜¯æ•°æ®å®‰å…¨å’Œæ•…éšœæ¢å¤çš„ä¸€ä¸ªé‡è¦æªæ–½ï¼Œä¹Ÿæ˜¯æé«˜æ•°æ®æ€§èƒ½çš„ä¸€ç§æªæ–½ã€‚æ•°æ®åº“è¿›è¡Œé…ç½®ä¸»ä»å¤åˆ¶ï¼Œä¸»åº“è´Ÿè´£å†™ï¼Œå¤‡åº“è´Ÿè´£è¯»ï¼Œå®ç°è¯»å†™åˆ†ç¦»ã€‚è‡³æ­¤ï¼Œå¯çœ‹åˆ°ï¼Œåº”ç”¨æœåŠ¡å™¨å·²ç»éœ€è¦åšå¾ˆå¤§çš„æ”¹åŠ¨äº†ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;åå‘ä»£ç†å’ŒCDNåŠ é€Ÿ
&lt;img src=&#34;https://luoguochun.cn/img/arch/soft-arch-1-6.png&#34; alt=&#34;åå‘ä»£ç†å’ŒCDNåŠ é€Ÿ&#34;&gt;
è¿™é‡Œä¸»è¦æ˜¯èµ„æºçš„åŠ é€Ÿï¼Œåå‘ä»£ç†å’ŒCDNæœ¬è´¨æ˜¯ç¼“å­˜ï¼Œè§£å†³å¤æ‚ç½‘ç»œæƒ…å†µä¸‹çš„è®¿é—®ï¼Œè´Ÿè½½å‡è¡¡è°ƒåº¦ä¼˜å…ˆåå‘ä»£ç†è®¿é—®ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;ä½¿ç”¨åˆ†å¸ƒå¼æ–‡ä»¶æœåŠ¡å™¨å’Œæ•°æ®åº“æœåŠ¡å™¨
&lt;img src=&#34;https://luoguochun.cn/img/arch/soft-arch-1-7.png&#34; alt=&#34;ä½¿ç”¨åˆ†å¸ƒå¼æ–‡ä»¶æœåŠ¡å™¨å’Œæ•°æ®åº“æœåŠ¡å™¨&#34;&gt;
æ•°æ®åº“ä¸»å¤‡è¯»å†™åˆ†ç¦»ä¸èƒ½æ»¡è¶³ä¸šåŠ¡å¢é•¿éœ€æ±‚ï¼Œæ–‡ä»¶æœåŠ¡ä¹Ÿä¸€æ ·ï¼Œé‚£ä¹ˆå°±éœ€è¦è¿›è¡Œæ‹†åˆ†ã€‚åˆ†å¸ƒå¼æ–‡ä»¶æœåŠ¡å™¨å’Œåˆ†å¸ƒå¼æ•°æ®åº“ï¼Œå¸¦æ¥æ›´éš¾çš„è¿ç»´ï¼Œåªè¦éä¸å¾—å·²ï¼Œæ‰ä½¿ç”¨ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;ä½¿ç”¨nosqlæ•°æ®åº“å’Œæœç´¢å¼•æ“æœåŠ¡å™¨
&lt;img src=&#34;https://luoguochun.cn/img/arch/soft-arch-1-8.png&#34; alt=&#34;ä½¿ç”¨nosqlæ•°æ®åº“å’Œæœç´¢å¼•æ“æœåŠ¡å™¨&#34;&gt;
ä¸šåŠ¡å¤æ‚æ€§å¢åŠ ï¼Œè€ƒè™‘ä½¿ç”¨nosqlæ•°æ®åº“è§£å†³å¤æ‚çš„æ•°æ®å­˜å‚¨å’Œä½¿ç”¨æœç´¢å¼•æ“æœåŠ¡å™¨è§£å†³æ£€ç´¢éœ€æ±‚ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;ä¸šåŠ¡æ‹†åˆ†
&lt;img src=&#34;https://luoguochun.cn/img/arch/soft-arch-1-9.png&#34; alt=&#34;ä¸šåŠ¡æ‹†åˆ†&#34;&gt;
ä¸šåŠ¡æ‹†åˆ†åº”å¯¹å„ç§å¤æ‚çš„ä¸šåŠ¡éœ€æ±‚ï¼Œå½¢æˆä¸åŒçš„äº§å“çº¿ã€‚å¯èƒ½ä¼šæ¶‰åŠåˆ†åº“ï¼Œåˆ†è¡¨ç­‰ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;åˆ†å¸ƒå¼æœåŠ¡
&lt;img src=&#34;https://luoguochun.cn/img/arch/soft-arch-1-10.png&#34; alt=&#34;åˆ†å¸ƒå¼æœåŠ¡&#34;&gt;
æ¯ä¸ªäº§å“çº¿éƒ½è¦æœ‰å…±åŒå‘æ•°æ®è®¿é—®éœ€æ±‚ï¼Œå°†è¿™äº›éœ€æ±‚ç‹¬ç«‹èµ·æ¥åˆ†å¸ƒå¼éƒ¨ç½²ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;ç”±ä»¥ä¸Šå¯çœ‹åˆ°ï¼Œéšç€ä¸šåŠ¡çš„ä¸æ–­å‘å±•å’Œæ·±å…¥ï¼Œåº”ç”¨æœåŠ¡éƒ½éšç€æ„æ¶çš„ä¸æ–­æ”¹å˜å’Œä¸æ–­è¿›è¡Œæ¼”åŒ–ï¼Œæœ€ç»ˆå½¢æˆé¢å‘æœåŠ¡çš„ä½“ç³»ç»“æ„ã€‚ä¹Ÿå¯çœ‹åˆ°ï¼Œæ„æ¶çš„å˜åŒ–ä¼šç»™åº”ç”¨æœåŠ¡çš„æ—¶å€™è¶Šæ¥è¶Šå¤æ‚ï¼Œè¿ç»´ä¹Ÿæ˜¯è¶Šæ¥è¶Šå¤æ‚ã€‚å¯¹äºä¸€ä¸ªå°‘é‡ç”¨æˆ·è€Œè¨€ï¼Œè¿½æ±‚è€…å¤æ‚çš„æ„æ¶å¯èƒ½é€‚å¾—å…¶åã€‚æ‰€ä»¥å†æ¬¡å¼ºè°ƒçš„æ˜¯ï¼Œä¸è¦ä¸€å‘³è¿½æ±‚å¤§å‹æ„æ¶æŠ€æœ¯ï¼Œä¸šåŠ¡é©±åŠ¨æ„æ¶ï¼Œä¸æ˜¯æ„æ¶é©±åŠ¨ä¸šåŠ¡ã€‚ä¸è¦ä¸€å‘³è¿½éšå¤§å…¬å¸çš„è§£å†³æ–¹æ¡ˆï¼Œä¸è¦ä¸ºäº†æŠ€æœ¯è€ŒæŠ€æœ¯ï¼Œä¸è¦ä¼å›¾è§£å†³æ‰€æœ‰é—®é¢˜ï¼ˆè¿™æ˜¯æœ‰è¡€çš„æ•™è®­çš„ï¼‰ã€‚&lt;/p&gt;
&lt;p&gt;å¯å¹¸çš„æ˜¯ï¼Œå¯¹äºé è°±çš„äº‘è®¡ç®—å¹³å°ï¼Œå·²ç»äº§å“åŒ–å„ç§éœ€æ±‚ï¼Œä¸­å°ä¼ä¸šå¯èƒ½ä¸åœ¨éœ€è¦å…³å¿ƒæ„æ¶é—®é¢˜ï¼ŒæŒ‰éœ€ä»˜è´¹å³å¯ä½¿ç”¨ã€‚ä½¿ç”¨äº‘è®¡ç®—ï¼Œä¸å†éœ€è¦è‡ªå·±æ‹¼å‡‘èµ„æºï¼Œä½¿ç”¨ç°æœ‰çš„ä¸€åˆ‡æŠ€æœ¯æ–¹æ¡ˆï¼Œå³å¯å®Œå–„è‡ªå·±çš„æ„æ¶ï¼Œå¼€å±•è‡ªå·±çš„ä¸šåŠ¡ï¼ˆå½“ç„¶ï¼Œé’±å’Œå‡ºé—®é¢˜æ˜¯ä¸šåŠ¡çš„å“åº”é€Ÿåº¦æ˜¯ä¸€å¤§é—®é¢˜ï¼‰ã€‚&lt;/p&gt;
&lt;h2 id=&#34;è½¯ä»¶æ„æ¶æ¨¡å¼&#34;&gt;è½¯ä»¶æ„æ¶æ¨¡å¼ &lt;a href=&#34;#%e8%bd%af%e4%bb%b6%e6%9e%84%e6%9e%b6%e6%a8%a1%e5%bc%8f&#34; class=&#34;anchor&#34;&gt;ğŸ”—&lt;/a&gt;&lt;/h2&gt;&lt;p&gt;æ‰€è°“çš„æ¨¡å¼æ˜¯æŒ‡ï¼Œåœ¨æˆ‘ä»¬å‘¨å›´ä¸æ–­çš„é‡å¤å‘ç”Ÿçš„é—®é¢˜å’Œå·²æœ‰çš„è§£å†³æ–¹æ¡ˆï¼Œå¦‚æ­¤ï¼Œå°±å¯ä»¥ä½¿ç”¨è¯¥æ–¹æ¡ˆæ¥è§£å†³é—®é¢˜ï¼Œè€Œéåšé‡å¤çš„å·¥ä½œï¼ˆGoFçš„è®¾è®¡æ¨¡å¼ï¼ŒæŒ‡çš„æ˜¯å¼€å‘å±‚é¢çš„ï¼Œè¿™é‡Œæ˜¯æ„æ¶å±‚é¢ï¼‰ã€‚&lt;/p&gt;
&lt;p&gt;å¸¸è§çš„è½¯ä»¶æ„æ¶æ¨¡å¼ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;åˆ†å±‚
è¿™æ˜¯æœ€å¸¸è§çš„æ„æ¶æ¨¡å¼ã€‚å°†ç³»ç»Ÿæ¨ªå‘åˆ†ä¸ºå‡ ä¸ªéƒ¨åˆ†ï¼Œæ¯éƒ¨åˆ†è´Ÿè´£å•ä¸€çš„åŠŸèƒ½ï¼Œé€šè¿‡ä¸Šå±‚å¯¹ä¸‹å±‚çš„è°ƒç”¨ï¼Œå½¢æˆä¸€ä¸ªå®Œæ•´çš„ç³»ç»Ÿã€‚å¦‚ï¼ŒTCP/IPåè®®æ ˆï¼Œè¿™å°±æ˜¯å…¸å‹çš„åˆ†å±‚ç³»ç»Ÿã€‚é€šå¸¸ç³»ç»Ÿçš„åˆ’åˆ†ï¼Œåˆ†ä¸ºï¼Œåº”ç”¨å±‚&amp;ndash;è´Ÿè´£å±•ç¤ºï¼ŒæœåŠ¡å±‚&amp;ndash;è´Ÿè´£æœåŠ¡æ”¯æŒï¼Œæ•°æ®å±‚&amp;ndash;è´Ÿè´£æ•°æ®æœåŠ¡ã€‚é€šè¿‡ç³»ç»Ÿçš„åˆ†å±‚ï¼Œå¯å°†ä¸€ä¸ªåºå¤§çš„ç³»ç»Ÿæ•´ä½“ä¸Šåˆ‡åˆ†ä¸ºä¸åŒçš„éƒ¨åˆ†ï¼Œä¾¿äºä¸åŒéƒ¨é—¨çš„å¼€å‘å’Œç»´æŠ¤ï¼ŒåŒæ—¶ä¹Ÿä¾¿äºç‹¬ç«‹æ¼”åŒ–å’Œå‘å±•ã€‚ç³»ç»Ÿåˆ†å±‚ï¼Œæ¦‚å¿µä¸Šçœ‹å¾ˆå®¹æ˜“ç†è§£ï¼Œç„¶è€Œåœ¨å®è·µä¸Šï¼Œå´åˆå¾ˆå®¹æ˜“è¿èƒŒå…¶åŸºæœ¬åŸåˆ™ã€‚ç³»ç»Ÿåˆ†å±‚æŒ‘æˆ˜ï¼šåˆç†åˆ’åˆ†å±‚æ¬¡å’Œè¾¹ç•Œæ¥å£ï¼Œä¸¥æ ¼éµå¾ªåˆ†å±‚æ„æ¶çš„çº¦æŸï¼Œç¦æ­¢è·¨å±‚è°ƒç”¨ã€‚åˆ†å±‚æ„æ¶å¯¹æ”¯æŒé«˜å¹¶å‘å‘å±•å’Œåˆ†å¸ƒå¼å‘å±•éå¸¸é‡è¦ï¼Œéœ€åœ¨æœ€å¼€å§‹çš„æ—¶å€™è€ƒè™‘ã€‚è¿›è¡Œéƒ¨ç½²çš„æ—¶å€™ï¼Œå¯ä»¥åˆ†åˆ«éƒ¨ç½²åˆ°ä¸åŒçš„ç‰©ç†æœºå™¨ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;åˆ†å‰²
ç³»ç»Ÿåˆ†å‰²å±äºçºµå‘åˆ†å‰²ï¼ŒæŒ‡ä¸šåŠ¡åˆ†å‰²ï¼Œæ ¹æ®ä¸šåŠ¡å’Œéœ€æ±‚å°†æœåŠ¡åˆ†å‰²ä¸ºä¸åŒçš„ç‹¬ç«‹å•å…ƒã€‚ä¸šåŠ¡åˆ’åˆ†ä¸ºä¸åŒçš„ç‹¬ç«‹å•å…ƒï¼Œä¸€æ–¹é¢æ–¹ä¾¿å¼€å‘å’Œç»´æŠ¤ï¼ŒåŒæ—¶ä¹Ÿæ˜¯æ–¹ä¾¿åˆ†å¸ƒå¼éƒ¨ç½²ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;åˆ†å¸ƒå¼
ç³»ç»Ÿçš„åˆ†å±‚å’Œç³»ç»Ÿåˆ†å‰²éƒ½æ˜¯ä¸ºäº†æ–¹ä¾¿åˆ†å¸ƒå¼éƒ¨ç½²ã€‚åˆ†å¸ƒå¼æœ‰è¾ƒå¼ºçš„ä¼¸ç¼©æ€§ï¼Œå¯ä»¥åˆ©ç”¨å¤šå°å»‰ä»·æœºå™¨æé«˜æ€§èƒ½ã€‚åˆ†å¸ƒå¼å¸¦æ¥çš„é—®é¢˜ï¼šç½‘ç»œè°ƒç”¨å¯¼è‡´æ€§èƒ½é™ä½ï¼Œå®•æœºæ¦‚ç‡å¢åŠ ï¼Œåˆ†å¸ƒå¼äº‹åŠ¡éš¾ä¿è¯ï¼Œå¼€å‘ç®¡ç†ç»´æŠ¤å›°éš¾ã€‚å¸¸è§åˆ†å¸ƒå¼æ–¹æ¡ˆï¼šåˆ†å¸ƒå¼åº”ç”¨å’ŒæœåŠ¡ï¼Œåˆ†å¸ƒå¼é™æ€èµ„æºï¼Œåˆ†å¸ƒå¼æ•°æ®å’Œå­˜å‚¨ï¼Œåˆ†å¸ƒå¼è®¡ç®—ç­‰ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;é›†ç¾¤
å¯¹äºé›†ä¸­è®¿é—®çš„èµ„æºï¼Œé€šè¿‡å¤šå°æœåŠ¡å™¨æ„æˆä¸€ä¸ªé›†ç¾¤ï¼Œé€šè¿‡è´Ÿè½½å‡è¡¡è®¾å¤‡å…±åŒå¯¹å¤–æä¾›æœåŠ¡ï¼Œè¿™æ ·æ›´å¤šç”¨æˆ·æ—¶ï¼Œå¢åŠ æœºå™¨ï¼Œç”¨æˆ·å°‘æ—¶ï¼Œå‡å°‘æœºå™¨ï¼Œå…·å¤‡è¾ƒå¼ºçš„ä¼¸ç¼©æ€§å’Œæ€§èƒ½ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;ç¼“å­˜
ä½¿ç”¨ç¼“å­˜æ˜¯è§£å†³æ€§èƒ½é—®é¢˜çš„ç¬¬ä¸€æ‰‹æ®µã€‚ç¼“å­˜æ–¹å¼ï¼šCDNï¼Œåå‘ä»£ç†ï¼Œæœ¬åœ°ç¼“å­˜ï¼Œåˆ†å¸ƒå¼ç¼“å­˜ã€‚ç¼“å­˜ä½¿ç”¨æ¡ä»¶ï¼šçƒ­ç‚¹æ•°æ®è®¿é—®ä¸å‡è¡¡ï¼ŒæŸäº›æ•°æ®è¢«é¢‘ç¹çš„è®¿é—®ï¼Œæ•°æ®åœ¨ä¸€æ–­æ—¶é—´å†…æœ‰æ•ˆï¼Œä¸ä¼šå¾ˆå¿«è¿‡æœŸã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;å¼‚æ­¥
æœ¬è´¨ä¸Šæ˜¯å°†ä¸šåŠ¡åˆ†æˆå¤šä¸ªé˜¶æ®µï¼Œæ¯ä¸ªé˜¶æ®µä¹‹é—´é€šè¿‡å…±äº«æ•°æ®çš„æ–¹å¼è¿›è¡Œåä½œã€‚å•ä¸€æœåŠ¡å¯é€šè¿‡å…±äº«é˜Ÿåˆ—çš„æ–¹å¼æ—¶é—´ï¼Œåˆ†å¸ƒå¼ä¸­å¤šä¸ªæœåŠ¡å™¨å¯ä½¿ç”¨åˆ†å¸ƒå¼æ¶ˆæ¯é˜Ÿåˆ—å®ç°ï¼Œåˆ†å¸ƒå¼é˜Ÿåˆ—å¯è§†ä¸ºå†…å­˜é˜Ÿåˆ—çš„åˆ†å¸ƒå¼éƒ¨ç½²ã€‚å¼‚æ­¥æ¶ˆæ¯é˜Ÿåˆ—çš„ç‰¹æ€§ï¼šæé«˜ç³»ç»Ÿçš„å¯ç”¨æ€§ï¼ŒåŠ å¿«ç½‘ç«™å“åº”é€Ÿåº¦ï¼Œæ¶ˆé™¤å¹¶å‘è®¿é—®é«˜å³°ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;å†—ä½™
ä¸ºäº†é¿å…æœåŠ¡å®•æœºå¯¼è‡´æœåŠ¡ä¸å¯ç”¨ç­‰é—®é¢˜ï¼Œéœ€è¦è¿›è¡Œå†—ä½™éƒ¨ç½²å’Œæ•°æ®å†—ä½™å¤‡ä»½ã€‚å®šæœŸä¿å­˜ï¼Œå†·å¤‡ï¼Œæ•°æ®è¿›è¡Œä¸»å¤‡åˆ†ç¦»ï¼Œå®æ—¶åŒæ­¥å®ç°çƒ­å¤‡ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;è‡ªåŠ¨åŒ–
å‘å¸ƒè¿‡ç¨‹è‡ªåŠ¨æ¢ï¼Œè‡ªåŠ¨åŒ–ä»£ç ç®¡ç†ï¼Œè‡ªåŠ¨åŒ–æµ‹è¯•ï¼Œè‡ªåŠ¨è¿ç»´ç­‰ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;å®‰å…¨
å¯†ç ï¼ŒéªŒè¯ç ï¼Œé€šè®¯ï¼ŒXSSæ”»å‡»ï¼ŒSQLæ³¨å…¥ç­‰ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;å¥½çš„æ¨¡å¼ä¸æ˜¯æ¨¡ä»¿ï¼Œè€Œæ˜¯å¯¹é—®é¢˜æ·±åˆ»ç†è§£ä¹‹ä¸Šçš„åˆ›é€ ä¸åˆ›æ–°ã€‚ç”±ä¸Šæ„æ¶çš„æ¨¡å¼è¦ç´ ï¼Œç³»ç»Ÿåˆ†å±‚å’Œåˆ†å‰²æ˜¯åŸºç¡€ã€‚&lt;/p&gt;
&lt;h2 id=&#34;æ„æ¶è¦ç´ &#34;&gt;æ„æ¶è¦ç´  &lt;a href=&#34;#%e6%9e%84%e6%9e%b6%e8%a6%81%e7%b4%a0&#34; class=&#34;anchor&#34;&gt;ğŸ”—&lt;/a&gt;&lt;/h2&gt;&lt;p&gt;æ„æ¶å§‹ç»ˆå›´ç»•ç€â€œé«˜æ€§èƒ½ï¼Œé«˜å¯ç”¨ï¼Œæ˜“æ‰©å±•ï¼Œå¯ä¼¸ç¼©ï¼Œé«˜å®‰å…¨â€è¿™å‡ ä¸ªè¦ç´ æ¥çš„ã€‚&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;é«˜æ€§èƒ½
æ€§èƒ½æŒ‡æ ‡ï¼šå“åº”æ—¶é—´ï¼Œå¹¶å‘æ•°ï¼Œååé‡(TPS&amp;ndash;æ¯ç§’äº‹åŠ¡, HPS&amp;ndash;æ¯ç§’httpè¯·æ±‚, QPSæ¯ç§’æŸ¥è¯¢)ï¼Œæ€§èƒ½è®¡æ•°å™¨(å†…å­˜ï¼ŒCPU,ç£ç›˜ï¼Œç½‘ç»œIOç­‰ï¼Œä½¿ç”¨nmonç­‰å·¥å…·è®¡ç®—)
æµ‹è¯•æ–¹æ³•ï¼šæ€§èƒ½æµ‹è¯•ï¼Œå‹åŠ›æµ‹è¯•ï¼Œç¨³å®šæ€§æµ‹è¯•
æµ‹è¯•æŠ¥å‘Šå¦‚ï¼š
&lt;img src=&#34;https://luoguochun.cn/img/arch/soft-arch-4-2.png&#34; alt=&#34;æµ‹è¯•æŠ¥å‘Š&#34;&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;å‰ç«¯æ€§èƒ½ä¼˜åŒ–ï¼š
å‡å°‘httpè¯·æ±‚ï¼ˆå¤šä¸ªJSï¼Œcssåˆæˆä¸€ä¸ªï¼‰ï¼Œä½¿ç”¨æµè§ˆå™¨ç¼“å­˜ï¼ˆCache-controlï¼Œexpiredç­‰å¤´éƒ¨å±æ€§,å¯ç”¨å‹ç¼©ï¼ŒCSSåœ¨headé‡Œé¢ï¼Œjsåœ¨bodyé‡Œé¢ï¼ˆå‡å°‘åŠ è½½æ—¶æ˜¾ç¤ºç©ºç™½é¡µé¢ï¼‰ï¼Œå‡å°‘cookieä¼ è¾“ã€‚ä½¿ç”¨CDNåŠ é€Ÿï¼Œä½¿ç”¨åå‘ä»£ç†ç¼“å­˜ï¼ˆnginxï¼Œapacheç­‰éƒ½å¯ä»¥ç¼“å­˜ï¼‰&lt;/p&gt;
&lt;p&gt;åº”ç”¨æœåŠ¡å™¨çš„ä¼˜åŒ–ï¼š
ä½¿ç”¨åˆ†å¸ƒå¼ç¼“å­˜ï¼Œæ°å½“ä½¿ç”¨ç¼“å­˜ï¼Œé¢‘ç¹ä¿®æ”¹çš„æ•°æ®ï¼Œæ²¡çƒ­ç‚¹è®¿é—®çš„æ•°æ®ï¼Œæ•°æ®ä¸ä¸€è‡´ä¸è„è¯»ï¼Œç¼“å­˜å¯ç”¨æ€§è¶…æ—¶ç­‰, å¼‚æ­¥æ“ä½œ, ä½¿ç”¨é›†ç¾¤&lt;/p&gt;
&lt;p&gt;å­˜å‚¨æ€§èƒ½ä¼˜åŒ–ï¼š
å›ºæ€ç¡¬ç›˜ï¼ŒRAID, HDFS&lt;/p&gt;
&lt;ol start=&#34;2&#34;&gt;
&lt;li&gt;
&lt;p&gt;é«˜å¯ç”¨æ€§
é«˜å¯ç”¨æ€§, ä¸€ä¸ªæ˜¾è‘—çš„ç‰¹ç‚¹æ˜¯åº”ç”¨çš„æ— çŠ¶æ€æ€§ã€‚
é«˜å¯ç”¨æœåŠ¡ï¼šåˆ†çº§ç®¡ç†ï¼ˆæ ¸å¿ƒæœåŠ¡ä½¿ç”¨æ›´å¥½çš„ç¡¬ä»¶ï¼‰ï¼Œè¶…æ—¶è®¾ç½®ï¼Œå¼‚æ­¥è°ƒç”¨ï¼ŒæœåŠ¡é™çº§ï¼ˆå…³æ‰ä¸é‡è¦æœåŠ¡ç­‰, ç­‰å¹‚è®¾è®¡ï¼ˆæœåŠ¡å¤±è´¥åï¼Œå°†è¯·æ±‚è´Ÿè½½åˆ°å…¶ä»–å¯ç”¨æœåŠ¡ï¼‰ã€‚
å¤±æ•ˆè½¬ç§»ï¼šå¤±æ•ˆç¡®è®¤ï¼ˆé€šè¿‡å¿ƒè·³ï¼Œå¤±è´¥æŠ¥å‘Šï¼‰ï¼Œè®¿é—®è¿ç§»ï¼Œæ•°æ®æ¢å¤ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;ä¼¸ç¼©æ€§
ä¸åŒåŠŸèƒ½è¿›è¡Œç‰©ç†åˆ†ç¦»ï¼Œå•ä¸€åŠŸèƒ½é€šè¿‡ç¾¤é›†å®ç°ã€‚
åº”ç”¨æœåŠ¡ç¾¤é›†ï¼šhttpé‡å®šå‘è´Ÿè½½å‡è¡¡ï¼ˆ302é‡å®šå‘ï¼‰ï¼ŒDNSåŸŸåè§£æè´Ÿè½½å‡è¡¡ï¼ˆåŸŸåè§£æé…ç½®å¤šä¸ªAè®°å½•ï¼‰ï¼Œåå‘ä»£ç†è´Ÿè½½å‡è¡¡ï¼ŒIPè´Ÿè½½å‡è¡¡ï¼Œæ•°æ®é“¾è·¯å±‚è´Ÿè½½å‡è¡¡ï¼ˆé€šè¿‡ä¿®æ”¹ç›®çš„MACåœ°å€å®ç°ï¼ŒLVSï¼Œä½¿ç”¨å¹¿æ³›ï¼‰ã€‚
è´Ÿè½½å‡è¡¡ç®—æ³•ï¼šè½®è¯¢ï¼ŒåŠ æƒè½®è¯¢ï¼Œéšæœºï¼Œæœ€å°‘é“¾æ¥ï¼Œæºåœ°å€æ•£åˆ—
å…³ç³»æ•°æ®åº“çš„ä¼¸ç¼©æ€§ï¼Œéå…³ç³»æ•°æ®åº“çš„ä¼¸ç¼©æ€§&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;å¯æ‰©å±•æ€§
ä½¿ç”¨æ¶ˆæ¯é˜Ÿåˆ—é™ä½è€¦åˆæ€§ï¼Œä½¿ç”¨åˆ†å¸ƒæ˜¯æœåŠ¡æ‰“é€ å¯å¤ç”¨å¹³å°&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;å®‰å…¨æ€§
XSSæ”»å‡»ï¼ˆç«™ç‚¹è„šæœ¬æ”»å‡»ï¼‰ï¼Œæ³¨å…¥æ”»å‡» ï¼ŒCSRFï¼ˆè·¨åŸŸè„šæœ¬æ”»å‡»ï¼‰ç­‰&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;æœ€å&#34;&gt;æœ€å &lt;a href=&#34;#%e6%9c%80%e5%90%8e&#34; class=&#34;anchor&#34;&gt;ğŸ”—&lt;/a&gt;&lt;/h2&gt;&lt;p&gt;æ‰€è°“çš„æ„æ¶å¸ˆä¸åº”è¯¥æ˜¯å½“ä¸€ä¸ªäººï¼Œæ‰€æœ‰çš„å‚ä¸çš„äººéƒ½æ˜¯æ„æ¶å¸ˆï¼Œä¸€ç¾¤ä¼˜ç§€çš„äººåšä¸€ä»¶ä»–ä»¬çƒ­çˆ±çš„äº‹æƒ…ï¼Œä¸€å®šèƒ½æˆåŠŸã€‚äº‹æƒ…æˆå°±äº†äººã€‚&lt;/p&gt;
&lt;p&gt;æœ€åçš„æœ€åï¼Œè¿˜æ˜¯å•°å—¦ä¸‹ï¼Œä¸è¦ä¼å›¾å»è®¾è®¡ä¸€ä¸ªå¤§å‹çš„ç½‘ç«™ï¼ˆç³»ç»Ÿï¼‰ï¼Œå¤§å‹ç³»ç»Ÿä¸æ˜¯è®¾è®¡å‡ºæ¥çš„ï¼Œè€Œæ˜¯æ¼”åŒ–å‘å±•è€Œæ¥ã€‚&lt;/p&gt;
&lt;p&gt;å®Œã€‚&lt;/p&gt;
</description>
    </item>
    
  </channel>
</rss>
