<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>orm on BUF1024!!!</title>
    <link>https://luoguochun.cn/categories/orm/</link>
    <description>Recent content in orm on BUF1024!!!</description>
    <generator>Hugo -- gohugo.io</generator>
    <language>zh-cn</language>
    <lastBuildDate>Sun, 28 Dec 2014 21:08:34 +0000</lastBuildDate><atom:link href="https://luoguochun.cn/categories/orm/index.xml" rel="self" type="application/rss+xml" />
    <item>
      <title>sqlalchemy orm æ¦‚è§ˆ</title>
      <link>https://luoguochun.cn/post/2014-12-28-sqlalchemy-orm-overview/</link>
      <pubDate>Sun, 28 Dec 2014 21:08:34 +0000</pubDate>
      
      <guid>https://luoguochun.cn/post/2014-12-28-sqlalchemy-orm-overview/</guid>
      <description>&lt;h4 id=&#34;sqlalchemy-æ¦‚è¿°&#34;&gt;&lt;em&gt;&lt;strong&gt;SQLAlchemy&lt;/strong&gt;&lt;/em&gt; æ¦‚è¿° &lt;a href=&#34;#sqlalchemy-%e6%a6%82%e8%bf%b0&#34; class=&#34;anchor&#34;&gt;ğŸ”—&lt;/a&gt;&lt;/h4&gt;&lt;p&gt;åœ¨&lt;code&gt;python&lt;/code&gt;çš„&lt;code&gt;orm&lt;/code&gt;ä¸–ç•Œé‡Œï¼Œ&lt;a href=&#34;www.sqlalchemy.org&#34;&gt;SQLAlchemy&lt;/a&gt;,æ— ç–‘æ˜¯æ•°æ®åº“å·¥å…·é“¾é‡Œé¢çš„ä¸€ä¸ªé‡é‡çº§çš„å·¥å…·ã€‚SQLAlchemyç®€ç•¥æ„æ¶å›¾å¦‚ä¸‹:&lt;br&gt;
&lt;img src=&#34;https://luoguochun.cn/img/python/sqlalchemy-orm-overview_arch_small.png&#34; alt=&#34;SQLAlchemyç®€ç•¥æ„æ¶å›¾&#34;&gt;&lt;/p&gt;
&lt;p&gt;å¦‚å›¾æ‰€è¿°ï¼ŒSQLAlchemyä¸»è¦åŒ…æ‹¬ä¸¤ä¸ªå¤§æ–¹é¢: &lt;strong&gt;CORE&lt;/strong&gt;å’Œ&lt;strong&gt;ORM&lt;/strong&gt;ï¼Œå…¶ä¸­&lt;strong&gt;CORE&lt;/strong&gt;é‡Œé¢æœ€é‡è¦çš„æ˜¯&lt;strong&gt;SQL Expression Language(SQL EL)&lt;/strong&gt;, &lt;strong&gt;ORM&lt;/strong&gt;æ˜¯å»ºç«‹åœ¨&lt;strong&gt;SQL EL&lt;/strong&gt;ä¹‹ä¸Šï¼Œè€Œ&lt;strong&gt;SQL EL&lt;/strong&gt;é€šè¿‡&lt;strong&gt;ENGINE&lt;/strong&gt;,&lt;strong&gt;DIALECT&lt;/strong&gt;å»ºç«‹åœ¨å…·ä½“çš„&lt;strong&gt;DBAPI&lt;/strong&gt;ä¹‹ä¸Šã€‚&lt;/p&gt;
&lt;h5 id=&#34;æ•°æ®åº“è¿æ¥&#34;&gt;æ•°æ®åº“è¿æ¥ &lt;a href=&#34;#%e6%95%b0%e6%8d%ae%e5%ba%93%e8%bf%9e%e6%8e%a5&#34; class=&#34;anchor&#34;&gt;ğŸ”—&lt;/a&gt;&lt;/h5&gt;&lt;p&gt;ä½¿ç”¨&lt;a href=&#34;www.sqlalchemy.org&#34;&gt;SQLAlchemy&lt;/a&gt;ï¼Œå¿…é¡»å…³è”ä¸€ä¸ªæ•°æ®åº“åç«¯ï¼Œåç«¯ä½¿ç”¨&lt;code&gt;create_egine&lt;/code&gt;åˆ›å»ºï¼Œå¦‚ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-python&#34; data-lang=&#34;python&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;o&#34;&gt;&amp;gt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class=&#34;kn&#34;&gt;from&lt;/span&gt; &lt;span class=&#34;nn&#34;&gt;sqlalchemy&lt;/span&gt; &lt;span class=&#34;kn&#34;&gt;import&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;*&lt;/span&gt; &lt;span class=&#34;c1&#34;&gt;#å¯¼å…¥sqlalchemyæ‰€æœ‰åŒ…&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;o&#34;&gt;&amp;gt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;engine&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;create_engine&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;sqlite:///:memory:&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;echo&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;kc&#34;&gt;True&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;c1&#34;&gt;#ç»‘å®šæ•°æ®åº“åç«¯&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;&lt;code&gt;create_engine&lt;/code&gt;é€šè¿‡ä¸åŒçš„&lt;a href=&#34;http://docs.sqlalchemy.org/en/rel_0_9/core/engines.html#database-urls&#34;&gt;DB URL&lt;/a&gt;æ¥è¯†åˆ«ä¸åŒæ•°æ®åº“åç«¯ï¼Œæ•°æ®åº“æ¥å£å¿…é¡»æ˜¯ç¬¦åˆ&lt;a href=&#34;http://docs.sqlalchemy.org/en/rel_0_9/glossary.html#term-dbapi&#34;&gt;python dbapi&lt;/a&gt;è§„èŒƒçš„ã€‚éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œ&lt;code&gt;create_engine&lt;/code&gt;å¹¶ä¸å®é™…å’Œæ•°æ®åº“è¿›è¡Œè¿æ¥ï¼Œç­‰åˆ°ç¬¬ä¸€æ¬¡æ‰§è¡Œ&lt;a href=&#34;http://docs.sqlalchemy.org/en/rel_0_9/core/connections.html#sqlalchemy.engine.Engine.execute&#34;&gt;Engine.execute&lt;/a&gt;æˆ–&lt;a href=&#34;http://docs.sqlalchemy.org/en/rel_0_9/core/connections.html#sqlalchemy.engine.Engine.connect&#34;&gt;Engine.connect&lt;/a&gt;æ˜¾å¼è¿æ¥æ—¶ï¼Œæ‰è¿›è¡ŒçœŸæ­£çš„æ•°æ®åº“è¿æ¥ã€‚&lt;/p&gt;
&lt;h5 id=&#34;åº“è¡¨æ•°æ®è¡¨ç¤º&#34;&gt;åº“è¡¨æ•°æ®è¡¨ç¤º &lt;a href=&#34;#%e5%ba%93%e8%a1%a8%e6%95%b0%e6%8d%ae%e8%a1%a8%e7%a4%ba&#34; class=&#34;anchor&#34;&gt;ğŸ”—&lt;/a&gt;&lt;/h5&gt;&lt;p&gt;&lt;a href=&#34;www.sqlalchemy.org&#34;&gt;SQLAlchemy&lt;/a&gt;æœ‰3ç§æ–¹å¼è¡¨ç¤ºå…³ç³»æ•°æ®åº“çš„åº“è¡¨ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;ç”¨æˆ·å®šä¹‰çš„&lt;code&gt;Table&lt;/code&gt;å¯¹è±¡&lt;/li&gt;
&lt;li&gt;ä½¿ç”¨&lt;code&gt;declerative&lt;/code&gt;åŸºç±»&lt;/li&gt;
&lt;li&gt;ä»ç°æœ‰çš„æ•°æ®é‡Œé¢åå°„å»ºç«‹&lt;/li&gt;
&lt;/ul&gt;
&lt;h5 id=&#34;æ•°æ®ç±»å‹å…³ç³»æ˜ å°„&#34;&gt;æ•°æ®ç±»å‹å…³ç³»æ˜ å°„ &lt;a href=&#34;#%e6%95%b0%e6%8d%ae%e7%b1%bb%e5%9e%8b%e5%85%b3%e7%b3%bb%e6%98%a0%e5%b0%84&#34; class=&#34;anchor&#34;&gt;ğŸ”—&lt;/a&gt;&lt;/h5&gt;&lt;p&gt;&lt;img src=&#34;https://luoguochun.cn/img/python/sqlalchemy-datatype.png&#34; alt=&#34;SQLAlchemyæ•°æ®å…³ç³»æ˜ å°„&#34;&gt;&lt;/p&gt;
&lt;h4 id=&#34;sqlalchemy-core&#34;&gt;&lt;em&gt;&lt;strong&gt;SQLAlchemy Core&lt;/strong&gt;&lt;/em&gt; &lt;a href=&#34;#sqlalchemy-core&#34; class=&#34;anchor&#34;&gt;ğŸ”—&lt;/a&gt;&lt;/h4&gt;&lt;p&gt;&lt;strong&gt;SQLAlchemy EL&lt;/strong&gt;æä¾›äº†ç”¨&lt;code&gt;python&lt;/code&gt;æ„å»ºæ•°æ®åº“å¯¹è±¡çš„æ–¹å¼ï¼Œè€Œä¸”è¿™äº›&lt;code&gt;python&lt;/code&gt;å¯¹è±¡æ˜¯æ•°æ®åº“ä¸­ç«‹çš„ï¼Œ&lt;strong&gt;EL&lt;/strong&gt;å¯¹æ•°æ®æ“ä½œä¹Ÿæ˜¯æ•°æ®åº“ä¸­ç«‹çš„ã€‚&lt;br&gt;
&lt;a href=&#34;www.sqlalchemy.org&#34;&gt;SQLAlchemy&lt;/a&gt;ä½¿ç”¨çš„&lt;strong&gt;DTATBASE METADATA&lt;/strong&gt;å’Œå†…éƒ¨æ•°æ®åº“ç»“æ„ç»‘å®šï¼Œèƒ½åŠ é€Ÿ&lt;a href=&#34;www.sqlalchemy.org&#34;&gt;SQLAlchemy&lt;/a&gt;å¯¹æ•°æ®åº“è®¿é—®ã€‚å¦‚:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt; 1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 5
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 6
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 7
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 8
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 9
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;10
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;11
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;12
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;13
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;14
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;15
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-python&#34; data-lang=&#34;python&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;kn&#34;&gt;from&lt;/span&gt; &lt;span class=&#34;nn&#34;&gt;sqlalchemy&lt;/span&gt; &lt;span class=&#34;kn&#34;&gt;import&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;*&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;n&#34;&gt;engine&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;create_engine&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;sqlite:///test.db&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;echo&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;kc&#34;&gt;True&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;n&#34;&gt;metadata&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;MetaData&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;()&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;n&#34;&gt;user&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;Table&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;user&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;metadata&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      &lt;span class=&#34;n&#34;&gt;Column&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;id&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;Integer&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;primary_key&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;kc&#34;&gt;True&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;),&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      &lt;span class=&#34;n&#34;&gt;Column&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;name&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;String&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;64&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)),&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      &lt;span class=&#34;n&#34;&gt;Column&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;sex&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;String&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;2&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)),&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;n&#34;&gt;address&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;Table&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;address&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;metadata&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      &lt;span class=&#34;n&#34;&gt;Column&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;id&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;Integer&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;primary_key&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;kc&#34;&gt;True&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;),&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      &lt;span class=&#34;n&#34;&gt;Column&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;user_id&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;kc&#34;&gt;None&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;ForeignKey&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;user.id&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)),&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      &lt;span class=&#34;n&#34;&gt;Column&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;address&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;String&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;256&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;),&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;nullable&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;kc&#34;&gt;False&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;n&#34;&gt;metadata&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;create_all&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;engine&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;æ‰§è¡Œåè¾“å‡ºå¦‚ä¸‹:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt; 1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 5
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 6
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 7
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 8
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 9
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;10
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;11
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;12
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;13
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;14
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;15
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;16
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;17
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;18
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;19
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;20
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;21
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    â€¦â€¦å¿½ç•¥æ— å…³å†…å®¹
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    CREATE TABLE user (
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            id INTEGER NOT NULL,
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            name VARCHAR(64),
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            sex VARCHAR(2),
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            PRIMARY KEY (id)
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    )
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    2014-12-31 12:21:45,555 INFO sqlalchemy.engine.base.Engine ()
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    2014-12-31 12:21:45,704 INFO sqlalchemy.engine.base.Engine COMMIT
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    2014-12-31 12:21:45,707 INFO sqlalchemy.engine.base.Engine
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    CREATE TABLE address (
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            id INTEGER NOT NULL,
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            user_id INTEGER,
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            address VARCHAR(256) NOT NULL,
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            PRIMARY KEY (id),
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            FOREIGN KEY(user_id) REFERENCES user (id)
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    )
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    2014-12-31 12:21:45,710 INFO sqlalchemy.engine.base.Engine ()
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    2014-12-31 12:21:45,716 INFO sqlalchemy.engine.base.Engine COMMIT
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;&lt;code&gt;create_engine&lt;/code&gt;ä¼šæ ¹æ®æ•°æ®åº“è¡¨åè€Œå†³å®šæ˜¯å¦éœ€è¦åœ¨æ•°æ®åº“åˆ›å»ºåº“è¡¨ï¼Œå¦‚æœé€šè¿‡&lt;code&gt;metadata&lt;/code&gt;å¢åŠ åº“è¡¨ï¼Œæ•°æ®åº“å¦‚æœæ²¡æœ‰è¯¥åº“è¡¨çš„è¯ï¼Œå°±ä¼šåˆ›å»ºã€‚ä½†å¦‚æœä¿®æ”¹åˆ—æˆ–åœ¨&lt;code&gt;metadata&lt;/code&gt;åˆ é™¤è¡¨ï¼Œåˆ™ä¸å—å½±å“ï¼Œä¸ä¼šæ‰§è¡Œã€‚å¦å¤–è¿˜æœ‰å¦å¤–ä¸€ç§æ–¹æ³•æè¿°åº“è¡¨ï¼š&lt;strong&gt;TABLE REFLECTION&lt;/strong&gt;ï¼Œåœ¨å·²æœ‰çš„æ•°æ®åº“çš„åŸºç¡€ä¸Šé€šè¿‡åå°„è·å–åº“è¡¨çš„æè¿°ï¼Œè¿™ç§æ–¹æ³•è™½ç„¶æ–¹ä¾¿ï¼Œä½†æ˜¯å¯æ§ç¨‹åº¦ç¨ä½ã€‚å…·ä½“å¯å‚è€ƒ&lt;a href=&#34;http://docs.sqlalchemy.org/en/rel_0_9/core/reflection.html&#34;&gt;Refelction Database Objects&lt;/a&gt;ã€‚&lt;/p&gt;
&lt;h5 id=&#34;sqlalchemy-core-æ•°æ®æ“ä½œ----æ’å…¥&#34;&gt;&lt;em&gt;&lt;strong&gt;SQLAlchemy Core&lt;/strong&gt;&lt;/em&gt; æ•°æ®æ“ä½œ &amp;ndash; æ’å…¥ &lt;a href=&#34;#sqlalchemy-core-%e6%95%b0%e6%8d%ae%e6%93%8d%e4%bd%9c----%e6%8f%92%e5%85%a5&#34; class=&#34;anchor&#34;&gt;ğŸ”—&lt;/a&gt;&lt;/h5&gt;&lt;p&gt;æ•°æ®çš„æ’å…¥å¯é€šè¿‡&lt;code&gt;table.insert()&lt;/code&gt;è·å–&lt;strong&gt;INSERT&lt;/strong&gt;å¯¹è±¡ï¼Œç„¶åé€šè¿‡&lt;a href=&#34;www.sqlalchemy.org&#34;&gt;SQLAlchemy&lt;/a&gt;è·å–&lt;code&gt;Connection&lt;/code&gt;å¯¹è±¡æ¥æ‰§è¡Œï¼Œè¿™æ˜¯æœ€ç›´è§‚çš„æ–¹å¼ï¼Œé»˜è®¤æ˜¯ä¸€æ‰§è¡Œå®Œæ¯•å°±æäº¤æ•°æ®åº“çš„ã€‚&lt;strong&gt;INSERT&lt;/strong&gt;å¯¹è±¡å¼å¯ä»¥é€šè¿‡ç»‘å®šå˜é‡æˆ–è€…åœ¨&lt;code&gt;Connection&lt;/code&gt;å¯¹è±¡ç»‘å®šå˜é‡æ„å»ºæ•°æ®ã€‚&lt;code&gt;Connection&lt;/code&gt;å¯ä»¥æ‰§è¡Œä¸€æ¡æˆ–å¤šæ¡æ•°æ®ï¼Œå¦‚ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt; 1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 5
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 6
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 7
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 8
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 9
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;10
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-python&#34; data-lang=&#34;python&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;n&#34;&gt;conn&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;engine&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;connect&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;()&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;n&#34;&gt;inst&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;user&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;insert&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;()&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;n&#34;&gt;rst&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;conn&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;execute&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;inst&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;nb&#34;&gt;id&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;name&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;hello&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;sex&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;F&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;n&#34;&gt;conn&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;execute&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;address&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;insert&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(),&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;[&lt;/span&gt; 
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;       &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;user_id&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;address&amp;#39;&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;Guangdong&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;},&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;       &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;user_id&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;address&amp;#39;&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;Beijing&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;},&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;       &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;user_id&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;address&amp;#39;&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;Shanghai&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;},&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;       &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;user_id&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;address&amp;#39;&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;Hongkong&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;},&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;p&#34;&gt;])&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;ç»“æœå¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;5
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    sqlite&amp;gt; select a.*, b.* from user a left join address b on b.user_id = a.id;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    1|hello|F|1|1|Guangdong
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    1|hello|F|2|1|Beijing
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    1|hello|F|3|1|Shanghai
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    1|hello|F|4|1|Hongkong
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;å¦‚æœéœ€è¦äº‹åŠ¡æ§åˆ¶ï¼Œåˆ™éœ€è¦è·å–&lt;a href=&#34;http://docs.sqlalchemy.org/en/rel_0_9/core/connections.html#sqlalchemy.engine.Transaction&#34;&gt;Transection&lt;/a&gt;å¯¹è±¡ï¼Œäº‹åŠ¡ä¸€èˆ¬éœ€è¦åœ¨&lt;code&gt;try/except&lt;/code&gt;å—ä¸­æ§åˆ¶ï¼Œå¦‚:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;try:
    addr_inst = address.insert()

    r = conn.execute(addr_inst, [ 
       {&#39;user_id&#39;: 1, &#39;address&#39; : &#39;Guangdong&#39;},
       {&#39;user_id&#39;: 1, &#39;address&#39; : &#39;Beijing&#39;},
       {&#39;user_id&#39;: 1, &#39;address&#39; : &#39;Shanghai&#39;},
       {&#39;user_id&#39;: 1, &#39;address&#39; : &#39;Hongkong&#39;},
    ])
    r.close()
    trans.commit()
except:
    trans.rollback()
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;åŒç†ï¼Œæ•°æ®çš„æŸ¥è¯¢å¯é€šè¿‡&lt;code&gt;table.select()&lt;/code&gt;è·å–&lt;strong&gt;SELECT&lt;/strong&gt;å¯¹è±¡ã€‚ä½†è¿™ç§æ–¹æ³•åªèƒ½é’ˆå¯¹ä¸€å¼ è¡¨ï¼Œå¦‚æœç”¨ä½¿ç”¨å¤šå¼ è¡¨æˆ–è€…é€‰æ‹©ä¸åŒå¯¹è±¡ï¼Œåˆ™éœ€è¦ä½¿ç”¨&lt;code&gt;select&lt;/code&gt;å‡½æ•°ã€‚å¦‚ï¼š&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;s = select([user, address]).where(user.c.id == address.c.user_id)
r = conn.execute(s)

for t in r:
    print t
    
print &#39;xxx&#39;
s = user.select().where(user.c.id == 2)
r = conn.execute(s)
for t in r:
    print t
ç»“æœå¦‚ä¸‹ï¼š
2014-12-31 15:29:07,825 INFO sqlalchemy.engine.base.Engine SELECT user.id, user.
name, user.sex, address.id, address.user_id, address.address
FROM user, address
WHERE user.id = address.user_id
2014-12-31 15:29:07,825 INFO sqlalchemy.engine.base.Engine ()
(1, u&#39;ZhangSan&#39;, u&#39;M&#39;, 1, 1, u&#39;Guangdong&#39;)
(1, u&#39;ZhangSan&#39;, u&#39;M&#39;, 2, 1, u&#39;Beijing&#39;)
(1, u&#39;ZhangSan&#39;, u&#39;M&#39;, 3, 1, u&#39;Shanghai&#39;)
(1, u&#39;ZhangSan&#39;, u&#39;M&#39;, 4, 1, u&#39;Hongkong&#39;)
xxx
2014-12-31 15:29:07,828 INFO sqlalchemy.engine.base.Engine SELECT user.id, user.
name, user.sex
FROM user
WHERE user.id = ?
2014-12-31 15:29:07,828 INFO sqlalchemy.engine.base.Engine (2,)
(2, u&#39;LiShi&#39;, u&#39;M&#39;)
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;code&gt;select&lt;/code&gt;å‡½æ•°éœ€è¦çš„å‚æ•°æ˜¯åˆ—è¡¨ï¼Œéœ€è¦é€‰æ‹©çš„ç»“æœé›†æ”¾åˆ°è¿™é‡Œé¢ï¼Œå…·ä½“çš„åˆ—å¯ä»¥é€šè¿‡&lt;code&gt;table.c.colum&lt;/code&gt;çš„æ–¹å¼æ¥è·å–ã€‚ä¸ºäº†ä¸€è‡´æ€§å¤„ç†ï¼Œé€šå¸¸å¯¹äº&lt;code&gt;select&lt;/code&gt;å‡ºæ¥çš„ç»“æœé›†ï¼Œå¦‚æœä¸éœ€è¦ä½¿ç”¨ï¼Œè¿˜éœ€è°ƒç”¨ç»“æœé›†çš„&lt;code&gt;close&lt;/code&gt;æ–¹æ³•æ¥å…³é—­ï¼Œä»è€Œé‡Šæ”¾æ•°æ®åº“èµ„æºã€‚è¿™é‡Œé‡Œä¾‹å­é‡Œé¢åŒ…å«äº†&lt;code&gt;where&lt;/code&gt;&lt;strong&gt;CLAUSE&lt;/strong&gt;ï¼Œè¿™æ˜¯ä¸ªå¸ƒå°”è¡¨è¾¾å¼ï¼Œä½¿ç”¨çš„æ˜¯&lt;code&gt;python&lt;/code&gt;è€Œé&lt;code&gt;sql&lt;/code&gt;çš„è¯­æ³•ï¼Œè¯¦ç»†å¯å‚è€ƒ&lt;a href=&#34;http://docs.sqlalchemy.org/en/rel_0_9/core/sqlelement.html#sqlalchemy.sql.expression.ColumnElement&#34;&gt;ColumnElement&lt;/a&gt;å’Œ&lt;a href=&#34;http://docs.sqlalchemy.org/en/rel_0_9/core/selectable.html&#34;&gt;SelectTable&lt;/a&gt;ã€‚&lt;a href=&#34;www.sqlalchemy.org&#34;&gt;SQLAlchemy&lt;/a&gt;çš„é€‰æ‹©è¿ç®—ç¬¦åŒ…æ‹¬and_, or_, not_, group_by,func.sumèšé›†å‡½æ•°ç­‰ï¼Œä½¿ç”¨è¿™äº›åŸºæœ¬ä¸Šå¯ä»¥æ„å»ºæ—¥å¸¸ä½¿ç”¨çš„æŸ¥è¯¢è¯­å¥ã€‚å¦‚æœè¿˜ä¸è¡Œï¼Œè¿˜å¯ä»¥åƒæ™®é€š&lt;code&gt;sql&lt;/code&gt;ä¸€æ ·ï¼Œç›´æ¥å†™ï¼Œå¦‚ï¼š&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;s = text(&amp;quot;select * from user where id = :id&amp;quot;)
r = conn.execute(s, id=1)
for t in r:
    print t
ç»“æœï¼š
2014-12-31 16:00:32,207 INFO sqlalchemy.engine.base.Engine select * from user wh
ere id = ?
2014-12-31 16:00:32,207 INFO sqlalchemy.engine.base.Engine (1,)
(1, u&#39;ZhangSan&#39;, u&#39;M&#39;)
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;å…³äºæŸ¥è¯¢å†çœ‹çœ‹&lt;strong&gt;JOIN&lt;/strong&gt;å’Œ&lt;strong&gt;SUBQUERY&lt;/strong&gt;ã€‚&lt;/p&gt;
&lt;h4 id=&#34;sqlalchemy-orm&#34;&gt;&lt;strong&gt;SQLALchemy ORM&lt;/strong&gt; &lt;a href=&#34;#sqlalchemy-orm&#34; class=&#34;anchor&#34;&gt;ğŸ”—&lt;/a&gt;&lt;/h4&gt;</description>
    </item>
    
  </channel>
</rss>
