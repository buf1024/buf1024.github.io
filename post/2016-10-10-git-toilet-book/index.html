<!DOCTYPE html>
<html lang="zh-cn">
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  <title>git 版本控制 - BUF1024!!!</title>
  <meta name="renderer" content="webkit" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>

<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />

<meta name="theme-color" content="#f8f5ec" />
<meta name="msapplication-navbutton-color" content="#f8f5ec">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="#f8f5ec">


<meta name="author" content="buf1024" /><meta name="description" content="简介 git，是目前最流行的版本控制系统，没有之一。git作为分布式版本控制系统，与其他集中式版本控制系统(如svn)的一个重要区别是，git" /><meta name="keywords" content="blog, computer, luoguochun" />






<meta name="generator" content="Hugo 0.53 with even 4.0.0" />


<link rel="canonical" href="https://luoguochun.cn/post/2016-10-10-git-toilet-book/" />
<link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
<link rel="manifest" href="/manifest.json">
<link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5">


<link href="/dist/even.4158b3c9.min.css" rel="stylesheet">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@3.1.20/dist/jquery.fancybox.min.css" integrity="sha256-7TyXnr2YU040zfSP+rEcz29ggW4j56/ujTPwjMzyqFY=" crossorigin="anonymous">


<meta property="og:title" content="git 版本控制" />
<meta property="og:description" content="简介 git，是目前最流行的版本控制系统，没有之一。git作为分布式版本控制系统，与其他集中式版本控制系统(如svn)的一个重要区别是，git" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://luoguochun.cn/post/2016-10-10-git-toilet-book/" /><meta property="article:published_time" content="2016-10-10T14:46:23&#43;00:00"/>
<meta property="article:modified_time" content="2016-10-10T14:46:23&#43;00:00"/>

<meta itemprop="name" content="git 版本控制">
<meta itemprop="description" content="简介 git，是目前最流行的版本控制系统，没有之一。git作为分布式版本控制系统，与其他集中式版本控制系统(如svn)的一个重要区别是，git">


<meta itemprop="datePublished" content="2016-10-10T14:46:23&#43;00:00" />
<meta itemprop="dateModified" content="2016-10-10T14:46:23&#43;00:00" />
<meta itemprop="wordCount" content="5343">



<meta itemprop="keywords" content="git,vcs," />
<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="git 版本控制"/>
<meta name="twitter:description" content="简介 git，是目前最流行的版本控制系统，没有之一。git作为分布式版本控制系统，与其他集中式版本控制系统(如svn)的一个重要区别是，git"/>

<!--[if lte IE 9]>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/classlist/1.1.20170427/classList.min.js"></script>
<![endif]-->

<!--[if lt IE 9]>
  <script src="https://cdn.jsdelivr.net/npm/html5shiv@3.7.3/dist/html5shiv.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/respond.js@1.4.2/dest/respond.min.js"></script>
<![endif]-->

</head>
<body>
  <div id="mobile-navbar" class="mobile-navbar">
  <div class="mobile-header-logo">
    <a href="/" class="logo">BUF1024!</a>
  </div>
  <div class="mobile-navbar-icon">
    <span></span>
    <span></span>
    <span></span>
  </div>
</div>
<nav id="mobile-menu" class="mobile-menu slideout-menu">
  <ul class="mobile-menu-list">
    <a href="/">
        <li class="mobile-menu-item">主页</li>
      </a><a href="/post/">
        <li class="mobile-menu-item">文章</li>
      </a><a href="/tags/">
        <li class="mobile-menu-item">标签</li>
      </a><a href="/categories/">
        <li class="mobile-menu-item">分类</li>
      </a><a href="/about/">
        <li class="mobile-menu-item">关于</li>
      </a>
  </ul>
</nav>
  <div class="container" id="mobile-panel">
    <header id="header" class="header">
        <div class="logo-wrapper">
  <a href="/" class="logo">BUF1024!</a>
</div>

<nav class="site-navbar">
  <ul id="menu" class="menu">
    <li class="menu-item">
        <a class="menu-item-link" href="/">主页</a>
      </li><li class="menu-item">
        <a class="menu-item-link" href="/post/">文章</a>
      </li><li class="menu-item">
        <a class="menu-item-link" href="/tags/">标签</a>
      </li><li class="menu-item">
        <a class="menu-item-link" href="/categories/">分类</a>
      </li><li class="menu-item">
        <a class="menu-item-link" href="/about/">关于</a>
      </li>
  </ul>
</nav>
    </header>

    <main id="main" class="main">
      <div class="content-wrapper">
        <div id="content" class="content">
          <article class="post">
    
    <header class="post-header">
      <h1 class="post-title">git 版本控制</h1>

      <div class="post-meta">
        <span class="post-time"> 2016-10-10 </span>
        <div class="post-category">
            <a href="/categories/vcs/"> vcs </a>
            </div>
          <span class="more-meta"> 约 5343 字 </span>
          <span class="more-meta"> 预计阅读 11 分钟 </span>
        
      </div>
    </header>

    <div class="post-toc" id="post-toc">
  <h2 class="post-toc-title">文章目录</h2>
  <div class="post-toc-content">
    <nav id="TableOfContents">
<ul>
<li>
<ul>
<li>
<ul>
<li><a href="#简介">简介</a></li>
<li><a href="#基本操作">基本操作</a></li>
<li><a href="#内部原理">内部原理</a></li>
<li><a href="#其他">其他</a></li>
</ul></li>
</ul></li>
</ul>
</nav>
  </div>
</div>
    <div class="post-content">
      

<h3 id="简介">简介</h3>

<p>git，是目前最流行的版本控制系统，没有之一。git作为分布式版本控制系统，与其他集中式版本控制系统(如svn)的一个重要区别是，git <code>clone</code>的是整个完整版本仓库，在git目录中<code>.git</code>目录为仓库目录，这里记录了仓库的所有信息。git对于每一个版本，存储的是整个系统的一个快照(未改变内容，使用指针引用)，而不是版本之间的差异。因为这种存储方式，git在创建分支时非常快，只需要简单的用指针引用对应的版本即可(典型的空间换时间)。git的存储数据，提交信息，分支信息，标签信息等都使用<code>SHA1</code>计算校验和以及用作引用使用，这使得git有非常强的保持完整性的特征。在git的概念中，文件分为<strong>未跟踪</strong>和<strong>已跟踪</strong> 两种，对于<strong>已跟踪</strong>的文件，存在三种状态：<strong>已提交(committed)</strong>，<strong>已修改(modified)</strong>，<strong>已暂存(staged)</strong>。这三种状态分别对应三个工作区域：git仓库，工作目录，暂存区域。
git使用<code>git config</code>来进制配置git。git的配置存在于三个地方：/etc/gitconfig(针对所有用户的配置，使用&ndash;system选项读写), ~/.gitconfig或~/.config/git/config(针对当前用户，使用&ndash;global读写), git项目的.git/config(针对当前项目)。三个配置的地方，最细一级的配置覆盖上一级的配置。对于新安装的git，最基本需要配置<code>user.name</code>和<code>user.email</code>这两个配置，因为git项目的几乎所有的操作都会用的这两个信息。</p>

<h3 id="基本操作">基本操作</h3>

<p><code>git config</code>读取或写入配置。
<code>git help</code>查看帮助。</p>

<p><code>git init</code>或<code>git clone [url] [alias]</code>初始化git仓库,前者为创建一个新的git仓库，后者为克隆一个已有的仓库。初始化仓库会创建一个<code>.git</code>的目录，仓库的默认分支为<code>master</code>，远程仓库的默认为<code>origin</code>。
<code>git status</code>查看当前工作目录文件的状态，并提示相关操作。简洁显示方式为<code>git status -s</code>或<code>git status --short</code>
<code>git add</code> 将文件添加到暂存区，以待下一步进行提交。若要取消暂存区文件的提交，则可用<code>git reset HEAD</code>进行取消。若想丢弃本地目录修改，则可使用<code>git checkout --</code>。<code>git add -i</code>加上这个参数后，可以进行交互式操作。对于无需要跟踪或文件或目录，在git项目目录增加<code>.gitignore</code>文件，<code>gitignore</code>文件格式：1) 所有空行或者以 # 开头的行都会被 Git 忽略。 2) 可以使用标准的 glob 模式匹配。3) 匹配模式可以以(/)开头防止递归。4) 匹配模式可以以(/)结尾指定目录。5) 要忽略指定模式以外的文件或目录,可以在模式前加上惊叹号(!)取反。
<code>git diff</code>可查看未暂存区和暂存去文件的差异，如果想查看暂存区和上次提交的仓库差异，使用<code>git diff --staged</code>或<code>git diff --cached</code>。可使用<code>git difftool</code>使用差异分析软件分析差异。
<code>git commit</code>将暂存区内容提交到仓库。如果需要跳过暂存区，直接提交到仓库，使用<code>git commit -a</code>，该选项只针对已经跟踪的文件有效。如果提交时，发现少提交了几个文件或做了修改，想修正上次提交信息，进行相关操作后，使用<code>git commit -amend</code>。
<code>git rm</code>将仓库和本地的文件删掉，如果需要保存本地文件，则可使用<code>git rm --cached</code>，删除的文件将不再纳入版本控制。
<code>git mv</code>将文件改名，只是改变<code>tree</code>对象的信息。
<code>git clean</code>清清理工作目录，可使用<code>git clean -i</code>选项交互操作。
<code>git log</code>查看提交历史，支持多种参数格式。
<code>git tag</code>打标签，有两种类型标签，轻量级的标签，和带附注的。删除标签使用<code>git tag -d &lt;标签明&gt;</code>。分享标签到远程分支可使用<code>git push origin &lt;标签名&gt;</code>或<code>git push origin --tags</code>将所有的标签都推送。如果需要删除远程标签可使用<code>git push origin :refs/tags/&lt;标签名&gt;</code>。标签并不能像分支一样被<code>checkout</code>，如需要，则需要先创建标签对应的分支。
<code>git remote add &lt;shortname&gt; &lt;url&gt;</code>增加远程仓库。<code>git remote -v</code>查看远程仓库。<code>git remote show origin</code>可以查看到更加详细的信息。<code>git remote rename</code>远程仓库重命名。<code>git remote rm</code>删除远程仓库。<code>git fetch</code>抓取远程仓库，但并不进行合并。<code>git pull</code>抓取远程仓库，并进行合并。<code>git push</code>提交本地修改到远程仓库。
<code>git reflog</code> 显示<code>HEAD</code>引用的变化日志。
<code>git stash</code>，如果不想对当前的分支进行提交，但是又想切换到其他分支，可以使用该命令，改命令是将当前的修改先保存起来。<code>git stash list</code>可以显示存起来的内容。<code>git stash apply</code>进行恢复。</p>

<p>分支被称之为git的杀手锏，因为它创建一个分支出奇的快。创建分支使用<code>git branch &lt;分支名&gt;</code>(不带参数为列车所有分支)，创建分支即是创建一个引用指向一个<code>commit</code>对象，所以特别快。切换分支使用<code>git checkout &lt;分支名&gt;</code>，切换分支，即是简单的将<code>HEAD</code>指针指向对应的分支，所以也非常快。
远程分支使用<code>git remote show &lt;remote name&gt;</code>可以查看，远程分支跟踪是对远程分支状态的引用。向远程仓库分享分支使用<code>git push origin &lt;分支名&gt;</code>，如果不想远程分支和本地分支有同样的名称，使用<code>git push origin &lt;本地分支名:远程分支名&gt;</code>。当从远程仓库抓取远程分支时，git不会自动在本地创建远程分支的副本。使用<code>git checkout -b &lt;本地分支名&gt; &lt;远程分支名&gt;</code>,从远程分支创建分支。跟踪一个分支使用<code>git checkout --track &lt;远程分支名&gt;</code>，对已有的分支进行跟踪使用<code>git branch -u &lt;远程分支名&gt;</code>(或<code>--set-up-stream-to</code>选项)，这样可以<code>git pull</code>时直接从远程分支抓取。删除一个远程分支<code>git push origin --delete &lt;分支名&gt;</code>。
分支合并的方式有两种，一种是<code>git merge</code>，另外一种是<code>git rebase</code>。对于任何一种方式，都可以加上<code>--abort</code>参数进行合并的取消。先看第一种方式，<code>git merge</code>:
对于要合并的分支在同一条线上，被合并的分支比较前，这种情况比较简单。如：
<img src="/img/vcs/git-merge-fastforward.png" alt="git fast-forward" />
将<code>hotfix</code>合并到<code>master</code>分支：<code>git merge master hotfix</code>。由于<code>hotfix</code>在<code>master</code>前，直接将<code>master</code>指向<code>hotfix</code>所值的<code>commit</code>对象即可，这种合并方式称为<code>fast forward</code>。合并后：
<img src="/img/vcs/git-merged-fastforward.png" alt="git fast-forward 完成" />
对于要合并的分支不在同一条线上，这种方式相对复杂点。如：
<img src="/img/vcs/git-merge-normal.png" alt="git 合并" />
将<code>iss53</code>合并到<code>master</code>分支：<code>git merge master iss53</code>。git需要计算两个分支的共同祖先，和各个分支的<code>HEAD</code>指针，然后做3方的对比，产生一个新的快照。合并后：
<img src="/img/vcs/git-merged-normal.png" alt="git 合并完成" />
另外一种合并的方式是：<code>git rebase</code>。由以上<code>merge</code>可看出，由多少条分支就由多少条历史，<code>rebase</code>的目的是为了有更少更清晰的提交历史。如:
<img src="/img/vcs/git-rebase.png" alt="git rebase" />
先对<code>experiment</code>分进行<code>rebase</code>：<code>git rebase experiment master</code>。git取出C4和C3的补丁，然后在C3那里进行一次合并，生成快照C4&rsquo;，再在<code>master</code>分支上面进行一次<code>fast forward</code>合并：<code>git merge master experiment</code>。合并后：
<img src="/img/vcs/git-rebased.png" alt="git rebase完成" />
可以看到，进行<code>rebase</code>后，分支信息没有了。所以，请注意，<strong>千万不要在共同协作的仓库里面使用<code>rebase</code></strong>
合并的过程中，不可避免的产出冲突。当合并产生冲突时，<code>git status</code>可以看到冲突的状态。在冲突的文件里面，git会在冲突的文件中加入标志的冲突标记，需要手工解决冲突，并进行提交方可认为冲突解决了。对于冲突的文件，git使用一种特殊语法查看冲突文件，Stage 1 是它们共同的祖先版本,stage 2 是你的版本,stage 3 来自于 MERGE_HEAD,即你将要合并入的版本(“theirs”)。如：<code>git show :1:test.yy</code>, <code>git show :2:test.yy</code>和<code>git show :3:test.yy</code>分别显示公共祖先版本，本地目录版本，和将要合并的版本。当合并后，使用<code>git diff --ours</code>比较合并文件和本地文件差异，<code>git diff --theirs</code>比较合并后文件和要合并的版本的差异。也可以使用<code>git mergetool</code>启动外部合并工具进行合并。</p>

<p>注意，这里的基本操作不包括git的全部。</p>

<h3 id="内部原理">内部原理</h3>

<p>git又称为内容寻址系统，因为它计算出“内容”的SHA1，然后用这个SHA1作为键来索引内容。对于一个新建的git仓库目录，它的仓库目录<code>.git</code>目录如下：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><span class="lnt">1
</span><span class="lnt">2
</span></pre></td>
<td class="lntd">
<pre class="chroma">    HEAD config* description hooks/
    info/ objects/ refs/</pre></td></tr></table>
</div>
</div>
<p>对于一个已经存在的目录，还可能存在<code>COMMIT_EDITMSG FETCH_HEAD ORIG_HEAD</code>等文件(含义为最近一次提交信息，<code>git fetch</code>远程仓库的<code>HEAD</code>，远程参考的<code>HEAD</code>)或其他目录。 <code>config</code>目录包括针对仓库的配置信息，<code>description</code>是提供给GitWeb程序使用的，<code>HEAD</code>文件标示当前分支的<code>HEAD</code>指针，<code>index</code>包括暂存区的数据，<code>objects/</code>目录包括了仓库数据信息，<code>refs/</code>目录包括数据提交对象(如分支，标签，远程仓库标签分支，head引用等)的引用。在git内部，包括4种对象：<code>blob tree commit tag</code>。</p>

<ul>
<li><p><code>blob</code>对象
存储文件内容数据的<code>blob</code>对象。使用git的底层命令<code>hash-object</code>可以写入命令，<code>cat-file</code>可以读回，如：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span></pre></td>
<td class="lntd">
<pre class="chroma">heidong@HEIDONG:~/tmp/mygit-repo$ echo &#34;hello, git world!&#34; | git hash-object -w --stdin
76f2ae3955bfd0b4e9e6260a0e48a001c9336f2b
heidong@HEIDONG:~/tmp/mygit-repo$ git cat-file -p 76f2ae3955bfd0b4e9e6260a0e48a001c9336f2b
hello, git world!
heidong@HEIDONG:~/tmp/mygit-repo$ git cat-file -t 76f2ae3955bfd0b4e9e6260a0e48a001c9336f2b
blob
heidong@HEIDONG:~/tmp/mygit-repo$ ls .git/objects/76/f2ae3955bfd0b4e9e6260a0e48a001c9336f2b 
.git/objects/76/f2ae3955bfd0b4e9e6260a0e48a001c9336f2b</pre></td></tr></table>
</div>
</div></li>
</ul>

<p><code>blob</code>对象的存储也是比较简单的，git为每个对象添加一个头信息，存储的格式为：头信息+内容。头信息的格式为：<code>blob 内容长度\0</code>。git将这些信息组装完毕后，进行压缩，然后存储的<code>objects</code>目录里面(在目录内部，取SHA1的前两个字母作为父目录，后面字母作为子目录文件名)。</p>

<ul>
<li><p><code>tree</code>对象
<code>blob</code>对象存储的是数据的内容，并没有存储文件的文件名，权限等信息。git采用的解决办法是类似*NIX系统的文件系统类似的方式，类似于<code>inode</code>，但有所简化，包括了文件名称，类型，权限，其他<code>tree</code>对象，<code>blob</code>对象引用等等。</p></li>

<li><p><code>commit</code>对象
当保存一个仓库的快照时(提交)，需要标明提交者信息，提交信息，提交的文件文件等，这是通过提交对象提交的。<code>commit</code>对象通常指向一个<code>tree</code>对象，<code>commit</code>对象可供<code>git log</code>提取提交信息。</p></li>

<li><p><code>tag</code>对象
<code>tag</code>对象类似于<code>commit</code>对象，与<code>commit</code>对象不同的是，<code>tag</code>对象通常指向一个<code>commit</code>对象。<code>tag</code>对象如果是轻量级标签，直接指向<code>commit</code>对象，否则，带上提交信息，注解信息等，指向一个<code>commit</code>对象。</p></li>
</ul>

<p>git作为内容寻址系统，键为SHA1，要记住这个键或者记住这个键的一部分，是非常困难的，git的解决办法是采用名字引用的方式，这个名字引用的数据就存在<code>refs</code>目录下面。如：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span></pre></td>
<td class="lntd">
<pre class="chroma">    heidong@HEIDONG:~/tmp/mygit-repo/.git$ find refs/ -print
    refs/
    refs/tags
    refs/tags/v1.0
    refs/heads
    refs/heads/master
    refs/heads/devel</pre></td></tr></table>
</div>
</div>
<p>经过历次操作后，假设一下图:
<img src="/img/vcs/git-internal.png" alt="git 原理" />
该图的含义是(注意，这里每次提交，&rdquo;master&rdquo;指针总指向最新提交)：
1. 创建文件&rdquo;test.txt&rdquo;，其内容为&rdquo;version 1&rdquo;，并提交到仓库，提交信息为&rdquo;first commit&rdquo;
2. 创建文件&rdquo;new.txt&rdquo;，其内容为&rdquo;new file&rdquo;，修改&rdquo;test.txt&rdquo;文件的内容为&rdquo;version 2&rdquo;，并提交到仓库，提交信息为&rdquo;second commit&rdquo;, 提交后，创建分支&rdquo;test&rdquo;。
3. 创建目录&rdquo;bak&rdquo;，&rdquo;bak&rdquo;目录包含文件&rdquo;test.txt&rdquo;，文件内容为&rdquo;version 1&rdquo;</p>

<p>如果仓库中存在一个比较大的文件，而每次进行修改至少修改那么丁点数据的话，那么在git仓库里面将会保存大量的快照，比较占用空间。git使用<code>git gc</code>命令，进行仓库的压缩，把对象进行压缩增量存储的方式，并把相关信息存储在<code>objects/info/ objects/pack/</code>目录下面。</p>

<h3 id="其他">其他</h3>

<ol>
<li><p>关某些系统中午乱码解决办法
1.1 git配置修改</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span></pre></td>
<td class="lntd">
<pre class="chroma">[gui]
encoding = utf-8 #代码库统一用urf-8,在git gui中可以正常显示中文
[i18n]
commitencoding = GB2312 #log编码，window下默认gb2312,声明后发到服务器才不会乱码
[svn]
pathnameencoding = GB2312 #支持中文路径</pre></td></tr></table>
</div>
</div></li>
</ol>

<p>1.2 /etc/git-completion.bash修改</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><span class="lnt">1
</span></pre></td>
<td class="lntd">
<pre class="chroma">    alias ls=&#39;ls --show-control-chars --color=auto&#39;  #ls能够正常显示中文</pre></td></tr></table>
</div>
</div>
<p>1.3 /etc/inputrc修改</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><span class="lnt">1
</span><span class="lnt">2
</span></pre></td>
<td class="lntd">
<pre class="chroma">    set output-meta on   #bash中可以正常输入中文
    set convert-meta off</pre></td></tr></table>
</div>
</div>
<p>1.4 /etc/profile修改</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><span class="lnt">1
</span></pre></td>
<td class="lntd">
<pre class="chroma">    export LESSCHARSET=utf-8   #$ git log 命令不像其它 vcs 一样，n 条 log 从头滚到底，它会恰当地停在第一页，按 space 键再往后翻页。这是通过将 log 送给 less 处理实现的。以上即是设置 less 的字符编码，使得 $ git log 可以正常显示中文。</pre></td></tr></table>
</div>
</div>
<ol>
<li><p>使用配置</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span></pre></td>
<td class="lntd">
<pre class="chroma">[alias]
lg = log --color --graph --pretty=format:&#39;%Cred%h%Creset -%C(yellow)%d%Creset %s %Cgreen(%cr) %C(bold blue)&lt;%ce&gt;%Creset&#39; --abbrev-commit #带颜色输出日志
# 简写
st = status -s
br = branch
co = checkout
cm = commit</pre></td></tr></table>
</div>
</div></li>

<li><p>github上fork项目，如何同步原始的项目</p></li>
</ol>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span></pre></td>
<td class="lntd">
<pre class="chroma">1. 首先要先确定一下是否建立了主repo的远程源：
   git remote -v
2. 如果里面只能看到你自己的两个源(fetch 和 push)，那就需要添加主repo的源：
   git remote add upstream URL
   git remote -v
3. 然后你就能看到upstream了。如果想与主repo合并：
   git fetch upstream
   git merge upstream/master</pre></td></tr></table>
</div>
</div>
<p>完。</p>

    </div>

    <div class="post-copyright">
  <p class="copyright-item">
    <span class="item-title">文章作者</span>
    <span class="item-content">buf1024</span>
  </p>
  <p class="copyright-item">
    <span class="item-title">上次更新</span>
    <span class="item-content">2016-10-10</span>
  </p>
  
  
</div><footer class="post-footer">
      <div class="post-tags">
          <a href="/tags/git/">git</a>
          <a href="/tags/vcs/">vcs</a>
          </div>
      <nav class="post-nav">
        <a class="prev" href="/post/2016-11-16-https-handshake/">
            <i class="iconfont icon-left"></i>
            <span class="prev-text nav-default">ssl/tls 握手</span>
            <span class="prev-text nav-mobile">上一篇</span>
          </a>
        <a class="next" href="/post/2016-09-23-tcp-fuck/">
            <span class="next-text nav-default">tcp 协议小结</span>
            <span class="next-text nav-mobile">下一篇</span>
            <i class="iconfont icon-right"></i>
          </a>
      </nav>
    </footer>
  </article>
        </div>
        <div id="gitalk-container"></div>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/gitalk@1/dist/gitalk.css" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/gitalk@1/dist/gitalk.min.js" crossorigin="anonymous"></script>
    <script type="text/javascript">
      var gitalk = new Gitalk({
        id: '2016-10-10 14:46:23 \x2b0000 UTC',
        title: 'git 版本控制',
        clientID: '72786bf87c19beec6abe',
        clientSecret: '93ce647699b49ea6434332d36b0122a4ad8281ad',
        repo: 'buf1024.github.io',
        owner: 'buf1024',
        admin: ['buf1024'],
        body: decodeURI(location.href)
      });
      gitalk.render('gitalk-container');
    </script>
    <noscript>Please enable JavaScript to view the <a href="https://github.com/gitalk/gitalk">comments powered by gitalk.</a></noscript>

      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="social-links">
      <a href="mailto:buf1024@gmail.com" class="iconfont icon-email" title="email"></a>
      <a href="https://twitter.com/buf128" class="iconfont icon-twitter" title="twitter"></a>
      <a href="https://github.com/buf1024" class="iconfont icon-github" title="github"></a>
  <a href="https://luoguochun.cn/index.xml" type="application/rss+xml" class="iconfont icon-rss" title="rss"></a>
</div>

<div class="copyright">
  <span class="power-by">
    由 <a class="hexo-link" href="https://gohugo.io">Hugo</a> 强力驱动
  </span>
  <span class="division">|</span>
  <span class="theme-info">
    主题 - 
    <a class="theme-link" href="https://github.com/olOwOlo/hugo-theme-even">Even</a>
  </span>

  

  <span class="copyright-year">
    &copy; 
    2011 - 
    2019
    <span class="heart">
      <i class="iconfont icon-heart"></i>
    </span>
    <span class="author">buf1024</span>
  </span>
</div>
    </footer>

    <div class="back-to-top" id="back-to-top">
      <i class="iconfont icon-up"></i>
    </div>
  </div>
  
  <script src="https://cdn.jsdelivr.net/npm/jquery@3.2.1/dist/jquery.min.js" integrity="sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4=" crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/slideout@1.0.1/dist/slideout.min.js" integrity="sha256-t+zJ/g8/KXIJMjSVQdnibt4dlaDxc9zXr/9oNPeWqdg=" crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@3.1.20/dist/jquery.fancybox.min.js" integrity="sha256-XVLffZaxoWfGUEbdzuLi7pwaUJv1cecsQJQqGLe7axY=" crossorigin="anonymous"></script>
<script type="text/javascript" src="/dist/even.ece58db6.min.js"></script>








</body>
</html>
