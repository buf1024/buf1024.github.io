<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
<meta name="viewport" content="width=device-width,minimum-scale=1">




<title>å‰ç«¯ä¿å§†çº§é…ç½® | BUF1024!!!</title>
<link rel="canonical" href="https://luoguochun.cn/post/2024-01-08-%E5%89%8D%E7%AB%AF%E4%BF%9D%E5%A7%86%E7%BA%A7%E9%85%8D%E7%BD%AE/">
<meta name="description" content="æ„Ÿè§‰è‡ªå·±æœ‰ç‚¹ä¸åŠ¡æ­£ä¸šï¼Œæ˜æ˜æ˜¯ä¸€ä¸ªå¤§åç«¯ï¼Œå´è¦å»æŠ˜è…¾å‰ç«¯ï¼ŒåˆæŠ˜è…¾çš„ä¸å¤Ÿä¸“ä¸šã€‚éƒ½æ¥é„™è§†æˆ‘å§ã€‚ ç›®å‰ä¸€èˆ¬ä½¿ç”¨viteâ€‹ä½œä¸ºå‰ç«¯æ„å»ºå·¥å…·ï¼Œä¸‹é¢æ‰€è®°å½•çš„" />
<meta property="og:type" content="article" />
<meta property="og:title" content="å‰ç«¯ä¿å§†çº§é…ç½® | BUF1024!!!" />
<meta property="og:url" content="https://luoguochun.cn/post/2024-01-08-%E5%89%8D%E7%AB%AF%E4%BF%9D%E5%A7%86%E7%BA%A7%E9%85%8D%E7%BD%AE/" />
<meta property="og:description" content="æ„Ÿè§‰è‡ªå·±æœ‰ç‚¹ä¸åŠ¡æ­£ä¸šï¼Œæ˜æ˜æ˜¯ä¸€ä¸ªå¤§åç«¯ï¼Œå´è¦å»æŠ˜è…¾å‰ç«¯ï¼ŒåˆæŠ˜è…¾çš„ä¸å¤Ÿä¸“ä¸šã€‚éƒ½æ¥é„™è§†æˆ‘å§ã€‚ ç›®å‰ä¸€èˆ¬ä½¿ç”¨viteâ€‹ä½œä¸ºå‰ç«¯æ„å»ºå·¥å…·ï¼Œä¸‹é¢æ‰€è®°å½•çš„" />








<link rel="stylesheet" href="/lib/icofont/icofont.min.css" />
<link rel="stylesheet" href="/css/syntax.css" />
<link rel="stylesheet" href="/css/style.css" />
<link rel="shortcut icon" href="/images/favicon.ico" type="image/x-icon" />

</head>

<body>
    <header class="header-wrapper">
    <div class="header">
        <a class="site-title" href="https://luoguochun.cn">BUF1024!!!</a>

        <nav class="menu">
            
                <div class="menu-item">
                    
                        <a href="/">ä¸»é¡µ</a>
                    
                </div>
            
                <div class="menu-item">
                    
                        <a href="/post/">æ–‡ç« </a>
                    
                </div>
            
                <div class="menu-item">
                    
                        <a href="/tags/">æ ‡ç­¾</a>
                    
                </div>
            
                <div class="menu-item">
                    
                        <a href="/categories/">åˆ†ç±»</a>
                    
                </div>
            
                <div class="menu-item">
                    
                        <a href="/about/">å…³äº</a>
                    
                </div>
            
        </nav>
    </div>
</header>

    <main class="main-wrapper">

        <div class="main">
            <div style="display: flex; flex-direction: column;"></div>
                

<section class="single">
    <h1 class="title">å‰ç«¯ä¿å§†çº§é…ç½®</h1>

    <div class="tip">
        <time datetime="2024-01-08 16:00:10 &#43;0800 CST">2024/01/08</time>
        <span class="split">Â·</span>
        <span> 5422 words </span>
        <span class="split">Â·</span>
        <span>
            11 minutes to read
        </span>
    </div>

    <div class="taxonomies">
        
        <div>
            Categories:
            
                <a href="/categories/frontend">frontend</a>
            
        </div>
        

        
            <div>
                Tags:
                
                    <a href="/tags/vite">vite</a>
                
            </div>
        
    </div>

    <hr />

    <div class="content">
        <p>æ„Ÿè§‰è‡ªå·±æœ‰ç‚¹ä¸åŠ¡æ­£ä¸šï¼Œæ˜æ˜æ˜¯ä¸€ä¸ªå¤§åç«¯ï¼Œå´è¦å»æŠ˜è…¾å‰ç«¯ï¼ŒåˆæŠ˜è…¾çš„ä¸å¤Ÿä¸“ä¸šã€‚éƒ½æ¥é„™è§†æˆ‘å§ã€‚</p>
<p>ç›®å‰ä¸€èˆ¬ä½¿ç”¨<code>vite</code>â€‹ä½œä¸ºå‰ç«¯æ„å»ºå·¥å…·ï¼Œä¸‹é¢æ‰€è®°å½•çš„æ˜¯ä½¿ç”¨<code>vite</code>â€‹ï¼Œåœ¨<code>vscode</code>â€‹ç¼–è¾‘å™¨ä¸‹é¢çš„é…ç½®ï¼Œå…¶ä»–æ„å»ºå·¥å…·å’Œç¼–è¾‘å™¨å¯å‚è€ƒï¼Œå¤§ä½“ç±»ä¼¼ã€‚ä½¿ç”¨<code>vite</code>â€‹åˆå§‹åŒ–é¡¹ç›®åï¼Œä¸€èˆ¬éœ€è¦ä½œä¸€ä¸‹é…ç½®ï¼Œæ‰æ›´åŠ ç¬¦åˆå‰ç«¯å·¥ç¨‹åŒ–ç‰¹ç‚¹ã€‚</p>
<h2 id="ä»£ç è§„èŒƒ">ä»£ç è§„èŒƒ <a href="#%e4%bb%a3%e7%a0%81%e8%a7%84%e8%8c%83" class="anchor">ğŸ”—</a></h2><p>â€‹<code>eslint</code>â€‹â€‹ä»£ç æ£€æŸ¥å·¥å…·ï¼ŒæŒ‰ç…§è§„å®šçš„è§„åˆ™æ£€æµ‹ä»£ç å¯èƒ½å­˜åœ¨çš„é—®é¢˜ã€‚<code>prettier</code>â€‹â€‹åˆ™æ˜¯ä»£ç æ ¼å¼åŒ–çš„å·¥å…·ã€‚é…åˆ<code>vscode</code>â€‹å¯¹åº”çš„ä¸¤ä¸ªæ‰©å±•<a href="https://marketplace.visualstudio.com/items?itemName=dbaeumer.vscode-eslint">ESLint</a>å’Œ<a href="https://marketplace.visualstudio.com/items?itemName=esbenp.prettier-vscode">Prettier - Code formatter</a>ï¼Œä»£ç ç¼–å†™èµ·æ¥å¦‚è™æ·»ç¿¼ã€‚å…³äºPrettierä¸ç”Ÿæ•ˆè§£å†³åŠæ³•å‚è€ƒï¼š20240101 VS Code Prettieræ ¼å¼åŒ–ä¸ç”Ÿæ•ˆè§£å†³æ–¹å¼ã€‚</p>
<p>æ‰©å±•å®‰è£…ï¼š</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl"><span class="c1"># eslintæ”¯æŒ</span>
</span></span><span class="line"><span class="cl">pnpm add -D eslint eslint-plugin-vue eslint-define-config
</span></span><span class="line"><span class="cl"><span class="c1"># prettier æ”¯æŒ</span>
</span></span><span class="line"><span class="cl">pnpm add -D prettier eslint-plugin-prettier @vue/eslint-config-prettier
</span></span><span class="line"><span class="cl"><span class="c1"># å¯¹tsçš„æ”¯æŒ</span>
</span></span><span class="line"><span class="cl">pnpm add -D @vue/eslint-config-typescript @typescript-eslint/eslint-plugin @typescript-eslint/parser
</span></span></code></pre></td></tr></table>
</div>
</div><p>å…¶ä¸­<code>eslint</code>â€‹â€‹ï¼Œ<code>prettierå’Œeslint-plugin-prettier</code>â€‹â€‹æ˜¯å¿…é¡»è¦å®‰è£…çš„ï¼Œ<code>eslint-define-config</code>â€‹â€‹ä½¿ä¹‹æ›´åŠ å®¹æ˜“ç¼–å†™é…ç½®ï¼Œæ·»åŠ <code>ts</code>â€‹æ”¯æŒï¼Œå¢åŠ <code>ts</code>â€‹çš„ä»£ç æ£€æµ‹ã€‚</p>
<p>éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œ<code>vscode</code>â€‹å¯¹äºè¿™äº›é…ç½®ä¸æ˜¯ç«‹é©¬ç”Ÿæ•ˆçš„ï¼Œå¦‚æœé‡åˆ°ä¸ç”Ÿæ•ˆï¼Œå¯ä»¥å°è¯•<strong>é‡å¯</strong>ï¼Œçœ‹æ˜¯å¦èƒ½è§£å†³é—®é¢˜ã€‚</p>
<h3 id="eslintä»£ç æ£€æŸ¥"><code>eslint</code>â€‹ä»£ç æ£€æŸ¥ <a href="#eslint%e4%bb%a3%e7%a0%81%e6%a3%80%e6%9f%a5" class="anchor">ğŸ”—</a></h3><p>å®‰è£…å¥½<code>eslint</code>â€‹ä¹‹åï¼Œè¿è¡Œ<code>npx eslint --init</code>â€‹åˆå§‹åŒ–å¯ç”Ÿæˆ<code>eslint</code>â€‹çš„é…ç½®ï¼Œè·Ÿç€æç¤ºä¸€æ­¥ä¸€æ­¥çš„æ¥å³å¯ï¼Œåœ¨å½“å‰ç›®å½•å°±å¯ä»¥ç”Ÿæˆå¯¹åº”çš„é…ç½®æ–‡ä»¶ã€‚éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œé»˜è®¤ç”Ÿæˆçš„æ˜¯<code>CommonJS</code>â€‹æ ¼å¼çš„ï¼Œæ‰©å±•ä¸º<code>cjs</code>â€‹çš„ã€‚ä¸è¿‡ï¼Œæ‰‹å·¥é…ç½®æ›´åŠ çµæ´»ï¼Œä¸è¿‡éœ€è¦æ³¨æ„çš„æ—¶å€™ï¼Œæœ€å¥½ç”¨<code>npx eslint --init</code>â€‹ç”Ÿæˆçš„åå­—ï¼Œå¦åˆ™å¯èƒ½ä¼šå‡ºç°ä»¥ä¸‹è«åå…¶å¦™çš„é—®é¢˜ã€‚</p>
<p>â€‹<code>.eslintrc.cjs</code>â€‹å‚è€ƒé…ç½®(<code>vue</code>â€‹)ï¼š</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span><span class="lnt">35
</span><span class="lnt">36
</span><span class="lnt">37
</span><span class="lnt">38
</span><span class="lnt">39
</span><span class="lnt">40
</span><span class="lnt">41
</span><span class="lnt">42
</span><span class="lnt">43
</span><span class="lnt">44
</span><span class="lnt">45
</span><span class="lnt">46
</span><span class="lnt">47
</span><span class="lnt">48
</span><span class="lnt">49
</span><span class="lnt">50
</span><span class="lnt">51
</span><span class="lnt">52
</span><span class="lnt">53
</span><span class="lnt">54
</span><span class="lnt">55
</span><span class="lnt">56
</span><span class="lnt">57
</span><span class="lnt">58
</span><span class="lnt">59
</span><span class="lnt">60
</span><span class="lnt">61
</span><span class="lnt">62
</span><span class="lnt">63
</span><span class="lnt">64
</span><span class="lnt">65
</span><span class="lnt">66
</span><span class="lnt">67
</span><span class="lnt">68
</span><span class="lnt">69
</span><span class="lnt">70
</span><span class="lnt">71
</span><span class="lnt">72
</span><span class="lnt">73
</span><span class="lnt">74
</span><span class="lnt">75
</span><span class="lnt">76
</span><span class="lnt">77
</span><span class="lnt">78
</span><span class="lnt">79
</span><span class="lnt">80
</span><span class="lnt">81
</span><span class="lnt">82
</span><span class="lnt">83
</span><span class="lnt">84
</span><span class="lnt">85
</span><span class="lnt">86
</span><span class="lnt">87
</span><span class="lnt">88
</span><span class="lnt">89
</span><span class="lnt">90
</span><span class="lnt">91
</span><span class="lnt">92
</span><span class="lnt">93
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-javascript" data-lang="javascript"><span class="line"><span class="cl"><span class="c1">// éœ€è¦å®‰è£…ä¾èµ–:  npm i eslint-define-config
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="kr">const</span> <span class="p">{</span> <span class="nx">defineFlatConfig</span> <span class="p">}</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">&#39;eslint-define-config&#39;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="nx">module</span><span class="p">.</span><span class="nx">exports</span> <span class="o">=</span> <span class="nx">defineFlatConfig</span><span class="p">({</span>
</span></span><span class="line"><span class="cl">  <span class="nx">root</span><span class="o">:</span> <span class="kc">true</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="cm">/* æŒ‡å®šå¦‚ä½•è§£æè¯­æ³•ã€‚*/</span>
</span></span><span class="line"><span class="cl">  <span class="nx">parser</span><span class="o">:</span> <span class="s1">&#39;vue-eslint-parser&#39;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="cm">/* ä¼˜å…ˆçº§ä½äºparseçš„è¯­æ³•è§£æé…ç½® */</span>
</span></span><span class="line"><span class="cl">  <span class="nx">parserOptions</span><span class="o">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nx">parser</span><span class="o">:</span> <span class="s1">&#39;@typescript-eslint/parser&#39;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="c1">//æ¨¡å—åŒ–æ–¹æ¡ˆ
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="nx">sourceType</span><span class="o">:</span> <span class="s1">&#39;module&#39;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="p">},</span>
</span></span><span class="line"><span class="cl">  <span class="nx">env</span><span class="o">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nx">browser</span><span class="o">:</span> <span class="kc">true</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nx">es2021</span><span class="o">:</span> <span class="kc">true</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nx">node</span><span class="o">:</span> <span class="kc">true</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="c1">// è§£å†³ defineProps and defineEmits generate no-undef warnings
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="s1">&#39;vue/setup-compiler-macros&#39;</span><span class="o">:</span> <span class="kc">true</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="p">},</span>
</span></span><span class="line"><span class="cl">  <span class="c1">// https://eslint.bootcss.com/docs/user-guide/configuring#specifying-globals
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>  <span class="nx">globals</span><span class="o">:</span> <span class="p">{},</span>
</span></span><span class="line"><span class="cl">  <span class="kr">extends</span><span class="o">:</span> <span class="p">[</span>
</span></span><span class="line"><span class="cl">    <span class="s1">&#39;plugin:vue/vue3-recommended&#39;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="s1">&#39;eslint:recommended&#39;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="s1">&#39;plugin:@typescript-eslint/recommended&#39;</span><span class="p">,</span> <span class="c1">// typescript-eslintæ¨èè§„åˆ™,
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="s1">&#39;prettier&#39;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="s1">&#39;plugin:prettier/recommended&#39;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="s1">&#39;./.eslintrc-auto-import.json&#39;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="p">],</span>
</span></span><span class="line"><span class="cl">  <span class="c1">// https://cn.eslint.org/docs/rules/
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>  <span class="nx">rules</span><span class="o">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="c1">// ç¦æ­¢ä½¿ç”¨ var
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="s1">&#39;no-var&#39;</span><span class="o">:</span> <span class="s1">&#39;error&#39;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nx">semi</span><span class="o">:</span> <span class="s1">&#39;off&#39;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="c1">// ä¼˜å…ˆä½¿ç”¨ interface è€Œä¸æ˜¯ type
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="s1">&#39;@typescript-eslint/consistent-type-definitions&#39;</span><span class="o">:</span> <span class="p">[</span><span class="s1">&#39;error&#39;</span><span class="p">,</span> <span class="s1">&#39;interface&#39;</span><span class="p">],</span>
</span></span><span class="line"><span class="cl">    <span class="s1">&#39;@typescript-eslint/no-explicit-any&#39;</span><span class="o">:</span> <span class="s1">&#39;off&#39;</span><span class="p">,</span> <span class="c1">// å¯ä»¥ä½¿ç”¨ any ç±»å‹
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="s1">&#39;@typescript-eslint/explicit-module-boundary-types&#39;</span><span class="o">:</span> <span class="s1">&#39;off&#39;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="c1">// è§£å†³ä½¿ç”¨ require() Require statement not part of import statement. çš„é—®é¢˜
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="s1">&#39;@typescript-eslint/no-var-requires&#39;</span><span class="o">:</span> <span class="mi">0</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="c1">// https://github.com/typescript-eslint/typescript-eslint/blob/main/packages/eslint-plugin/docs/rules/ban-types.md
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="s1">&#39;@typescript-eslint/ban-types&#39;</span><span class="o">:</span> <span class="p">[</span>
</span></span><span class="line"><span class="cl">      <span class="s1">&#39;error&#39;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">      <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="nx">types</span><span class="o">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">          <span class="c1">// add a custom message to help explain why not to use it
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>          <span class="nx">Foo</span><span class="o">:</span> <span class="s2">&#34;Don&#39;t use Foo because it is unsafe&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">          <span class="c1">// add a custom message, AND tell the plugin how to fix it
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>          <span class="nb">String</span><span class="o">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">            <span class="nx">message</span><span class="o">:</span> <span class="s1">&#39;Use string instead&#39;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="nx">fixWith</span><span class="o">:</span> <span class="s1">&#39;string&#39;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">          <span class="p">},</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">          <span class="s1">&#39;{}&#39;</span><span class="o">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">            <span class="nx">message</span><span class="o">:</span> <span class="s1">&#39;Use object instead&#39;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="nx">fixWith</span><span class="o">:</span> <span class="s1">&#39;object&#39;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">          <span class="p">},</span>
</span></span><span class="line"><span class="cl">        <span class="p">},</span>
</span></span><span class="line"><span class="cl">      <span class="p">},</span>
</span></span><span class="line"><span class="cl">    <span class="p">],</span>
</span></span><span class="line"><span class="cl">    <span class="c1">// ç¦æ­¢å‡ºç°æœªä½¿ç”¨çš„å˜é‡
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="s1">&#39;@typescript-eslint/no-unused-vars&#39;</span><span class="o">:</span> <span class="p">[</span>
</span></span><span class="line"><span class="cl">      <span class="s1">&#39;error&#39;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">      <span class="p">{</span> <span class="nx">vars</span><span class="o">:</span> <span class="s1">&#39;all&#39;</span><span class="p">,</span> <span class="nx">args</span><span class="o">:</span> <span class="s1">&#39;after-used&#39;</span><span class="p">,</span> <span class="nx">ignoreRestSiblings</span><span class="o">:</span> <span class="kc">false</span> <span class="p">},</span>
</span></span><span class="line"><span class="cl">    <span class="p">],</span>
</span></span><span class="line"><span class="cl">    <span class="s1">&#39;vue/html-indent&#39;</span><span class="o">:</span> <span class="s1">&#39;off&#39;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="c1">// å…³é—­æ­¤è§„åˆ™ ä½¿ç”¨ prettier çš„æ ¼å¼åŒ–è§„åˆ™ï¼Œ
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="s1">&#39;vue/max-attributes-per-line&#39;</span><span class="o">:</span> <span class="p">[</span><span class="s1">&#39;off&#39;</span><span class="p">],</span>
</span></span><span class="line"><span class="cl">    <span class="c1">// vue3.2.25ä¹‹åä¸ºpropsä½¿ç”¨è§£è€¦èµ‹å€¼è¯­æ³•ï¼Œåˆ é™¤è­¦å‘Š
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="s1">&#39;vue/no-setup-props-destructure&#39;</span><span class="o">:</span> <span class="s1">&#39;off&#39;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="c1">// ä¼˜å…ˆä½¿ç”¨é©¼å³°ï¼Œelement ç»„ä»¶é™¤å¤–
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="s1">&#39;vue/component-name-in-template-casing&#39;</span><span class="o">:</span> <span class="p">[</span>
</span></span><span class="line"><span class="cl">      <span class="s1">&#39;error&#39;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">      <span class="s1">&#39;PascalCase&#39;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">      <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="nx">ignores</span><span class="o">:</span> <span class="p">[</span><span class="s1">&#39;/^el-/&#39;</span><span class="p">,</span> <span class="s1">&#39;/^router-/&#39;</span><span class="p">],</span>
</span></span><span class="line"><span class="cl">        <span class="nx">registeredComponentsOnly</span><span class="o">:</span> <span class="kc">false</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">      <span class="p">},</span>
</span></span><span class="line"><span class="cl">    <span class="p">],</span>
</span></span><span class="line"><span class="cl">    <span class="c1">// å¼ºåˆ¶ä½¿ç”¨é©¼å³°
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="nx">camelcase</span><span class="o">:</span> <span class="p">[</span><span class="s1">&#39;error&#39;</span><span class="p">,</span> <span class="p">{</span> <span class="nx">properties</span><span class="o">:</span> <span class="s1">&#39;always&#39;</span> <span class="p">}],</span>
</span></span><span class="line"><span class="cl">    <span class="c1">// ä¼˜å…ˆä½¿ç”¨ const
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="s1">&#39;prefer-const&#39;</span><span class="o">:</span> <span class="p">[</span>
</span></span><span class="line"><span class="cl">      <span class="s1">&#39;error&#39;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">      <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="nx">destructuring</span><span class="o">:</span> <span class="s1">&#39;any&#39;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="nx">ignoreReadBeforeAssign</span><span class="o">:</span> <span class="kc">false</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">      <span class="p">},</span>
</span></span><span class="line"><span class="cl">    <span class="p">],</span>
</span></span><span class="line"><span class="cl">  <span class="p">},</span>
</span></span><span class="line"><span class="cl"><span class="p">})</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>å¤§ç¥åšå¥½äº†è‡ªå·±çš„é…ç½®ï¼š<a href="https://github.com/antfu/eslint-config">https://github.com/antfu/eslint-config</a>ï¼Œä¹Ÿå¯ä»¥å‚è€ƒã€‚</p>
<p>åœ¨<code>vite</code>â€‹è¿è¡Œæ—¶ï¼Œä¹Ÿå¸Œæœ›è¿è¡Œ<code>eslint</code>â€‹è¿›è¡Œä»£ç æ£€æŸ¥ï¼Œé‚£ä¹ˆå¯ä»¥è¿™ä¹ˆåšï¼š</p>
<p>å®‰è£…åŒ…ï¼š</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-javascript" data-lang="javascript"><span class="line"><span class="cl"><span class="nx">pnpm</span> <span class="nx">add</span> <span class="o">-</span><span class="nx">D</span> <span class="nx">vite</span><span class="o">-</span><span class="nx">plugin</span><span class="o">-</span><span class="nx">eslint</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>å¯¹<code>vite.config.js</code>â€‹é…ç½®è¿›è¡Œä¿®æ”¹ï¼š</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-javascript" data-lang="javascript"><span class="line"><span class="cl"><span class="kr">import</span> <span class="p">{</span> <span class="nx">defineConfig</span> <span class="p">}</span> <span class="nx">from</span> <span class="s1">&#39;vite&#39;</span>
</span></span><span class="line"><span class="cl"><span class="kr">import</span> <span class="nx">vue</span> <span class="nx">from</span> <span class="s1">&#39;@vitejs/plugin-vue&#39;</span>
</span></span><span class="line"><span class="cl"><span class="kr">import</span> <span class="nx">eslintPlugin</span> <span class="nx">from</span> <span class="s1">&#39;vite-plugin-eslint&#39;</span> <span class="c1">//å¯¼å…¥åŒ…
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>
</span></span><span class="line"><span class="cl"><span class="kr">export</span> <span class="k">default</span> <span class="nx">defineConfig</span><span class="p">({</span>
</span></span><span class="line"><span class="cl">  <span class="nx">plugins</span><span class="o">:</span> <span class="p">[</span>
</span></span><span class="line"><span class="cl">    <span class="nx">vue</span><span class="p">(),</span>
</span></span><span class="line"><span class="cl">    <span class="c1">// å¢åŠ ä¸‹é¢çš„é…ç½®é¡¹,è¿™æ ·åœ¨è¿è¡Œæ—¶å°±èƒ½æ£€æŸ¥eslintè§„èŒƒ
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="nx">eslintPlugin</span><span class="p">({</span>
</span></span><span class="line"><span class="cl">      <span class="nx">include</span><span class="o">:</span> <span class="p">[</span><span class="s1">&#39;src/**/*.js&#39;</span><span class="p">,</span> <span class="s1">&#39;src/**/*.vue&#39;</span><span class="p">,</span> <span class="s1">&#39;src/*.js&#39;</span><span class="p">,</span> <span class="s1">&#39;src/*.vue&#39;</span><span class="p">]</span>
</span></span><span class="line"><span class="cl">    <span class="p">})</span>
</span></span><span class="line"><span class="cl">  <span class="p">]</span>
</span></span><span class="line"><span class="cl"><span class="p">})</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="prettierä»£ç æ ¼å¼åŒ–"><code>prettier</code>â€‹ä»£ç æ ¼å¼åŒ– <a href="#prettier%e4%bb%a3%e7%a0%81%e6%a0%bc%e5%bc%8f%e5%8c%96" class="anchor">ğŸ”—</a></h3><p>â€‹<code>eslint</code>â€‹ä¹Ÿå¯ä»¥è¿›è¡Œä»£ç æ ¼å¼åŒ–çš„ï¼Œä¸è¿‡ä»£ç æ ¼å¼ç”¨çš„äººæ¯”è¾ƒå¤šçš„è¿˜æ˜¯<code>prettier</code>â€‹ã€‚</p>
<p>è¿™é‡Œæ˜¯<code>.prettierrc.js</code>â€‹çš„å‚è€ƒï¼š</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-javascript" data-lang="javascript"><span class="line"><span class="cl"><span class="c1">// åœ¨é¡¹ç›®æ ¹ç›®å½•åˆ›å»ºæ–‡ä»¶ .prettierrc.js
</span></span></span><span class="line"><span class="cl"><span class="c1">// ä»¥ä¸‹é…ç½®è§†è‡ªå·±æƒ…å†µè€Œå®š,å¹¶æ­¥æ˜¯æ¯ä¸ªéƒ½éœ€è¦çš„
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="nx">tabWidth</span><span class="o">:</span> <span class="mi">4</span><span class="p">,</span>               <span class="c1">// ä½¿ç”¨4ä¸ªç©ºæ ¼ç¼©è¿›
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>  <span class="nx">semi</span><span class="o">:</span> <span class="kc">false</span><span class="p">,</span>               <span class="c1">// ä»£ç ç»“å°¾æ˜¯å¦åŠ åˆ†å·
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>  <span class="nx">trailingComma</span><span class="o">:</span> <span class="s1">&#39;none&#39;</span><span class="p">,</span>     <span class="c1">// ä»£ç æœ«å°¾ä¸éœ€è¦é€—å·
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>  <span class="nx">singleQuote</span><span class="o">:</span> <span class="kc">true</span><span class="p">,</span>         <span class="c1">// æ˜¯å¦ä½¿ç”¨å•å¼•å·
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>  <span class="nx">printWidth</span><span class="o">:</span> <span class="mi">100</span><span class="p">,</span>           <span class="c1">// è¶…è¿‡å¤šå°‘å­—ç¬¦å¼ºåˆ¶æ¢è¡Œ
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>  <span class="nx">arrowParens</span><span class="o">:</span> <span class="s1">&#39;avoid&#39;</span><span class="p">,</span>      <span class="c1">// å•ä¸ªå‚æ•°çš„ç®­å¤´å‡½æ•°ä¸åŠ æ‹¬å· x =&gt; x
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>  <span class="nx">bracketSpacing</span><span class="o">:</span> <span class="kc">true</span><span class="p">,</span>      <span class="c1">// å¯¹è±¡å¤§æ‹¬å·å†…ä¸¤è¾¹æ˜¯å¦åŠ ç©ºæ ¼ { a:0 }
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>
</span></span><span class="line"><span class="cl">  <span class="nx">endOfLine</span><span class="o">:</span> <span class="s1">&#39;auto&#39;</span><span class="p">,</span>         <span class="c1">// æ–‡ä»¶æ¢è¡Œæ ¼å¼ LF/CRLF
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>  <span class="nx">useTabs</span><span class="o">:</span> <span class="kc">false</span><span class="p">,</span>            <span class="c1">// ä¸ä½¿ç”¨ç¼©è¿›ç¬¦,è€Œä½¿ç”¨ç©ºæ ¼
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>  <span class="nx">quoteProps</span><span class="o">:</span> <span class="s1">&#39;as-needed&#39;</span><span class="p">,</span>   <span class="c1">// å¯¹è±¡çš„keyä»…åœ¨å¿…è¦æ—¶ç”¨å¼•å·
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>  <span class="nx">jsxSingleQuote</span><span class="o">:</span> <span class="kc">false</span><span class="p">,</span>     <span class="c1">// jsxä¸ä½¿ç”¨å•å¼•å·,è€Œä½¿ç”¨åŒå¼•å·
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>  <span class="nx">jsxBracketSameLine</span><span class="o">:</span> <span class="kc">false</span><span class="p">,</span> <span class="c1">// jsxæ ‡ç­¾çš„åå°–æ‹¬å·éœ€è¦æ¢è¡Œ
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>  <span class="nx">rangeStart</span><span class="o">:</span> <span class="mi">0</span><span class="p">,</span>             <span class="c1">// æ¯ä¸ªæ–‡ä»¶æ ¼å¼åŒ–çš„èŒƒå›´æ˜¯æ–‡ä»¶çš„å…¨éƒ¨å†…å®¹
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>  <span class="nx">rangeEnd</span><span class="o">:</span> <span class="kc">Infinity</span><span class="p">,</span>        <span class="c1">// ç»“å°¾
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>  <span class="nx">requirePragma</span><span class="o">:</span> <span class="kc">false</span><span class="p">,</span>      <span class="c1">// ä¸éœ€è¦å†™æ–‡ä»¶å¼€å¤´çš„ @prettier
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>  <span class="nx">insertPragma</span><span class="o">:</span> <span class="kc">false</span><span class="p">,</span>       <span class="c1">// ä¸éœ€è¦è‡ªåŠ¨åœ¨æ–‡ä»¶å¼€å¤´æ’å…¥ @prettier
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>  <span class="nx">proseWrap</span><span class="o">:</span> <span class="s1">&#39;preserve&#39;</span><span class="p">,</span>     <span class="c1">// ä½¿ç”¨é»˜è®¤çš„æŠ˜è¡Œæ ‡å‡†
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>  <span class="nx">htmlWhitespaceSensitivity</span><span class="o">:</span> <span class="s1">&#39;css&#39;</span>  <span class="c1">// æ ¹æ®æ˜¾ç¤ºæ ·å¼å†³å®šhtmlè¦ä¸è¦æŠ˜è¡Œ
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>è‡ªç”¨çš„é…ç½®å‚è€ƒå¦‚ä¸‹ï¼ˆå•å¼•å·ï¼Œæœ«å°¾æ²¡æœ‰åˆ†å·ï¼Œè¿™é‡Œæ·»åŠ äº†<code>tailwindcss</code>â€‹ï¼‰ï¼š</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-javascript" data-lang="javascript"><span class="line"><span class="cl"><span class="cm">/** @type {import { Config  } from &#34;prettier&#34;;}*/</span>
</span></span><span class="line"><span class="cl"><span class="kr">export</span> <span class="k">default</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="nx">useTabs</span><span class="o">:</span> <span class="kc">false</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="nx">bracketSameLine</span><span class="o">:</span> <span class="kc">true</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="nx">bracketSpacing</span><span class="o">:</span> <span class="kc">true</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="nx">trailingComma</span><span class="o">:</span> <span class="s1">&#39;all&#39;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="nx">tabWidth</span><span class="o">:</span> <span class="mi">2</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="nx">semi</span><span class="o">:</span> <span class="kc">false</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="nx">singleQuote</span><span class="o">:</span> <span class="kc">true</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="nx">quoteProps</span><span class="o">:</span> <span class="s1">&#39;as-needed&#39;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="nx">printWidth</span><span class="o">:</span> <span class="mi">120</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="nx">plugins</span><span class="o">:</span> <span class="p">[</span><span class="s1">&#39;prettier-plugin-tailwindcss&#39;</span><span class="p">],</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="husky-git-æäº¤è§„èŒƒ">husky git æäº¤è§„èŒƒ <a href="#husky-git-%e6%8f%90%e4%ba%a4%e8%a7%84%e8%8c%83" class="anchor">ğŸ”—</a></h3><p>â€‹<code>husky</code>â€‹æ˜¯<code>git</code>â€‹é’©å­ï¼Œæ‰€è°“çš„é’©å­ï¼Œå°±æ˜¯åœ¨<code>commitï¼Œpush</code>â€‹ç­‰æ“ä½œä¹‹å‰ï¼Œæ£€æµ‹æ˜¯å¦ç¬¦åˆè§„èŒƒï¼Œå¦‚æœä¸ç¬¦åˆåˆ™ç›´æ¥æ‹’ç»ã€‚</p>
<p>å®‰è£…ï¼š</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-javascript" data-lang="javascript"><span class="line"><span class="cl"><span class="nx">npx</span> <span class="nx">husky</span><span class="o">-</span><span class="nx">init</span> <span class="o">&amp;&amp;</span> <span class="nx">pnpm</span> <span class="nx">i</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>å®‰è£…ä¹‹åï¼Œåœ¨<code>package.json</code>â€‹è‡ªåŠ¨å¢åŠ ï¼š</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-javascript" data-lang="javascript"><span class="line"><span class="cl">  <span class="s2">&#34;scripts&#34;</span><span class="o">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="p">...</span>
</span></span><span class="line"><span class="cl">    <span class="s2">&#34;prepare&#34;</span><span class="o">:</span> <span class="s2">&#34;husky install&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="p">...</span>
</span></span><span class="line"><span class="cl">  <span class="p">},</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>ä¼šåœ¨å½“å‰é¡¹ç›®çš„ç›®å½•å¢åŠ <code>.husky</code>â€‹ç›®å½•ï¼Œç›®å½•æœ‰ä¸ªè„šæœ¬æ–‡ä»¶<code>pre-commit</code>â€‹ï¼Œæäº¤ä»£ç ä¹‹å‰ï¼Œä¼šè¿è¡Œé‡Œé¢çš„è„šæœ¬ã€‚æ‰€ä»¥ï¼Œä¸€èˆ¬åœ¨<code>package.json</code>â€‹å¢åŠ å‘½ä»¤ï¼š</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-javascript" data-lang="javascript"><span class="line"><span class="cl"> <span class="s2">&#34;scripts&#34;</span><span class="o">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="p">...</span>
</span></span><span class="line"><span class="cl"> <span class="s2">&#34;lint&#34;</span><span class="o">:</span> <span class="s2">&#34;eslint src --fix --ext .js,.ts,.jsx,.tsx,.vue &amp;&amp; prettier --write \&#34;src/**/*.{js,ts,json,tsx,css,scss,vue,html,md}\&#34; --ignore-unknown&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl"> <span class="p">...</span>
</span></span><span class="line"><span class="cl">  <span class="p">},</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>ç„¶åï¼Œ<code>pre-commit</code>â€‹å¢åŠ è°ƒç”¨<code>pnpm lint</code>â€‹åˆ™å¯ä»¥æäº¤ä¹‹å‰ï¼Œå¯¹ä»£ç è¿›è¡Œæ£€æŸ¥å’Œæ ¼å¼åŒ–ã€‚</p>
<p>è¿™æ ·é…ç½®çš„ä¸€ä¸ªé—®é¢˜æ˜¯ï¼Œæ— è®ºæˆ‘ä»¬æ”¹åŠ¨å¤šå°‘ï¼Œéƒ½ä¼šå¯¹æ•´ä¸ªé¡¹ç›®ä»£ç è¿›è¡Œæ£€æŸ¥å’Œæ ¼å¼åŒ–ï¼Œæ•ˆç‡ä¸é«˜çš„ï¼Œæˆ‘ä»¬çš„ç›®æ ‡æ˜¯åªå¯¹æ”¹åŠ¨çš„ä»£ç åšæ£€æµ‹å’Œæ ¼å¼åŒ–ã€‚è¿™ä¸ªæ—¶å€™è¦ç”¨åˆ°å¦å¤–ä¸€ä¸ªåŒ…ï¼š<code>lint-staged</code>â€‹ï¼Œå¯¹<code>git add</code>â€‹çš„æš‚å­˜åŒºè¿›è¡Œæ£€æŸ¥å’Œæ ¼å¼åŒ–ã€‚</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-javascript" data-lang="javascript"><span class="line"><span class="cl"><span class="nx">pnpm</span> <span class="nx">add</span> <span class="o">-</span><span class="nx">D</span> <span class="nx">lint</span><span class="o">-</span><span class="nx">staged</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">// package.json æ–°å¢
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="s2">&#34;lint-staged&#34;</span><span class="o">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="s2">&#34;*.{vue,js,ts,tsx,jsx}&#34;</span><span class="o">:</span> <span class="p">[</span>
</span></span><span class="line"><span class="cl">      <span class="s2">&#34;eslint --fix&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">      <span class="s2">&#34;prettier --write --ignore-unknown&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="p">]</span>
</span></span><span class="line"><span class="cl">  <span class="p">},</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">// .husky/pre-commitæ”¹åŠ¨ï¼š
</span></span></span><span class="line"><span class="cl"><span class="c1">// pnpm lintæ›¿æ¢ä¸º
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="nx">npx</span> <span class="nx">lint</span><span class="o">-</span><span class="nx">staged</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>å‰é¢çš„æäº¤çº¦æŸæ˜¯ä»£ç ï¼Œä¸‹é¢çº¦æŸçš„æ—¶å€™æäº¤çš„æ–‡æ¡£ï¼Œé¿å…æ— æ„ä¹‰çš„æäº¤è¯´æ˜ã€‚</p>
<p>å®‰è£…ï¼ˆä¹Ÿå¯ä»¥å…¨å±€å®‰è£…ï¼Œè¿™æ ·å„ä¸ªé¡¹ç›®éƒ½å¯ä»¥ç”¨åˆ°ï¼‰ï¼š</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-javascript" data-lang="javascript"><span class="line"><span class="cl"><span class="nx">pnpm</span> <span class="nx">add</span> <span class="o">-</span><span class="nx">D</span> <span class="nx">commitizen</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">// è¿è¡Œä»¥ä¸‹å‘½ä»¤åˆå§‹åŒ– --forceè§†å…·ä½“æƒ…å†µæ·»åŠ 
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="nx">$</span> <span class="nx">commitizen</span> <span class="nx">init</span> <span class="nx">cz</span><span class="o">-</span><span class="nx">conventional</span><span class="o">-</span><span class="nx">changelog</span> <span class="o">--</span><span class="nx">pnpm</span> <span class="o">--</span><span class="nx">save</span><span class="o">-</span><span class="nx">dev</span> <span class="o">--</span><span class="nx">save</span><span class="o">-</span><span class="nx">exact</span> <span class="o">--</span><span class="nx">force</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">// package.json å¢åŠ å¯ä»¥pnpm commitï¼Œä¸è¿‡ä¸ä¹ æƒ¯è¿™ä¸ªcommitæ–¹æ³•
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="s2">&#34;scripts&#34;</span><span class="o">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="p">...</span>
</span></span><span class="line"><span class="cl">    <span class="s2">&#34;commit&#34;</span><span class="o">:</span> <span class="s2">&#34;cz&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="p">...</span>
</span></span><span class="line"><span class="cl">  <span class="p">},</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>è¿™æ ·ä¹‹åï¼Œå°±å¯ä»¥ç”¨<code>git cz</code>â€‹ æˆ–<code>pnpm commit</code>â€‹è¿›è¡Œä»£ç çš„æäº¤ã€‚åœ¨å‘½ä»¤è¡Œæ“ä½œæˆ–è€…æ„Ÿè§‰ä¸æ–¹ä¾¿ï¼Œvscodeä¹Ÿæœ‰æä¾›æ’ä»¶ï¼š<a href="https://marketplace.visualstudio.com/items?itemName=KnisterPeter.vscode-commitizen">Visual Studio Code Commitizen Support</a>ã€‚å®‰è£…ä¹‹åï¼Œç‚¹ä¸€ç‚¹æŒ‰é’®å³å¯ï¼š</p>
<p><img src="/img/commitcz.png" alt="image"></p>
<p>ä¸ºäº†å¼ºåˆ¶æäº¤çš„<code>messsage</code>â€‹å¿…é¡»ç¬¦åˆè§„èŒƒï¼Œç”¨<code>commitlint</code>â€‹é…åˆ<code>husky</code>â€‹ä½¿ç”¨çš„ã€‚</p>
<p>å®‰è£…ï¼š</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-javascript" data-lang="javascript"><span class="line"><span class="cl"><span class="nx">pnpm</span> <span class="nx">add</span> <span class="o">-</span><span class="nx">D</span> <span class="err">@</span><span class="nx">commitlint</span><span class="o">/</span><span class="nx">config</span><span class="o">-</span><span class="nx">conventional</span> <span class="err">@</span><span class="nx">commitlint</span><span class="o">/</span><span class="nx">cli</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>å®‰è£…åï¼Œå¢åŠ é…ç½®æ–‡ä»¶<code>commitlint.config.cjs</code>â€‹:</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-javascript" data-lang="javascript"><span class="line"><span class="cl"><span class="nx">module</span><span class="p">.</span><span class="nx">exports</span> <span class="o">=</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="kr">extends</span><span class="o">:</span> <span class="p">[</span><span class="s1">&#39;@commitlint/config-conventional&#39;</span><span class="p">],</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>ç„¶åï¼Œæ·»åŠ åˆ°<code>husky</code>â€‹:</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-javascript" data-lang="javascript"><span class="line"><span class="cl"><span class="nx">pnpm</span> <span class="nx">husky</span> <span class="nx">add</span> <span class="p">.</span><span class="nx">husky</span><span class="o">/</span><span class="nx">commit</span><span class="o">-</span><span class="nx">msg</span> <span class="s2">&#34;npx --no-install commitlint --edit \&#34;$1\&#34;&#34;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>å¦‚æ­¤ä¾èµ–<code>pre-commit</code>â€‹å’Œ<code>commit-msg</code>â€‹è„šæœ¬é‡Œé¢çš„å‘½ä»¤éƒ½å¯ä»¥è¿è¡Œåˆ°äº†ã€‚</p>
<h2 id="viteé…ç½®">Viteé…ç½® <a href="#vite%e9%85%8d%e7%bd%ae" class="anchor">ğŸ”—</a></h2><p>ç›®å‰å¤§å¤šæ•°å‰ç«¯éƒ½æ˜¯ä½¿ç”¨<code>vite</code>â€‹æ„å»ºå·¥å…·ï¼Œæ‰€ä»¥ä¹Ÿé€‰æ‹©<code>vite</code>â€‹ä½œä¸ºä¾‹å­ã€‚</p>
<h3 id="åˆ«å">åˆ«å <a href="#%e5%88%ab%e5%90%8d" class="anchor">ğŸ”—</a></h3><p>åˆ«åè®¾ç½®å°±æ˜¯ä¸ºäº†å¯¼å…¥å…¶ä»–æ–‡ä»¶çš„æ—¶å€™ï¼Œä¸å¿…è¦å†™å…¨è·¯å¾„ï¼Œæ¯”å¦‚<code>import { useUserStore } from '@/store'</code>â€‹ã€‚</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-javascript" data-lang="javascript"><span class="line"><span class="cl"><span class="c1">// tsconfig.json compilerOptions å†…å¢åŠ 
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="s2">&#34;baseUrl&#34;</span><span class="o">:</span> <span class="s2">&#34;.&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="s2">&#34;paths&#34;</span><span class="o">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="s2">&#34;@/*&#34;</span><span class="o">:</span> <span class="p">[</span><span class="s2">&#34;src/*&#34;</span><span class="p">]</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">// vite.config.js defineConfig å†…å¢åŠ 
</span></span></span><span class="line"><span class="cl"><span class="c1">// éœ€å¢åŠ  pnpm install -D @types/node
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="kr">import</span> <span class="p">{</span> <span class="nx">fileURLToPath</span><span class="p">,</span> <span class="nx">URL</span> <span class="p">}</span> <span class="nx">from</span> <span class="s2">&#34;node:url&#34;</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="p">...</span>
</span></span><span class="line"><span class="cl"><span class="nx">resolve</span><span class="o">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nx">alias</span><span class="o">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="s2">&#34;@&#34;</span><span class="o">:</span> <span class="nx">fileURLToPath</span><span class="p">(</span><span class="k">new</span> <span class="nx">URL</span><span class="p">(</span><span class="s2">&#34;./src&#34;</span><span class="p">,</span> <span class="kr">import</span><span class="p">.</span><span class="nx">meta</span><span class="p">.</span><span class="nx">url</span><span class="p">)),</span>
</span></span><span class="line"><span class="cl">    <span class="p">},</span>
</span></span><span class="line"><span class="cl">  <span class="p">},</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>è¿™æ ·ï¼Œ<code>@</code>â€‹å°±å¯ä»¥<code>alias</code>â€‹ä¸ºå…¨<code>src</code>â€‹çš„å…¨è·¯å¾„ï¼Œå¯¼å…¥æ—¶ï¼Œç›´æ¥å¯ä»¥ä½¿ç”¨è¯¥å‰ç¼€ã€‚å½“ç„¶æ˜¯å¯ä»¥æŒ‡å®šå¤šä¸ªä¸åŒæ–‡ä»¶çš„å‰ç¼€çš„ï¼Œæ¯”å¦‚æœ‰äº›é¡¹ç›®å–œæ¬¢å°†<code>components</code>â€‹ç›®å½•ç”¨<code>cpns</code>â€‹ç®€ç§°ã€‚</p>
<h3 id="ç¯å¢ƒå˜é‡envæ–‡ä»¶">ç¯å¢ƒå˜é‡.envæ–‡ä»¶ <a href="#%e7%8e%af%e5%a2%83%e5%8f%98%e9%87%8fenv%e6%96%87%e4%bb%b6" class="anchor">ğŸ”—</a></h3><p>ç¯å¢ƒå˜é‡æ˜¯ä½¿ç”¨<a href="https://github.com/motdotla/dotenv">dotenv</a>é€šè¿‡<code>.env</code>â€‹æ–‡ä»¶æä¾›ï¼Œä½¿ç”¨<a href="https://github.com/motdotla/dotenv-expand">dotenv-expand</a>æ‰©å±•å˜é‡ã€‚å¦‚ï¼š</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-javascript" data-lang="javascript"><span class="line"><span class="cl"><span class="p">.</span><span class="nx">env</span>                <span class="err">#</span> <span class="nx">æ‰€æœ‰æƒ…å†µä¸‹éƒ½ä¼šåŠ è½½</span>
</span></span><span class="line"><span class="cl"><span class="p">.</span><span class="nx">env</span><span class="p">.</span><span class="nx">local</span>          <span class="err">#</span> <span class="nx">æ‰€æœ‰æƒ…å†µä¸‹éƒ½ä¼šåŠ è½½</span><span class="err">ï¼Œ</span><span class="nx">ä½†ä¼šè¢«</span> <span class="nx">git</span> <span class="nx">å¿½ç•¥</span>
</span></span><span class="line"><span class="cl"><span class="p">.</span><span class="nx">env</span><span class="p">.[</span><span class="nx">mode</span><span class="p">]</span>         <span class="err">#</span> <span class="nx">åªåœ¨æŒ‡å®šæ¨¡å¼ä¸‹åŠ è½½</span>
</span></span><span class="line"><span class="cl"><span class="p">.</span><span class="nx">env</span><span class="p">.[</span><span class="nx">mode</span><span class="p">].</span><span class="nx">local</span>   <span class="err">#</span> <span class="nx">åªåœ¨æŒ‡å®šæ¨¡å¼ä¸‹åŠ è½½</span><span class="err">ï¼Œ</span><span class="nx">ä½†ä¼šè¢«</span> <span class="nx">git</span> <span class="nx">å¿½ç•¥</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>ç¯å¢ƒå˜é‡æœ‰ä¼˜å…ˆçº§ï¼Œå¦‚<code>.env&lt;.env.local&lt;.env.[mode]&lt;.env.[mode].local</code>â€‹ã€‚</p>
<p>å¦‚æœä½¿ç”¨çš„æ˜¯typescriptï¼Œä¸ºäº†ä½¿ç¯å¢ƒå˜é‡æœ‰æç¤ºï¼Œéœ€è¦åœ¨<code>env.d.ts</code>â€‹æ–‡ä»¶ï¼ˆå¦‚æœæ²¡æœ‰åˆ™åˆ›å»ºï¼‰ä¸‹ï¼Œæ·»åŠ ï¼š</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-javascript" data-lang="javascript"><span class="line"><span class="cl"><span class="c1">/// &lt;reference types=&#34;vite/client&#34; /&gt;
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>
</span></span><span class="line"><span class="cl"><span class="kr">interface</span> <span class="nx">ImportMetaEnv</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="nx">readonly</span> <span class="nx">VITE_APP_TITLE</span><span class="o">:</span> <span class="nx">string</span>
</span></span><span class="line"><span class="cl">  <span class="c1">// æ›´å¤šç¯å¢ƒå˜é‡...
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kr">interface</span> <span class="nx">ImportMeta</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="nx">readonly</span> <span class="nx">env</span><span class="o">:</span> <span class="nx">ImportMetaEnv</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>å¦‚æœæ²¡æœ‰ä¿®æ”¹<code>envPrefix</code>â€‹ï¼Œé‚£ä¹ˆè®¿é—®ç¯å¢ƒå˜é‡ä½¿ç”¨çš„æ˜¯<code>import.meta.env.VITE_SOME_KEY</code>â€‹çš„æ–¹å¼ï¼Œåªæœ‰<code>VITE_</code>â€‹æ‰èƒ½è¢«è®¿é—®åˆ°ã€‚éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œè¿™æ˜¯<code>vite</code>â€‹å¯åŠ¨åæ‰èƒ½è®¿é—®åˆ°ï¼Œå¦‚æœæ²¡å¯åŠ¨å‰ï¼Œåœ¨<code>vite.config.ts</code>â€‹æ€ä¹ˆè®¿é—®çš„ç¯å¢ƒå˜é‡å‘¢ï¼Ÿåšæ³•æ˜¯é€šè¿‡<code>loadEnv</code>â€‹å‡½æ•°ï¼Œå¦‚ï¼š</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-javascript" data-lang="javascript"><span class="line"><span class="cl"><span class="kr">import</span> <span class="p">{</span> <span class="nx">defineConfig</span><span class="p">,</span> <span class="nx">loadEnv</span> <span class="p">}</span> <span class="nx">from</span> <span class="s1">&#39;vite&#39;</span>
</span></span><span class="line"><span class="cl"><span class="p">...</span>
</span></span><span class="line"><span class="cl"><span class="kr">export</span> <span class="k">default</span> <span class="nx">defineConfig</span><span class="p">(({</span> <span class="nx">mode</span> <span class="p">}</span><span class="o">:</span> <span class="nx">ConfigEnv</span><span class="p">)</span> <span class="p">=&gt;</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="p">...</span>
</span></span><span class="line"><span class="cl">  <span class="kr">const</span> <span class="nx">env</span> <span class="o">=</span> <span class="nx">loadEnv</span><span class="p">(</span><span class="nx">mode</span><span class="p">,</span> <span class="nx">process</span><span class="p">.</span><span class="nx">cwd</span><span class="p">())</span>
</span></span><span class="line"><span class="cl">  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="sb">`env: </span><span class="si">${</span><span class="nx">env</span><span class="p">.</span><span class="nx">VITE_APP_API_BASE_URL</span><span class="si">}</span><span class="sb">`</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">  <span class="p">...</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>ç¯å¢ƒå˜é‡æ˜¯é…ç½®åœ¨<code>.env</code>â€‹æ–‡ä»¶é‡Œé¢çš„ï¼Œä½¿ç”¨çš„æ˜¯<code>dotenv</code>â€‹ï¼Œä½¿ç”¨<a href="https://github.com/motdotla/dotenv-expand">dotenv-expand</a>æ‰©å±•å˜é‡ï¼Œæ ¹æ®ä¸åŒçš„ç¯å¢ƒåŠ è½½ä¸åŒçš„ç¯å¢ƒå˜é‡ã€‚å¦‚æœç¯å¢ƒå˜é‡åä¸€æ ·ï¼Œä¼˜å…ˆçº§ä¹Ÿä¸ä¸€æ ·ï¼Œè¶Šå°‘è¯¦ç»†çš„ï¼Œä¼˜å…ˆçº§è¶Šé«˜å¦‚ï¼š</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-javascript" data-lang="javascript"><span class="line"><span class="cl"><span class="p">.</span><span class="nx">env</span>                <span class="err">#</span> <span class="nx">æ‰€æœ‰æƒ…å†µä¸‹éƒ½ä¼šåŠ è½½</span>
</span></span><span class="line"><span class="cl"><span class="p">.</span><span class="nx">env</span><span class="p">.</span><span class="nx">local</span>          <span class="err">#</span> <span class="nx">æ‰€æœ‰æƒ…å†µä¸‹éƒ½ä¼šåŠ è½½</span><span class="err">ï¼Œ</span><span class="nx">ä½†ä¼šè¢«</span> <span class="nx">git</span> <span class="nx">å¿½ç•¥</span>
</span></span><span class="line"><span class="cl"><span class="p">.</span><span class="nx">env</span><span class="p">.[</span><span class="nx">mode</span><span class="p">]</span>         <span class="err">#</span> <span class="nx">åªåœ¨æŒ‡å®šæ¨¡å¼ä¸‹åŠ è½½</span>
</span></span><span class="line"><span class="cl"><span class="p">.</span><span class="nx">env</span><span class="p">.[</span><span class="nx">mode</span><span class="p">].</span><span class="nx">local</span>   <span class="err">#</span> <span class="nx">åªåœ¨æŒ‡å®šæ¨¡å¼ä¸‹åŠ è½½</span><span class="err">ï¼Œ</span><span class="nx">ä½†ä¼šè¢«</span> <span class="nx">git</span> <span class="nx">å¿½ç•¥</span>
</span></span></code></pre></td></tr></table>
</div>
</div><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-javascript" data-lang="javascript"><span class="line"><span class="cl"><span class="c1">/// &lt;reference types=&#34;vite/client&#34; /&gt;
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>
</span></span><span class="line"><span class="cl"><span class="kr">interface</span> <span class="nx">ImportMetaEnv</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="nx">readonly</span> <span class="nx">VITE_APP_TITLE</span><span class="o">:</span> <span class="nx">string</span>
</span></span><span class="line"><span class="cl">  <span class="c1">// æ›´å¤šç¯å¢ƒå˜é‡...
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kr">interface</span> <span class="nx">ImportMeta</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="nx">readonly</span> <span class="nx">env</span><span class="o">:</span> <span class="nx">ImportMetaEnv</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="æŒ‰éœ€åŠ è½½å’Œè‡ªåŠ¨å¯¼å…¥">æŒ‰éœ€åŠ è½½å’Œè‡ªåŠ¨å¯¼å…¥ <a href="#%e6%8c%89%e9%9c%80%e5%8a%a0%e8%bd%bd%e5%92%8c%e8%87%aa%e5%8a%a8%e5%af%bc%e5%85%a5" class="anchor">ğŸ”—</a></h3><p>ä¸€èˆ¬æˆ‘ä»¬ä½¿ç”¨åº“çš„æ—¶å€™ï¼Œä½¿ç”¨çš„æ˜¯åº“çš„å¾ˆå°éƒ¨åˆ†åŠŸèƒ½ï¼Œå¦‚æœæ•´ä¸ªåº“å¯¼å…¥çš„è¯ï¼Œé‚£ä¹ˆå¿…å®šä¼šå¯¼è‡´æœ€ç»ˆçš„æ‰“åŒ…æ–‡ä»¶è¿‡å¤§ã€‚æ‰€ä»¥ä¸€èˆ¬æ¥è¯´ï¼Œæˆ‘ä»¬è¦æ±‚æœ€ç»ˆçš„æ‰“åŒ…æ–‡ä»¶éƒ½æ˜¯æŒ‰éœ€å¯¼å…¥çš„ã€‚è¿™æ˜¯é€šè¿‡<code>unplugin-vue-components</code>â€‹è¿™ä¸ªæ’ä»¶æ¥å®Œæˆï¼Œ<code>unplugin-vue-components</code>â€‹æ’ä»¶å†…éƒ¨å†…ç½®äº†å¤šä¸ªå¸¸ç”¨çš„åº“ï¼Œæ¯”å¦‚<code>ElementPlus</code>â€‹çš„é…ç½®ï¼š</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-javascript" data-lang="javascript"><span class="line"><span class="cl"><span class="c1">// æˆ‘ä»¬éœ€è¦é…ç½®dts: &#39;src/type/components.d.ts&#39;, å¦åˆ™ts-lintä¼šæŠ¥é”™
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="nx">plugins</span><span class="o">:</span> <span class="p">[</span>
</span></span><span class="line"><span class="cl">      <span class="p">...</span>
</span></span><span class="line"><span class="cl">      <span class="nx">Components</span><span class="p">({</span>
</span></span><span class="line"><span class="cl">        <span class="nx">resolvers</span><span class="o">:</span> <span class="p">[</span><span class="nx">ElementPlusResolver</span><span class="p">()],</span>
</span></span><span class="line"><span class="cl">        <span class="nx">dts</span><span class="o">:</span> <span class="s1">&#39;src/type/components.d.ts&#39;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">      <span class="p">}),</span>
</span></span><span class="line"><span class="cl">      <span class="p">...</span>
</span></span><span class="line"><span class="cl">    <span class="p">],</span>
</span></span><span class="line"><span class="cl">  <span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>è‡ªåŠ¨å¯¼å…¥æ˜¯è‡ªåŠ¨å¸®ä½ å¯¼å…¥å¯¹åº”çš„å‡½æ•°ç­‰ï¼Œè€Œä¸å¿…è¦è‡ªå·±æ‰‹å·¥å¯¼å…¥ï¼Œä½¿ç”¨çš„æ˜¯ï¼š<code>unplugin-auto-import</code>â€‹è¿™ä¸ªæ’ä»¶ï¼Œæ¯”å¦‚ï¼š</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span><span class="lnt">9
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-javascript" data-lang="javascript"><span class="line"><span class="cl"><span class="c1">// æ²¡ä½¿ç”¨unplugin-auto-importå†™æ³•
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="kr">import</span> <span class="p">{</span> <span class="nx">computed</span><span class="p">,</span> <span class="nx">ref</span> <span class="p">}</span> <span class="nx">from</span> <span class="s1">&#39;vue&#39;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kr">const</span> <span class="nx">count</span> <span class="o">=</span> <span class="nx">ref</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="kr">const</span> <span class="nx">doubled</span> <span class="o">=</span> <span class="nx">computed</span><span class="p">(()</span> <span class="p">=&gt;</span> <span class="nx">count</span><span class="p">.</span><span class="nx">value</span> <span class="o">*</span> <span class="mi">2</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">// ä½¿ç”¨unplugin-auto-importçš„å†™æ³•
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="kr">const</span> <span class="nx">count</span> <span class="o">=</span> <span class="nx">ref</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="kr">const</span> <span class="nx">doubled</span> <span class="o">=</span> <span class="nx">computed</span><span class="p">(()</span> <span class="p">=&gt;</span> <span class="nx">count</span><span class="p">.</span><span class="nx">value</span> <span class="o">*</span> <span class="mi">2</span><span class="p">)</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>é…ç½®ï¼š</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-javascript" data-lang="javascript"><span class="line"><span class="cl"><span class="nx">plugins</span><span class="o">:</span> <span class="p">[</span>
</span></span><span class="line"><span class="cl">      <span class="p">...</span>
</span></span><span class="line"><span class="cl">      <span class="nx">AutoImport</span><span class="p">({</span>
</span></span><span class="line"><span class="cl">        <span class="nx">resolvers</span><span class="o">:</span> <span class="p">[</span><span class="nx">ElementPlusResolver</span><span class="p">()],</span>
</span></span><span class="line"><span class="cl">        <span class="c1">// è‡ªå®šå¼•å…¥ Vue VueRouter API,å¦‚æœè¿˜éœ€è¦å…¶ä»–çš„å¯ä»¥è‡ªè¡Œå¼•å…¥
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>        <span class="nx">imports</span><span class="o">:</span> <span class="p">[</span><span class="s1">&#39;vue&#39;</span><span class="p">,</span> <span class="s1">&#39;vue-router&#39;</span><span class="p">],</span>
</span></span><span class="line"><span class="cl">        <span class="c1">// è°ƒæ•´è‡ªåŠ¨å¼•å…¥çš„æ–‡ä»¶ä½ç½®
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>        <span class="nx">dts</span><span class="o">:</span> <span class="s1">&#39;src/type/auto-import.d.ts&#39;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="c1">// è§£å†³è‡ªåŠ¨å¼•å…¥eslintæŠ¥é”™é—®é¢˜ éœ€è¦åœ¨eslintrcçš„extendé€‰é¡¹ä¸­å¼•å…¥
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>        <span class="nx">eslintrc</span><span class="o">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">          <span class="nx">enabled</span><span class="o">:</span> <span class="kc">true</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">          <span class="c1">// é…ç½®æ–‡ä»¶çš„ä½ç½®
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>          <span class="nx">filepath</span><span class="o">:</span> <span class="s1">&#39;./.eslintrc-auto-import.json&#39;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">          <span class="nx">globalsPropValue</span><span class="o">:</span> <span class="kc">true</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="p">},</span>
</span></span><span class="line"><span class="cl">      <span class="p">}),</span>
</span></span><span class="line"><span class="cl">      <span class="p">...</span>
</span></span><span class="line"><span class="cl">  <span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>vscodeç­‰ä¸€å†™ç¼–è¾‘å™¨ä¹Ÿä¼šè‡ªåŠ¨å¯¼å…¥åº“ï¼Œè‡ªå·±è¾“å…¥å‡½æ•°æ—¶å°±æœ‰å¼¹æ¡†é€‰æ‹©ï¼Œä¸æ­¤ä¸åŒçš„æ˜¯ï¼Œç›´æ¥çš„æ–‡ä»¶ä¸Šé¢è‡ªåŠ¨å¯¼å…¥ã€‚è‡³äºæ˜¯å¦éœ€è¦ä½¿ç”¨è¿™ä¸ªåº“ï¼Œçœ‹æ¯ä¸ªäººçš„å£å‘³ã€‚</p>
<p>éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œæ­¤ä¸¤ä¸ªæ’ä»¶æ˜¯<code>vite</code>â€‹çš„æ’ä»¶ï¼Œéœ€è¦è¿è¡Œ<code>vite</code>â€‹çš„æ—¶å€™ï¼Œæ‰ä¼šç”Ÿæˆå¯¹åº”çš„<code>.d.ts</code>â€‹æ–‡ä»¶ã€‚</p>
<h3 id="ä»£ç†">ä»£ç† <a href="#%e4%bb%a3%e7%90%86" class="anchor">ğŸ”—</a></h3><p>ä»£ç†ä¸»è¦æ˜¯ä¸ºäº†è§£å†³è·¨åŸŸé—®é¢˜ï¼Œåç«¯æœåŠ¡å¯èƒ½æœ‰å¤šä¸ªï¼Œæœ‰æ—¶å€™ä¹Ÿè¦å’Œåç«¯å¼€å‘è”è°ƒã€‚<code>vite</code>â€‹é…ç½®å¦‚ä¸‹ï¼š</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-javascript" data-lang="javascript"><span class="line"><span class="cl"><span class="nx">server</span><span class="o">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="nx">proxy</span><span class="o">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="c1">// ä½¿ç”¨ proxy å®ä¾‹ï¼ŒVITE_APP_API_BASE_URLå¯ä»¥é…ç½®åœ¨ç¯å¢ƒå˜é‡
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>        <span class="s1">&#39;/api&#39;</span><span class="o">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">          <span class="nx">target</span><span class="o">:</span> <span class="nx">env</span><span class="p">.</span><span class="nx">VITE_APP_API_BASE_URL</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">          <span class="nx">changeOrigin</span><span class="o">:</span> <span class="kc">true</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">          <span class="nx">rewrite</span><span class="o">:</span> <span class="nx">path</span> <span class="p">=&gt;</span> <span class="nx">path</span><span class="p">.</span><span class="nx">replace</span><span class="p">(</span><span class="sr">/^\/api/</span><span class="p">,</span> <span class="s1">&#39;/api&#39;</span><span class="p">),</span>
</span></span><span class="line"><span class="cl">        <span class="p">},</span>
</span></span><span class="line"><span class="cl">      <span class="p">},</span>
</span></span><span class="line"><span class="cl">    <span class="p">},</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>æ³¨æ„çš„æ—¶å€™<code>target</code>â€‹æ˜¯è¦ä»¥<code>http</code>â€‹æˆ–<code>https</code>â€‹å¼€å¤´ï¼Œæ ¹æ®ä¸åŒçš„ç¯å¢ƒé…ç½®ä¸åŒ<code>target</code>â€‹ã€‚</p>
<h3 id="mock">mock <a href="#mock" class="anchor">ğŸ”—</a></h3><p>åœ¨åç«¯è¿˜æ²¡æœ‰å¼€å‘å¥½æˆ–è€…ä¸å…·å¤‡è”è°ƒï¼Œè€Œä¸”æ¥å£æ–‡æ¡£å·²ç»åˆ¶å®šå¥½çš„æƒ…å†µä¸‹ï¼Œå‰ç«¯å¯ä»¥ç›´æ¥<code>mock</code>â€‹æ•°æ®è¿›è¡Œæµ‹è¯•ã€‚åˆæˆ–è€…æ˜¯è¦åšæ¼”ç¤ºçš„æ—¶å€™ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨<code>mock</code>â€‹æ•°æ®ã€‚æ˜¯é€šè¿‡<code>vite-plugin-mock</code>â€‹æ’ä»¶å®ç°çš„ï¼Œ<code>mock</code>â€‹æ•°æ®çš„ç”Ÿæˆå¯ä»¥ä½¿ç”¨<code>mockjs</code>â€‹ã€‚<code>vite</code>â€‹é…ç½®å¦‚ä¸‹ï¼š</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-javascript" data-lang="javascript"><span class="line"><span class="cl"><span class="nx">plugins</span><span class="o">:</span> <span class="p">[</span>
</span></span><span class="line"><span class="cl">      <span class="p">...</span>
</span></span><span class="line"><span class="cl">      <span class="c1">// é…ç½®mock
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>      <span class="nx">viteMockServe</span><span class="p">({</span>
</span></span><span class="line"><span class="cl">        <span class="nx">mockPath</span><span class="o">:</span> <span class="s1">&#39;mock&#39;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="c1">// æ ¹æ®å®é™…æƒ…å†µå¼€å¯æˆ–è€…å…³é—­
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>        <span class="nx">enable</span><span class="o">:</span> <span class="kc">true</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="nx">logger</span><span class="o">:</span> <span class="kc">true</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">      <span class="p">}),</span>
</span></span><span class="line"><span class="cl">      <span class="p">...</span>
</span></span><span class="line"><span class="cl">    <span class="p">],</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>â€‹<code>mock</code>â€‹ç›®å½•æ–‡ä»¶ç¤ºä¾‹ï¼š</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-javascript" data-lang="javascript"><span class="line"><span class="cl"><span class="kr">import</span> <span class="p">{</span> <span class="nx">MockMethod</span> <span class="p">}</span> <span class="nx">from</span> <span class="s1">&#39;vite-plugin-mock&#39;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kr">const</span> <span class="nx">mockList</span><span class="o">:</span> <span class="nx">MockMethod</span><span class="p">[]</span> <span class="o">=</span> <span class="p">[</span>
</span></span><span class="line"><span class="cl"> <span class="p">...</span>
</span></span><span class="line"><span class="cl">  <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nx">url</span><span class="o">:</span> <span class="s1">&#39;/api/login&#39;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nx">method</span><span class="o">:</span> <span class="s1">&#39;post&#39;</span><span class="p">,</span> <span class="c1">// è¯·æ±‚æ–¹å¼
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="nx">statusCode</span><span class="o">:</span> <span class="mi">200</span><span class="p">,</span> <span class="c1">// è¿”å›çš„httpçŠ¶æ€ç 
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="nx">response</span><span class="o">:</span> <span class="nx">opt</span> <span class="p">=&gt;</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">opt</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">      <span class="k">return</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="c1">// è¿”å›çš„ç»“æœé›†
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>        <span class="nx">statusCode</span><span class="o">:</span> <span class="mi">200</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="nx">desc</span><span class="o">:</span> <span class="s1">&#39;ç™»å½•æˆåŠŸ&#39;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="nx">result</span><span class="o">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">          <span class="nx">name</span><span class="o">:</span> <span class="s1">&#39;hello&#39;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="p">},</span>
</span></span><span class="line"><span class="cl">      <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="p">},</span>
</span></span><span class="line"><span class="cl">  <span class="p">},</span>
</span></span><span class="line"><span class="cl">  <span class="p">...</span>
</span></span><span class="line"><span class="cl"><span class="p">]</span>
</span></span><span class="line"><span class="cl"><span class="kr">export</span> <span class="k">default</span> <span class="nx">mockList</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>å½“å¼€å¯<code>mock</code>â€‹æ—¶ï¼Œ<code>proxy</code>â€‹ä¸ç”Ÿæ•ˆã€‚</p>
<h2 id="å…¶ä»–">å…¶ä»– <a href="#%e5%85%b6%e4%bb%96" class="anchor">ğŸ”—</a></h2><h3 id="é˜²æŠ–å’ŒèŠ‚æµ">é˜²æŠ–å’ŒèŠ‚æµ <a href="#%e9%98%b2%e6%8a%96%e5%92%8c%e8%8a%82%e6%b5%81" class="anchor">ğŸ”—</a></h3><p>é˜²æŠ–å’ŒèŠ‚æµæ˜¯å‰ç«¯æ€§èƒ½ä¼˜åŒ–çš„ä¸¤ç§æ–¹æ³•ï¼ŒåŒæ—¶ä¹Ÿå¯ä»¥é¿å…ä¸€äº›åç«¯è€ƒè™‘ä¸å‘¨å‡ºç°çš„ä¸€äº›æ„å¤–é—®é¢˜(æ¯”å¦‚çŸ­æ—¶é—´å†…å‡ºç°å¤šèµ·åŒæ ·çš„ä¸šåŠ¡)ã€‚</p>
<p>é˜²æŠ–çš„æ„æ€æ˜¯ï¼šæŒ‡è§¦å‘äº‹ä»¶åï¼Œåœ¨nç§’å†…å‡½æ•°åªæ‰§è¡Œä¸€æ¬¡ï¼Œå¦‚æœåœ¨nç§’å†…åˆè§¦å‘äº†äº‹ä»¶ï¼Œåˆ™ä¼šé‡æ–°è®¡ç®—å‡½æ•°æ‰§è¡Œæ—¶é—´ã€‚ç®€å•æ¥è¯´ï¼Œå°±æ˜¯è®©æŸä¸ªå‡½æ•°åœ¨ä¸€å®šæ—¶é—´å†…åªæ‰§è¡Œä¸€æ¬¡ï¼Œå¦‚æœæœŸé—´æœ‰å¤šæ¬¡è°ƒç”¨ï¼Œåˆ™ä»¥<code>æœ€åä¸€æ¬¡ä¸ºå‡†</code>â€‹ã€‚</p>
<p>èŠ‚æµçš„æ„æ€æ˜¯ï¼šæŒ‡è¿ç»­è§¦å‘äº‹ä»¶ä½†æ˜¯åœ¨nç§’å†…åªæ‰§è¡Œä¸€æ¬¡å‡½æ•°ã€‚ç®€å•æ¥è¯´ï¼Œ<code>å°±æ˜¯æŸä¸ªå‡½æ•°åœ¨ä¸€å®šæ—¶é—´å†…åªæ‰§è¡Œä¸€æ¬¡</code>â€‹ï¼Œæ— è®ºç”¨æˆ·è§¦å‘äº†å¤šå°‘æ¬¡ã€‚</p>
<p>ä¸¤è€…åŒºåˆ«åœ¨äºæ‰§è¡Œçš„æ—¶æœºï¼Œé˜²æŠ–æ˜¯åœ¨<strong>æŸä¸ªæ—¶é—´æ®µå†…æœ€åä¸€æ¬¡è§¦å‘åæ‰§è¡Œ</strong>ï¼Œè€Œ<strong>èŠ‚æµæ˜¯åœ¨æŸä¸ªæ—¶é—´æ®µå†…å‡åŒ€æ‰§è¡Œä¸€æ¬¡</strong>ã€‚</p>
<p>å®ç°è¿™ä¸¤ä¸ªåŠŸèƒ½ï¼Œä¸€èˆ¬ä½¿ç”¨çš„æ—¶å€™<code>lodash</code>â€‹åº“ï¼Œ<code>debounce</code>â€‹å‡½æ•°å®ç°é˜²æŠ–ï¼Œ<code>throttle</code>â€‹å®ç°èŠ‚æµã€‚</p>
<h2 id="å…¶ä»–é—®é¢˜">å…¶ä»–é—®é¢˜ <a href="#%e5%85%b6%e4%bb%96%e9%97%ae%e9%a2%98" class="anchor">ğŸ”—</a></h2><h3 id="extends">extends <a href="#extends" class="anchor">ğŸ”—</a></h3><p>ä»æ—§çš„é¡¹ç›®æ¥ï¼Œç»å¸¸ä¼šç¢°åˆ°åœ¨tsconfigçš„é…ç½®é‡Œé¢<code>extends</code>â€‹çš„é…ç½®é¡¹ï¼Œç”±äºæ–°ç‰ˆåˆ é™¤äº†è¿™äº›é…ç½®ï¼Œæ‰€ä»¥ç›´æ¥æŠ¥é”™ï¼Œä¿®æ”¹ï¼š</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-javascript" data-lang="javascript"><span class="line"><span class="cl"><span class="s2">&#34;extends&#34;</span><span class="o">:</span> <span class="p">[</span>
</span></span><span class="line"><span class="cl">    <span class="s2">&#34;@vue/tsconfig/tsconfig.web.json&#34;</span>
</span></span><span class="line"><span class="cl">  <span class="p">],</span>
</span></span><span class="line"><span class="cl"><span class="p">=&gt;</span>
</span></span><span class="line"><span class="cl"><span class="s2">&#34;extends&#34;</span><span class="o">:</span> <span class="p">[</span>
</span></span><span class="line"><span class="cl">    <span class="s2">&#34;@vue/tsconfig/tsconfig.dom.json&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="s2">&#34;@vue/tsconfig/tsconfig.lib.json&#34;</span>
</span></span><span class="line"><span class="cl">  <span class="p">],</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="s2">&#34;extends&#34;</span><span class="o">:</span> <span class="p">[</span>
</span></span><span class="line"><span class="cl">    <span class="s2">&#34;@vue/tsconfig/tsconfig.node.json&#34;</span>
</span></span><span class="line"><span class="cl">  <span class="p">],</span>
</span></span><span class="line"><span class="cl"><span class="p">=&gt;</span>
</span></span><span class="line"><span class="cl"><span class="s2">&#34;extends&#34;</span><span class="o">:</span> <span class="p">[</span>
</span></span><span class="line"><span class="cl">    <span class="s2">&#34;@vue/tsconfig/tsconfig.json&#34;</span>
</span></span><span class="line"><span class="cl">  <span class="p">],</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="esm">esm <a href="#esm" class="anchor">ğŸ”—</a></h3><p>æ–°ç”Ÿæˆçš„é¡¹ç›®åŸºæœ¬éƒ½æ˜¯å…¨é¢æ‹¥æŠ±esmï¼Œå…·ä½“çš„è¡¨ç°ä¸ºï¼Œåœ¨<code>package.json</code>â€‹é‡Œé¢å¤šäº†ä¸€ä¸ªé…ç½®é¡¹ï¼š<code>&quot;type&quot;: &quot;module&quot;ã€‚</code>â€‹è€Œå¾ˆå¤šå·¥å…·ç”Ÿæˆçš„æ˜¯<code>CommonJS</code>â€‹æ ¼å¼ï¼Œå¯¼è‡´æŠ¥é”™ï¼Œæœ€ç®€å•çš„æ–¹å¼æ˜¯æŠŠ<code>js</code>â€‹æ‰©å±•åæ”¹ä¸º<code>cjs</code>â€‹æ‰©å±•åã€‚æˆ–è€…æ”¹ä¸ºesmæ¨¡å¼ï¼Œæ¯”å¦‚<code>postcss.config.js</code>â€‹ï¼š</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-javascript" data-lang="javascript"><span class="line"><span class="cl"><span class="c1">// module.exports = {
</span></span></span><span class="line"><span class="cl"><span class="c1">//   plugins: {
</span></span></span><span class="line"><span class="cl"><span class="c1">//     tailwindcss: {},
</span></span></span><span class="line"><span class="cl"><span class="c1">//     autoprefixer: {},
</span></span></span><span class="line"><span class="cl"><span class="c1">//   },
</span></span></span><span class="line"><span class="cl"><span class="c1">// }
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>
</span></span><span class="line"><span class="cl"><span class="kr">export</span> <span class="k">default</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="nx">plugins</span><span class="o">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nx">tailwindcss</span><span class="o">:</span> <span class="p">{},</span>
</span></span><span class="line"><span class="cl">    <span class="nx">autoprefixer</span><span class="o">:</span> <span class="p">{},</span>
</span></span><span class="line"><span class="cl">  <span class="p">},</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="å‚è€ƒ">å‚è€ƒ <a href="#%e5%8f%82%e8%80%83" class="anchor">ğŸ”—</a></h2><p><a href="/raw/vite/vite.config.ts">vite.config.ts</a></p>
<p>â€</p>

    </div>

    
</section>


                <hr>
                

<div id="gitalk-container"></div>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/gitalk@1/dist/gitalk.css" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/gitalk@1/dist/gitalk.min.js" crossorigin="anonymous"></script>
    <script type="text/javascript">
      var gitalk = new Gitalk({
        id: '2024-01-08 16:00:10 \u002b0800 CST',
        title: 'å‰ç«¯ä¿å§†çº§é…ç½®',
        clientID: '72786bf87c19beec6abe',
        clientSecret: '93ce647699b49ea6434332d36b0122a4ad8281ad',
        repo: 'buf1024.github.io',
        owner: 'buf1024',
        admin: ['buf1024'],
        body: decodeURI(location.href)
      });
      gitalk.render('gitalk-container');
    </script>
    <noscript>Please enable JavaScript to view the <a href="https://github.com/gitalk/gitalk">comments powered by gitalk.</a></noscript>

            </div>
        </div>

        <div class="side">
            
            <div class="side-recent">
    <h2 class="side-title">
        <a href="/post/">Recent Post</a>
    </h2>
    <hr />

    <ul>
        
            <li>
                <a href="/post/2024-01-08-%E5%89%8D%E7%AB%AF%E4%BF%9D%E5%A7%86%E7%BA%A7%E9%85%8D%E7%BD%AE/">å‰ç«¯ä¿å§†çº§é…ç½®</a>
            </li>
        
            <li>
                <a href="/post/2023-12-26-rust-proc-macro/">rust è¿‡ç¨‹å®</a>
            </li>
        
            <li>
                <a href="/post/2023-09-21-rust-panic/">ä¸€è¡Œä»£ç è®© rustc panic</a>
            </li>
        
            <li>
                <a href="/post/2023-07-19-flutter-muti-window/">Flutter æ¡Œé¢ç«¯å¤šçª—å£æ”¯æŒ</a>
            </li>
        
            <li>
                <a href="/post/2023-07-04-hiqradio/">hiqradio ä¸€ä¸ªç®€å•çš„æ”¶éŸ³æœºè½¯ä»¶</a>
            </li>
        
    </ul>
</div>

            
            <div class="side-recent">
    <h2 class="side-title">
        <a href="/talib-doc/">Recent Talib doc</a>
    </h2>
    <hr />

    <ul>
        
            <li>
                <a href="/talib-doc/func_groups/math_operators/">16 æ•°å­¦è¿ç®—ç¬¦(Math Operator Functions )</a>
            </li>
        
            <li>
                <a href="/talib-doc/func_groups/math_transform/">15 æ•°å­¦å˜æ¢(Math Transform Functions)</a>
            </li>
        
            <li>
                <a href="/talib-doc/func_groups/statistic_functions/">14 ç»Ÿè®¡åŠŸèƒ½(Statistic Functions)</a>
            </li>
        
            <li>
                <a href="/talib-doc/func_groups/pattern_recognition/">13 å½¢æ€è¯†åˆ«(Pattern Recognition Functions)</a>
            </li>
        
            <li>
                <a href="/talib-doc/func_groups/cycle_indicators/">12 å‘¨æœŸæŒ‡æ ‡(Cycle Indicator Functions)</a>
            </li>
        
    </ul>
</div>

            
            <div class="side-categories">
    <h2>Categories</h2>
    <hr />

    <ul>
        
            <li>
                <a href="/categories/android">android(1)</a>
            </li>
        
            <li>
                <a href="/categories/app">app(1)</a>
            </li>
        
            <li>
                <a href="/categories/asm">asm(2)</a>
            </li>
        
            <li>
                <a href="/categories/c">c(6)</a>
            </li>
        
            <li>
                <a href="/categories/django">django(1)</a>
            </li>
        
            <li>
                <a href="/categories/flutter">flutter(7)</a>
            </li>
        
            <li>
                <a href="/categories/frontend">frontend(1)</a>
            </li>
        
            <li>
                <a href="/categories/gcc">gcc(2)</a>
            </li>
        
            <li>
                <a href="/categories/gdb">gdb(1)</a>
            </li>
        
            <li>
                <a href="/categories/git">git(2)</a>
            </li>
        
            <li>
                <a href="/categories/go">go(1)</a>
            </li>
        
            <li>
                <a href="/categories/http">http(1)</a>
            </li>
        
            <li>
                <a href="/categories/https">https(1)</a>
            </li>
        
            <li>
                <a href="/categories/linux">linux(7)</a>
            </li>
        
            <li>
                <a href="/categories/mac">mac(1)</a>
            </li>
        
            <li>
                <a href="/categories/misc">misc(9)</a>
            </li>
        
            <li>
                <a href="/categories/multi_window">multi_window(1)</a>
            </li>
        
            <li>
                <a href="/categories/orm">orm(1)</a>
            </li>
        
            <li>
                <a href="/categories/os">os(2)</a>
            </li>
        
            <li>
                <a href="/categories/python">python(4)</a>
            </li>
        
            <li>
                <a href="/categories/reactjs">reactjs(3)</a>
            </li>
        
            <li>
                <a href="/categories/rust">rust(6)</a>
            </li>
        
            <li>
                <a href="/categories/ssh">ssh(1)</a>
            </li>
        
            <li>
                <a href="/categories/tcp">tcp(6)</a>
            </li>
        
            <li>
                <a href="/categories/tdd">tdd(1)</a>
            </li>
        
            <li>
                <a href="/categories/unittest">unittest(2)</a>
            </li>
        
            <li>
                <a href="/categories/vcs">vcs(1)</a>
            </li>
        
            <li>
                <a href="/categories/vim">vim(3)</a>
            </li>
        
            <li>
                <a href="/categories/web">web(2)</a>
            </li>
        
            <li>
                <a href="/categories/webui">webui(1)</a>
            </li>
        
            <li>
                <a href="/categories/windows">windows(1)</a>
            </li>
        
            <li>
                <a href="/categories/%E6%94%B6%E9%9F%B3%E6%9C%BA">æ”¶éŸ³æœº(1)</a>
            </li>
        
            <li>
                <a href="/categories/%E6%9E%84%E6%9E%B6">æ„æ¶(3)</a>
            </li>
        
            <li>
                <a href="/categories/%E9%87%8F%E5%8C%96">é‡åŒ–(2)</a>
            </li>
        
    </ul>
</div>

            <div class="side-tags">
    <h2>Tags</h2>
    <hr />

    <ul>
        
            <li>
                <a href="/tags/android">android (3)</a>
            </li>
        
            <li>
                <a href="/tags/asm">asm (2)</a>
            </li>
        
            <li>
                <a href="/tags/bt">bt (1)</a>
            </li>
        
            <li>
                <a href="/tags/c">c (20)</a>
            </li>
        
            <li>
                <a href="/tags/c&#43;&#43;">c&#43;&#43; (1)</a>
            </li>
        
            <li>
                <a href="/tags/coroutine">coroutine (1)</a>
            </li>
        
            <li>
                <a href="/tags/css">css (2)</a>
            </li>
        
            <li>
                <a href="/tags/django">django (1)</a>
            </li>
        
            <li>
                <a href="/tags/flutter">flutter (6)</a>
            </li>
        
            <li>
                <a href="/tags/frontend">frontend (1)</a>
            </li>
        
            <li>
                <a href="/tags/gas">gas (2)</a>
            </li>
        
            <li>
                <a href="/tags/gcc">gcc (2)</a>
            </li>
        
            <li>
                <a href="/tags/gdb">gdb (1)</a>
            </li>
        
            <li>
                <a href="/tags/git">git (3)</a>
            </li>
        
            <li>
                <a href="/tags/go">go (1)</a>
            </li>
        
            <li>
                <a href="/tags/gtest">gtest (3)</a>
            </li>
        
            <li>
                <a href="/tags/html">html (1)</a>
            </li>
        
            <li>
                <a href="/tags/http">http (2)</a>
            </li>
        
            <li>
                <a href="/tags/https">https (1)</a>
            </li>
        
            <li>
                <a href="/tags/javascript">javascript (1)</a>
            </li>
        
            <li>
                <a href="/tags/jquery">jquery (1)</a>
            </li>
        
            <li>
                <a href="/tags/js">js (2)</a>
            </li>
        
            <li>
                <a href="/tags/libevent">libevent (1)</a>
            </li>
        
            <li>
                <a href="/tags/linux">linux (10)</a>
            </li>
        
            <li>
                <a href="/tags/mac">mac (1)</a>
            </li>
        
            <li>
                <a href="/tags/makefile">makefile (1)</a>
            </li>
        
            <li>
                <a href="/tags/minix3">minix3 (2)</a>
            </li>
        
            <li>
                <a href="/tags/misc">misc (1)</a>
            </li>
        
            <li>
                <a href="/tags/orm">orm (1)</a>
            </li>
        
            <li>
                <a href="/tags/os">os (2)</a>
            </li>
        
            <li>
                <a href="/tags/proc">proc (1)</a>
            </li>
        
            <li>
                <a href="/tags/python">python (7)</a>
            </li>
        
            <li>
                <a href="/tags/react-native">react-native (2)</a>
            </li>
        
            <li>
                <a href="/tags/redis">redis (2)</a>
            </li>
        
            <li>
                <a href="/tags/rpm">rpm (1)</a>
            </li>
        
            <li>
                <a href="/tags/rsa">rsa (1)</a>
            </li>
        
            <li>
                <a href="/tags/rust">rust (3)</a>
            </li>
        
            <li>
                <a href="/tags/rust-lib">rust-lib (3)</a>
            </li>
        
            <li>
                <a href="/tags/server">server (1)</a>
            </li>
        
            <li>
                <a href="/tags/sqlalchemy">sqlalchemy (1)</a>
            </li>
        
            <li>
                <a href="/tags/ssh">ssh (1)</a>
            </li>
        
            <li>
                <a href="/tags/ssl/tls">ssl/tls (1)</a>
            </li>
        
            <li>
                <a href="/tags/tcp">tcp (7)</a>
            </li>
        
            <li>
                <a href="/tags/tcp-optition">tcp-optition (1)</a>
            </li>
        
            <li>
                <a href="/tags/tcpdump">tcpdump (1)</a>
            </li>
        
            <li>
                <a href="/tags/tdd">tdd (2)</a>
            </li>
        
            <li>
                <a href="/tags/tidbit">tidbit (1)</a>
            </li>
        
            <li>
                <a href="/tags/vc">vc (1)</a>
            </li>
        
            <li>
                <a href="/tags/vcs">vcs (3)</a>
            </li>
        
            <li>
                <a href="/tags/vim">vim (3)</a>
            </li>
        
            <li>
                <a href="/tags/vite">vite (1)</a>
            </li>
        
            <li>
                <a href="/tags/webui">webui (1)</a>
            </li>
        
            <li>
                <a href="/tags/win32">win32 (1)</a>
            </li>
        
            <li>
                <a href="/tags/wireshark">wireshark (1)</a>
            </li>
        
            <li>
                <a href="/tags/%E6%9E%84%E6%9E%B6">æ„æ¶ (2)</a>
            </li>
        
            <li>
                <a href="/tags/%E9%87%8F%E5%8C%96">é‡åŒ– (2)</a>
            </li>
        
            <li>
                <a href="/tags/%E6%94%B6%E9%9F%B3%E6%9C%BA">æ”¶éŸ³æœº (1)</a>
            </li>
        
            <li>
                <a href="/tags/%E5%BE%AE%E6%9C%8D%E5%8A%A1">å¾®æœåŠ¡ (1)</a>
            </li>
        
            <li>
                <a href="/tags/%E5%BE%AE%E4%BF%A1">å¾®ä¿¡ (1)</a>
            </li>
        
    </ul>
</div>

        </div>
    </main>
    <span class="footer">
    
    <div class="footer-row">
    <span class="footer-item">Copyleft buf2024, since the beginning to forever</span>
    </div>
    
    
</footer>
</body>

</html>